<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.tgy.rtls.data.mapper.check.BserrorcodetestrecordDao">

    <!-- 通用查询映射结果 -->
    <resultMap id="BaseResultMap" type="com.tgy.rtls.data.entity.check.BserrorcodetestrecordEntity">
        <id column="id" property="id" />
        <result column="sendnum" property="sendnum" />
        <result column="receivenum" property="receivenum" />
        <result column="errornum" property="errornum" />
        <result column="errorrate" property="errorrate" />
        <result column="lostrate" property="lostrate" />
        <result column="lost" property="lost" />
        <result column="start" property="start" />
        <result column="end" property="end" />
        <result column="tagcheckid" property="tagcheckid" />
        <result column="state" property="state" />
        <result column="bsid" property="bsid" />
        <result column="testcount" property="testcount" />
        <result column="testinterval" property="testinterval" />
    </resultMap>

    <!-- 通用查询结果列 -->
    <sql id="Base_Column_List">
        id, sendnum, receivenum, errornum, rate, errorrate,lostrate, start, end, tagcheckid,state,bsid,testcount,testinterval
    </sql>
    <select id="getByTagCheckid" resultType="com.tgy.rtls.data.entity.check.BserrorcodetestrecordEntity">
        select * from bserrorcodetestrecord where 1=1
        <if test="tagcheckid!=null and tagcheckid!=''">
            and tagcheckid=#{tagcheckid}
        </if>
        order by tagcheckid desc
    </select>

    <delete id="deleteByTagCheckid" >
        delete from bserrorcodetestrecord where
        <if test="tagcheckid!=null and tagcheckid!=''">
            tagcheckid=#{tagcheckid}
        </if>
    </delete>
    <update id = "truncateUser"> TRUNCATE table bserrorcodetestrecord </update>

</mapper>
