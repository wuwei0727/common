<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.tgy.rtls.data.mapper.view.FindCarMapper">
    <insert id="insertFindCar">
        insert into p_findcar (`map`,`timestamp`)
        values (#{findcar.map},#{findcar.timestamp})
    </insert>









    <select id="selectList" resultType="com.tgy.rtls.data.entity.view.PFindCar">
        select p.map,p.timestamp,m.name
        from p_findcar p left join map_2d m on m.id = p.map
        where 1=1
        <if test="findCar != null and findCar.map != null">
            and `map` = #{findCar.map}
        </if>
    </select>

    <insert id="insertInfraredOrigin">
        insert into infrared_original (`gatewaynum`,`timestamp`,infrarednum)
        values (#{infrared.gatewaynum},#{infrared.timestamp},#{infrared.infrarednum})
    </insert>
</mapper>