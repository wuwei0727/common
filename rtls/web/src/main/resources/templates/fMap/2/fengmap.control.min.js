!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.navigation=e():t.navigation=e()}(this,function(){return n=[function(t,e,n){t.exports=n(76)},function(t){var e=t.exports={version:"2.6.11"};"number"==typeof __e&&(__e=e)},function(t,e,n){var o=n(36)("wks"),r=n(24),i=n(3).Symbol,u="function"==typeof i,a=t.exports=function(t){return o[t]||(o[t]=u&&i[t]||(u?i:r)("Symbol."+t))};a.store=o},function(t){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)},function(t){function e(t){return t&&t.__esModule?t:{default:t}}t.exports=e},function(t,e,n){var v=n(3),g=n(1),y=n(48),m=n(10),_=n(8),x="prototype",b=function(t,e,n){var o,r,i,u=t&b.F,a=t&b.G,s=t&b.S,l=t&b.P,c=t&b.B,p=t&b.W,f=a?g:g[e]||(g[e]={}),h=f[x],d=a?v:s?v[e]:(v[e]||{})[x];for(o in a&&(n=e),n)r=!u&&d&&void 0!==d[o],r&&_(f,o)||(i=r?d[o]:n[o],f[o]=a&&"function"!=typeof d[o]?n[o]:c&&r?y(i,v):p&&d[o]==i?function(o){var t=function(t,e,n){if(this instanceof o){switch(arguments.length){case 0:return new o;case 1:return new o(t);case 2:return new o(t,e)}return new o(t,e,n)}return o.apply(this,arguments)};return t[x]=o[x],t}(i):l&&"function"==typeof i?y(Function.call,i):i,l&&((f.virtual||(f.virtual={}))[o]=i,t&b.R&&h&&!h[o]&&m(h,o,i)))};b.F=1,b.G=2,b.S=4,b.P=8,b.B=16,b.W=32,b.U=64,b.R=128,t.exports=b},function(t,e,n){var o=n(15),r=n(49),i=n(32),u=Object.defineProperty;e.f=n(7)?Object.defineProperty:function(t,e,n){if(o(t),e=i(e,!0),o(n),r)try{return u(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){t.exports=!n(11)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t){function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}t.exports=e},function(t,e,n){var o=n(6),r=n(17);t.exports=n(7)?function(t,e,n){return o.f(t,e,r(1,n))}:function(t,e,n){return t[e]=n,t}},function(t){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){var o=n(52),r=n(22);t.exports=function(t){return o(r(t))}},function(t,e,n){var r=n(0);function o(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),r(t,o.key,o)}}function i(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t}t.exports=i},function(t){t.exports={}},function(t,e,n){var o=n(16);t.exports=function(t){if(!o(t))throw TypeError(t+" is not an object!");return t}},function(t){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,n){"use strict";var o=n(4),r=n(0);r(e,"__esModule",{value:!0}),e.default=void 0;var i=o(n(79)),u=o(n(9)),a=o(n(85)),s=function t(e){(0,u.default)(this,t),this.size=a.default.FMMap_CONTROL_NORMAL,this.position=null,this.offset=new fm.Vector2(0,0),this.imgURL="resource/style/wedgets/img/",(0,i.default)(this,e)},l=s;e.default=l},function(t){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)},function(t,e,n){var o=n(28);t.exports=function(t){if(!o(t))throw TypeError(t+" is not an object!");return t}},function(t,e,n){var o=n(51),r=n(37);t.exports=Object.keys||function(t){return o(t,r)}},function(t){t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},function(t){t.exports=!0},function(t){var e=0,n=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++e+n).toString(36))}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,n){var o=n(22);t.exports=function(t){return Object(o(t))}},function(t,e,n){"use strict";var o=n(4),r=n(0);r(e,"__esModule",{value:!0}),e.default=void 0;var i=o(n(39));n(91);var u=o(n(9)),a=o(n(13)),s=function(){function t(){(0,u.default)(this,t)}return(0,a.default)(t,null,[{key:"toColor",value:function(t){if("number"==typeof t)return t;var e=t.split(",");return 3<=e.length?(0,i.default)(e[0])<<16|(0,i.default)(e[1])<<8|(0,i.default)(e[2]):(console.error("color format error",t),0)}},{key:"toRgba",value:function(t){if("number"==typeof t)return"rgba("+(0,i.default)(255*new fm.Color(t).r)+","+(0,i.default)(255*new fm.Color(t).g)+","+(0,i.default)(255*new fm.Color(t).b)+",1)";var e=t.split(",");return 3<=e.length?"rgba("+(0,i.default)(e[0])+","+(0,i.default)(e[1])+","+(0,i.default)(e[2])+",1)":t}},{key:"bindEvent",value:function(t,i,e,u){t.addEventListener(e,function(t){var e,n=t||window.event,o=n.target||n.srcElement,r=n.currentTarget;for(Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(t){for(var e=(this.document||this.ownerDocument).querySelectorAll(t),n=e.length;0<=--n&&e.item(n)!==this;);return-1<n});o!==r;)o.matches(i)&&(e=o,u.call(e,n)),o=o.parentNode})}},{key:"toSceneCoord",value:function(t,e){var n=0;return e.groupID&&(n=t.getFMGroup(e.groupID).height),new fm.Vector3(e.x-t.center.x,t.center.y+n,-e.y+t.center.y)}},{key:"removeFormArray",value:function(t,e){var n=t.indexOf(e);-1<n&&t.splice(n,1)}},{key:"scrollTopAnFun",value:function(){var v,g=!1;return function e(n){var o=n.el,r=n.to,t=n.form,i=(n.time,r<t?"up":"bottom"),u=t<r?r-t:r==t?0:t-r,a=10,s=u/a,l=0,c=function(t){var e=t.val,n=t.nbak,o=t.n,r=t.elTop;return"up"==i?r+(n-o)*e:r-(n-o)*e};function p(){v=0,window.setTimeout(function(){var t=Object(n,{to:o.scrollTop});g=!1,e(t)},a+1)}var f=function(){g=!1,v=!1,0==t&&(o.scrollTop=0)},h=function t(){var e;v--,v<=0?f():(e=function(){!1!==v&&(l=c({val:a,nbak:s,n:v,elTop:r,VDIRECTIONE:i}),l&&(o.scrollTop=l),t())},window.setTimeout(e,a))};function d(){g?p():(g=!0,v=s,h())}d()}}},{key:"toVector",value:function(t){return t.hasOwnProperty("z")?new fm.Vector3(t.x,t.y,t.z):new fm.Vector2(t.x,t.y)}},{key:"sleep",value:function(t){for(var e=(new Date).getTime(),n=0;n<1e7&&!((new Date).getTime()-e>t);n++);}}]),t}(),l=s;e.default=l},function(t){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,n){var o=n(56)("wks"),r=n(57),i=n(19).Symbol,u="function"==typeof i,a=t.exports=function(t){return o[t]||(o[t]=u&&i[t]||(u?i:r)("Symbol."+t))};a.store=o},function(t){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){"use strict";var o=n(0);o(e,"__esModule",{value:!0}),e.default=void 0;var r={LEFT_TOP:1,LEFT_BOTTOM:2,RIGHT_TOP:3,RIGHT_BOTTOM:4},i=r;e.default=i},function(t,e,n){var r=n(16);t.exports=function(t,e){if(!r(t))return t;var n,o;if(e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;if("function"==typeof(n=t.valueOf)&&!r(o=n.call(t)))return o;if(!e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},function(t){var e={}.toString;t.exports=function(t){return e.call(t).slice(8,-1)}},function(t){var e=Math.ceil,n=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(0<t?n:e)(t)}},function(t,e,n){var o=n(36)("keys"),r=n(24);t.exports=function(t){return o[t]||(o[t]=r(t))}},function(t,e,n){var o=n(1),r=n(3),i="__core-js_shared__",u=r[i]||(r[i]={});(t.exports=function(t,e){return u[t]||(u[t]=void 0!==e?e:{})})("versions",[]).push({version:o.version,mode:n(23)?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(t){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){t.exports=n(87)},function(t){var e=t.exports={version:"2.6.11"};"number"==typeof __e&&(__e=e)},function(t){var e=Math.ceil,n=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(0<t?n:e)(t)}},function(t){t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,n){"use strict";var o,r,u=n(97),a=RegExp.prototype.exec,s=String.prototype.replace,i=a,l="lastIndex",c=(o=/a/,r=/b*/g,a.call(o,"a"),a.call(r,"a"),0!==o[l]||0!==r[l]),p=void 0!==/()??/.exec("")[1],f=c||p;f&&(i=function(t){var e,n,o,r,i=this;return p&&(n=new RegExp("^"+i.source+"$(?!\\s)",u.call(i))),c&&(e=i[l]),o=a.call(i,t),c&&o&&(i[l]=i.global?o.index+o[0].length:e),p&&o&&1<o.length&&s.call(o[0],n,function(){for(r=1;r<arguments.length-2;r++)void 0===arguments[r]&&(o[r]=void 0)}),o}),t.exports=i},function(t,e,n){var o=n(100),r=n(104);t.exports=n(45)?function(t,e,n){return o.f(t,e,r(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){t.exports=!n(30)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e,n){var o=n(6).f,r=n(8),i=n(2)("toStringTag");t.exports=function(t,e,n){t&&!r(t=n?t:t.prototype,i)&&o(t,i,{configurable:!0,value:e})}},function(t,e,n){var o=n(3),r=n(1),i=n(23),u=n(73),a=n(6).f;t.exports=function(t){var e=r.Symbol||(r.Symbol=!i&&o.Symbol||{});"_"==t.charAt(0)||t in e||a(e,t,{value:u.f(t)})}},function(t,e,n){var i=n(78);t.exports=function(o,r,t){if(i(o),void 0===r)return o;switch(t){case 1:return function(t){return o.call(r,t)};case 2:return function(t,e){return o.call(r,t,e)};case 3:return function(t,e,n){return o.call(r,t,e,n)}}return function(){return o.apply(r,arguments)}}},function(t,e,n){t.exports=!n(7)&&!n(11)(function(){return 7!=Object.defineProperty(n(50)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){var o=n(16),r=n(3).document,i=o(r)&&o(r.createElement);t.exports=function(t){return i?r.createElement(t):{}}},function(t,e,n){var u=n(8),a=n(12),s=n(83)(!1),l=n(35)("IE_PROTO");t.exports=function(t,e){var n,o=a(t),r=0,i=[];for(n in o)n!=l&&u(o,n)&&i.push(n);for(;e.length>r;)u(o,n=e[r++])&&(~s(i,n)||i.push(n));return i}},function(t,e,n){var o=n(33);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==o(t)?t.split(""):Object(t)}},function(t,e,n){var o=n(34),r=Math.min;t.exports=function(t){return 0<t?r(o(t),9007199254740991):0}},function(t){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},function(t){var e={}.toString;t.exports=function(t){return e.call(t).slice(8,-1)}},function(t,e,n){var o=n(40),r=n(19),i="__core-js_shared__",u=r[i]||(r[i]={});(t.exports=function(t,e){return u[t]||(u[t]=void 0!==e?e:{})})("versions",[]).push({version:o.version,mode:n(93)?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(t){var e=0,n=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++e+n).toString(36))}},function(t){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){"use strict";var o=n(95)(!0);t.exports=function(t,e,n){return e+(n?o(t,e).length:1)}},function(t,e,n){var o=n(41),r=Math.min;t.exports=function(t){return 0<t?r(o(t),9007199254740991):0}},function(t,e,n){"use strict";var r=n(96),i=RegExp.prototype.exec;t.exports=function(t,e){var n=t.exec;if("function"==typeof n){var o=n.call(t,e);if("object"!=typeof o)throw new TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==r(t))throw new TypeError("RegExp#exec called on incompatible receiver");return i.call(t,e)}},function(t,e,n){"use strict";n(98);var c=n(63),p=n(44),f=n(30),h=n(42),d=n(29),v=n(43),g=d("species"),y=!f(function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}),m=function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2===n.length&&"a"===n[0]&&"b"===n[1]}();t.exports=function(n,t,e){var i,o,r,u,a=d(n),s=!f(function(){var t={};return t[a]=function(){return 7},7!=""[n](t)}),l=s?!f(function(){var t=!1,e=/a/;return e.exec=function(){return t=!0,null},"split"===n&&(e.constructor={},e.constructor[g]=function(){return e}),e[a](""),!t}):void 0;s&&l&&("replace"!==n||y)&&("split"!==n||m)||(i=/./[a],o=e(h,a,""[n],function(t,e,n,o,r){return e.exec===v?s&&!r?{done:!0,value:i.call(e,n,o)}:{done:!0,value:t.call(n,e,o)}:{done:!1}}),r=o[0],u=o[1],c(String.prototype,n,r),p(RegExp.prototype,a,2==t?function(t,e){return u.call(t,this,e)}:function(t){return u.call(t,this)}))}},function(t,e,n){var i=n(19),u=n(44),a=n(105),s=n(57)("src"),o=n(106),r="toString",l=(""+o).split(r);n(40).inspectSource=function(t){return o.call(t)},(t.exports=function(t,e,n,o){var r="function"==typeof n;r&&(a(n,"name")||u(n,"name",e)),t[e]!==n&&(r&&(a(n,s)||u(n,s,t[e]?""+t[e]:l.join(String(e)))),t===i?t[e]=n:o?t[e]?t[e]=n:u(t,e,n):(delete t[e],u(t,e,n)))})(Function.prototype,r,function(){return"function"==typeof this&&this[s]||o.call(this)})},function(t,e,n){var o=n(109),r=n(113),i=n(143),u=n(144);function a(t){return o(t)||r(t)||i(t)||u()}t.exports=a},function(t,e,n){var o=n(33);t.exports=Array.isArray||function(t){return"Array"==o(t)}},function(t){function e(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}t.exports=e},function(t,e,n){t.exports=n(114)},function(t,e,n){"use strict";var o=n(115)(!0);n(69)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=o(e,n),this._i+=t.length,{value:t,done:!1})})},function(t,e,n){"use strict";var _=n(23),x=n(5),b=n(70),w=n(10),O=n(14),k=n(116),P=n(46),M=n(119),S=n(2)("iterator"),E=!([].keys&&"next"in[].keys()),T="@@iterator",C="keys",L="values",I=function(){return this};t.exports=function(t,e,n,o,r,i,u){k(n,e,o);var a,s,l,c=function(t){if(!E&&t in d)return d[t];switch(t){case C:case L:return function(){return new n(this,t)}}return function(){return new n(this,t)}},p=e+" Iterator",f=r==L,h=!1,d=t.prototype,v=d[S]||d[T]||r&&d[r],g=v||c(r),y=r?f?c("entries"):g:void 0,m="Array"==e&&d.entries||v;if(m&&(l=M(m.call(new t)),l!==Object.prototype&&l.next&&(P(l,p,!0),_||"function"==typeof l[S]||w(l,S,I))),f&&v&&v.name!==L&&(h=!0,g=function(){return v.call(this)}),_&&!u||!E&&!h&&d[S]||w(d,S,g),O[e]=g,O[p]=I,r)if(a={values:f?g:c(L),keys:i?g:c(C),entries:y},u)for(s in a)s in d||b(d,s,a[s]);else x(x.P+x.F*(E||h),e,a);return a}},function(t,e,n){t.exports=n(10)},function(t,e,i){var o=i(15),r=i(117),u=i(37),a=i(35)("IE_PROTO"),s=function(){},l="prototype",c=function(){var t,e=i(50)("iframe"),n=u.length,o="<",r=">";for(e.style.display="none",i(118).appendChild(e),e.src="javascript:",t=e.contentWindow.document,t.open(),t.write(o+"script"+r+"document.F=Object"+o+"/script"+r),t.close(),c=t.F;n--;)delete c[l][u[n]];return c()};t.exports=Object.create||function(t,e){var n;return null!==t?(s[l]=o(t),n=new s,s[l]=null,n[a]=t):n=c(),void 0===e?n:r(n,e)}},function(t,e,n){var r=n(33),i=n(2)("toStringTag"),u="Arguments"==r(function(){return arguments}()),a=function(t,e){try{return t[e]}catch(t){}};t.exports=function(t){var e,n,o;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=a(e=Object(t),i))?n:u?r(e):"Object"==(o=r(e))&&"function"==typeof e.callee?"Arguments":o}},function(t,e,n){e.f=n(2)},function(t,e,n){var o=n(51),r=n(37).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return o(t,r)}},function(t,e,n){"use strict";var o=n(4),r=n(0);r(e,"__esModule",{value:!0}),e.default=void 0;var i,u=o(n(18)),a=o(n(86)),s=o(n(108)),l=o(n(147)),c=o(n(148)),p=o(n(150)),f=window.fengmap||{},h={controlOptions:u.default,FMControlOptions:u.default,zoomControl:a.default,FMZoomControl:a.default,scrollGroupsControl:s.default,FMScrollGroupsControl:s.default,buttonGroupsControl:l.default,FMButtonGroupsControl:l.default,toolControl:c.default,FMToolControl:c.default,FMPopInfoWindow:p.default};for(i in h)h.hasOwnProperty(i)&&(f[i]=h[i]);window.fengmap=f;var d=f;e.default=d},function(t,e,n){n(77);var o=n(1).Object;t.exports=function(t,e,n){return o.defineProperty(t,e,n)}},function(t,e,n){var o=n(5);o(o.S+o.F*!n(7),"Object",{defineProperty:n(6).f})},function(t){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,n){t.exports=n(80)},function(t,e,n){n(81),t.exports=n(1).Object.assign},function(t,e,n){var o=n(5);o(o.S+o.F,"Object",{assign:n(82)})},function(t,e,n){"use strict";var p=n(7),f=n(21),h=n(38),d=n(25),v=n(26),g=n(52),r=Object.assign;t.exports=!r||n(11)(function(){var t={},e={},n=Symbol(),o="abcdefghijklmnopqrst";return t[n]=7,o.split("").forEach(function(t){e[t]=t}),7!=r({},t)[n]||Object.keys(r({},e)).join("")!=o})?function(t){for(var e=v(t),n=arguments.length,o=1,r=h.f,i=d.f;o<n;)for(var u,a=g(arguments[o++]),s=r?f(a).concat(r(a)):f(a),l=s.length,c=0;c<l;)u=s[c++],p&&!i.call(a,u)||(e[u]=a[u]);return e}:r},function(t,e,n){var s=n(12),l=n(53),c=n(84);t.exports=function(a){return function(t,e,n){var o,r=s(t),i=l(r.length),u=c(n,i);if(a&&e!=e){for(;u<i;)if(o=r[u++],o!=o)return!0}else for(;u<i;u++)if((a||u in r)&&r[u]===e)return a||u||0;return!a&&-1}}},function(t,e,n){var o=n(34),r=Math.max,i=Math.min;t.exports=function(t,e){return t=o(t),t<0?r(t+e,0):i(t,e)}},function(t,e,n){"use strict";var o=n(0);o(e,"__esModule",{value:!0}),e.default=void 0;var r={FMMap_CONTROL_SMALL:"small",FMMap_CONTROL_NORMAL:"normal"},i=r;e.default=i},function(t,e,n){"use strict";var o=n(4),r=n(0);r(e,"__esModule",{value:!0}),e.default=void 0;var i=o(n(9)),u=o(n(13)),a=o(n(27)),s=o(n(31)),l=o(n(18)),c=function(){function n(t,e){(0,i.default)(this,n),this._map=t,this._ctrlOpts=new l.default(e),this._ctrlOpts.offset||(this._ctrlOpts.offset={x:0,y:0}),this._dom=null,this._imgUrl=e.imgURL||"resource/style/wedgets/img/",this.init()}return(0,u.default)(n,[{key:"init",value:function(){var t=this,e=this.createPanel();this._dom=e;var n=this;this.checkPosition(this._ctrlOpts.position,this._ctrlOpts.offset,e),a.default.bindEvent(e,"img","mouseover",function(){this.src=this.dataset.on}),a.default.bindEvent(e,"img","mouseout",function(){this.src=this.dataset.leave}),a.default.bindEvent(e,"div","click",function(){"in"===this.dataset.type?n._map.dollyIn():n._map.dollyOut()}),this._map.on("dispose",function(){t._map.getContainer().removeChild(e)})}},{key:"showZoom",value:function(t){this._dom.style.display=t?"block":"none"}},{key:"createPanel",value:function(){var t=document.createElement("div");return t.setAttribute("class","fm-control-zoom"),t.style.zIndex=10,t.style.position="absolute",t.style.backgroundColor="white",t.style.boxShadow="2px 2px 3px rgba(0,0,0, 0.3)",t.style.borderRadius="2px",t.style.left=0,t.style.top=0,this._map.getContainer().appendChild(t),t.innerHTML=this.createInnerHtml(this._imgUrl+"zoomout.png",this._imgUrl+"zoomout_on.png",this._imgUrl+"zoomin.png",this._imgUrl+"zoomin_on.png"),t}},{key:"createInnerHtml",value:function(t,e,n,o){var r='\n       \n            <div data-type="in" style="padding: 14px; cursor: pointer;">\n            <img src='.concat(n," data-leave=").concat(n," data-on=").concat(o,' style="width: 14px; height: 14px;"/>\n             </div>\n            <hr style="height: 1px; border-top: 1px solid rgba(153, 153, 153, 0.45); border-right: none; border-bottom: none; border-left: none; border-image: initial; width: 60%; margin: 0px 20%;">\n            <div data-type="out" style="padding: 14px; cursor: pointer;">\n            <img src=').concat(t," data-leave=").concat(t," data-on=").concat(e,' style="width: 14px; height: 14px;"/>\n            </div>\n        ');return r}},{key:"checkPosition",value:function(t,e,n){switch(n.style.left="",n.style.right="",n.style.top="",n.style.bottom="",t){case s.default.LEFT_TOP:n.style.left=e.x+"px",n.style.top=e.y+"px";break;case s.default.RIGHT_TOP:n.style.right=-e.x+"px",n.style.top=e.y+"px";break;case s.default.LEFT_BOTTOM:n.style.left=e.x+"px",n.style.bottom=-e.y+"px";break;case s.default.RIGHT_BOTTOM:n.style.right=-e.x+"px",n.style.bottom=-e.y+"px"}}}]),n}(),p=c;e.default=p},function(t,e,n){n(88),t.exports=n(1).parseInt},function(t,e,n){var o=n(5),r=n(89);o(o.G+o.F*(parseInt!=r),{parseInt:r})},function(t,e,n){var o=n(3).parseInt,r=n(90).trim,i=n(54),u=/^[-+]?0[xX]/;t.exports=8!==o(i+"08")||22!==o(i+"0x16")?function(t,e){var n=r(String(t),3);return o(n,e>>>0||(u.test(n)?16:10))}:o},function(t,e,n){var u=n(5),o=n(22),a=n(11),s=n(54),r="["+s+"]",l="​",i=RegExp("^"+r+r+"*"),c=RegExp(r+r+"*$"),p=function(t,e,n){var o={},r=a(function(){return!!s[t]()||l[t]()!=l}),i=o[t]=r?e(f):s[t];n&&(o[n]=i),u(u.P+u.F*r,"String",o)},f=p.trim=function(t,e){return t=String(o(t)),1&e&&(t=t.replace(i,"")),2&e&&(t=t.replace(c,"")),t};t.exports=p},function(t,e,n){"use strict";var p=n(92),_=n(20),x=n(94),b=n(59),w=n(60),O=n(61),f=n(43),o=n(30),k=Math.min,h=[].push,u="split",d="length",v="lastIndex",P=4294967295,M=!o(function(){RegExp(P,"y")});n(62)("split",2,function(r,i,g,y){var m="c"=="abbc"[u](/(b)*/)[1]||4!="test"[u](/(?:)/,-1)[d]||2!="ab"[u](/(?:ab)*/)[d]||4!="."[u](/(.?)(.?)/)[d]||1<"."[u](/()()/)[d]||""[u](/.?/)[d]?function(t,e){var n=String(this);if(void 0===t&&0===e)return[];if(!p(t))return g.call(n,t,e);for(var o,r,i,u=[],a=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),s=0,l=void 0===e?P:e>>>0,c=new RegExp(t.source,a+"g");(o=f.call(c,n))&&(r=c[v],!(s<r&&(u.push(n.slice(s,o.index)),1<o[d]&&o.index<n[d]&&h.apply(u,o.slice(1)),i=o[0][d],s=r,u[d]>=l)));)c[v]===o.index&&c[v]++;return s===n[d]?!i&&c.test("")||u.push(""):u.push(n.slice(s)),u[d]>l?u.slice(0,l):u}:"0"[u](void 0,0)[d]?function(t,e){return void 0===t&&0===e?[]:g.call(this,t,e)}:g;return[function(t,e){var n=r(this),o=null==t?void 0:t[i];return void 0!==o?o.call(t,n,e):m.call(String(n),t,e)},function(t,e){var n=y(m,t,this,e,m!==g);if(n.done)return n.value;var o=_(t),r=String(this),i=x(o,RegExp),u=o.unicode,a=(o.ignoreCase?"i":"")+(o.multiline?"m":"")+(o.unicode?"u":"")+(M?"y":"g"),s=new i(M?o:"^(?:"+o.source+")",a),l=void 0===e?P:e>>>0;if(0===l)return[];if(0===r.length)return null===O(s,r)?[r]:[];for(var c=0,p=0,f=[];p<r.length;){s.lastIndex=M?p:0;var h,d=O(s,M?r:r.slice(p));if(null===d||(h=k(w(s.lastIndex+(M?0:p)),r.length))===c)p=b(r,p,u);else{if(f.push(r.slice(c,p)),f.length===l)return f;for(var v=1;v<=d.length-1;v++)if(f.push(d[v]),f.length===l)return f;p=c=h}}return f.push(r.slice(c)),f}]})},function(t,e,n){var o=n(28),r=n(55),i=n(29)("match");t.exports=function(t){var e;return o(t)&&(void 0!==(e=t[i])?!!e:"RegExp"==r(t))}},function(t){t.exports=!1},function(t,e,n){var r=n(20),i=n(58),u=n(29)("species");t.exports=function(t,e){var n,o=r(t).constructor;return void 0===o||null==(n=r(o)[u])?e:i(n)}},function(t,e,n){var s=n(41),l=n(42);t.exports=function(a){return function(t,e){var n,o,r=String(l(t)),i=s(e),u=r.length;return i<0||u<=i?a?"":void 0:(n=r.charCodeAt(i),n<55296||56319<n||i+1===u||(o=r.charCodeAt(i+1))<56320||57343<o?a?r.charAt(i):n:a?r.slice(i,i+2):o-56320+(n-55296<<10)+65536)}}},function(t,e,n){var r=n(55),i=n(29)("toStringTag"),u="Arguments"==r(function(){return arguments}()),a=function(t,e){try{return t[e]}catch(t){}};t.exports=function(t){var e,n,o;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=a(e=Object(t),i))?n:u?r(e):"Object"==(o=r(e))&&"function"==typeof e.callee?"Arguments":o}},function(t,e,n){"use strict";var o=n(20);t.exports=function(){var t=o(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},function(t,e,n){"use strict";var o=n(43);n(99)({target:"RegExp",proto:!0,forced:o!==/./.exec},{exec:o})},function(t,e,n){var v=n(19),g=n(40),y=n(44),m=n(63),_=n(107),x="prototype",b=function(t,e,n){var o,r,i,u,a=t&b.F,s=t&b.G,l=t&b.S,c=t&b.P,p=t&b.B,f=s?v:l?v[e]||(v[e]={}):(v[e]||{})[x],h=s?g:g[e]||(g[e]={}),d=h[x]||(h[x]={});for(o in s&&(n=e),n)r=!a&&f&&void 0!==f[o],i=(r?f:n)[o],u=p&&r?_(i,v):c&&"function"==typeof i?_(Function.call,i):i,f&&m(f,o,i,t&b.U),h[o]!=i&&y(h,o,u),c&&d[o]!=i&&(d[o]=i)};v.core=g,b.F=1,b.G=2,b.S=4,b.P=8,b.B=16,b.W=32,b.U=64,b.R=128,t.exports=b},function(t,e,n){var o=n(20),r=n(101),i=n(103),u=Object.defineProperty;e.f=n(45)?Object.defineProperty:function(t,e,n){if(o(t),e=i(e,!0),o(n),r)try{return u(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){t.exports=!n(45)&&!n(30)(function(){return 7!=Object.defineProperty(n(102)("div"),"a",{get:function(){return 7}}).a})},function(t,e,n){var o=n(28),r=n(19).document,i=o(r)&&o(r.createElement);t.exports=function(t){return i?r.createElement(t):{}}},function(t,e,n){var r=n(28);t.exports=function(t,e){if(!r(t))return t;var n,o;if(e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;if("function"==typeof(n=t.valueOf)&&!r(o=n.call(t)))return o;if(!e&&"function"==typeof(n=t.toString)&&!r(o=n.call(t)))return o;throw TypeError("Can't convert object to primitive value")}},function(t){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},function(t,e,n){t.exports=n(56)("native-function-to-string",Function.toString)},function(t,e,n){var i=n(58);t.exports=function(o,r,t){if(i(o),void 0===r)return o;switch(t){case 1:return function(t){return o.call(r,t)};case 2:return function(t,e){return o.call(r,t,e)};case 3:return function(t,e,n){return o.call(r,t,e,n)}}return function(){return o.apply(r,arguments)}}},function(t,e,n){"use strict";var o=n(4),r=n(0);r(e,"__esModule",{value:!0}),e.default=void 0;var i=o(n(64)),u=o(n(39));n(145);var a,s=o(n(9)),l=o(n(13)),c=o(n(27)),p=o(n(31)),f=o(n(18)),h=function(){function n(t,e){(0,s.default)(this,n),this._map=t,this._ctlOpt=new f.default(e),this._btnWidth=42,this._showBtnCount=this._ctlOpt.showBtnCount||5,this._foucusId=this._map.currentFocusGroup,this._scrollSpeed=10,this._btnPanel=null,this._mainPanel=null,this._ctlOpt.offset||(this._ctlOpt.offset={x:0,y:0}),this._ctlOpt.needAllLayerBtn=null==this._ctlOpt.needAllLayerBtn||this._ctlOpt.needAllLayerBtn,this._allLayer=!!this._ctlOpt.allLayer&&this._ctlOpt.allLayer,this._allLayer&&this._map.showSingerOrMultiGroup(this._allLayer),this.uuid=null,this.init(),this.scrollTopAn_=new c.default.scrollTopAnFun}return(0,l.default)(n,[{key:"init",value:function(){var n=this,t=new Date,e=t.getFullYear(),o=t.getMonth(),r=t.getDate(),i=t.getHours(),u=t.getMinutes(),a=t.getSeconds();i<10&&(i="0"+i),u<10&&(u="0"+u),a<10&&(a="0"+a);var s=e+"/"+o+"/"+r+"/"+i+":"+u+":"+a;this.uuid=String(5*Math.random()).replace(/^(.*\..{4}).*$/,"$1")+s;var l=this.createPanel(this._btnWidth);this._mainPanel=l,this.checkPosition(this._ctlOpt.position,this._ctlOpt.offset,l),this._map.getContainer().appendChild(l);var c=this._map.listGroups.map(function(t){return t.gid}),p=c.length,f=this._showBtnCount,h=!0;p<=this._showBtnCount&&(f=p,h=!1);var d=this.createMultiSwitchButton(this._ctlOpt.imgURL+(this._ctlOpt.allLayer?"layers.png":"layer.png"));this._ctlOpt.needAllLayerBtn&&l.appendChild(d),this._switchBtn=d,h&&l.appendChild(this.createScrollButton(this._ctlOpt.imgURL+"arrow1.png","top"));var v=this.createGroupBtnPanel(f*this._btnWidth+2*(f-1));l.appendChild(v),this._btnPanel=v;for(var g=this._map.listGroups,y=g.length-1;-1<y;y--)v.appendChild(this.createGroupButton(g[y],this._btnWidth)),0<y&&v.appendChild(this.createHr());h&&l.appendChild(this.createScrollButton(this._ctlOpt.imgURL+"arrow2.png","buttom")),v.scrollTop=this.getCenterScrolltopById(this._foucusId,c.length),document.getElementById("gid_"+this._foucusId+this.uuid).style.color="rgb(30, 130, 250)",this.eventBtnPanelInit(v),this.eventPanelInit(l,v,c),this.eventSwitchBtn(d);var m=function(t){var e=n._map.listGroups.map(function(t){return t.gid});t.gid<e[0]||t.gid>e[e.length-1]||(v.scrollTop=n.getCenterScrolltopById(t.gid,e.length),n.setFocusStaus(t.gid))},_=function(t){1<t.gids.length?n.setLayerStatus(!0):n.setLayerStatus(!1)};this._map.on("focusGroupIDChanged",m),this._map.on("visibleGroupIDsChanged",_),this._map.on("dispose",function(){n._map.off("focusGroupIDChanged",m),n._map.off("visibleGroupIDsChanged",_),n._map.getContainer().removeChild(l)}),this._$=function(t){return n.map?n.map.mapView.container_.querySelector(t):document.querySelector(t)}}},{key:"eventSwitchBtn",value:function(t){var e=this;t.addEventListener("click",function(){e._allLayer=!e._allLayer,e._allLayer?t.firstElementChild.src=e._ctlOpt.imgURL+"layers.png":t.firstElementChild.src=e._ctlOpt.imgURL+"layer.png",e._map.showSingerOrMultiGroup(e._allLayer)})}},{key:"eventBtnPanelInit",value:function(n){var o=this,r=this;r.changeScrollBtnPic(),c.default.bindEvent(n,"label","click",function(){r.foucusId=(0,u.default)(this.dataset.gid),r.setFocusStaus(this.dataset.gid)});var t=function(t){r.changeScrollBtnPic();var e=0;t.wheelDelta?e+=-t.wheelDelta:t.detail&&(e+=t.detail),o.scrollTopAn_({el:n,to:n.scrollTop,form:n.scrollTop+e})};n.addEventListener("mousewheel",t,{passive:!0}),n.addEventListener("MozMousePixelScroll",t,!1),n.addEventListener("touchstart",this.touchstart.bind(this),!1),n.addEventListener("touchmove",this.touchmove.bind(this),!1),n.addEventListener("touchend",this.touchend.bind(this),!0)}},{key:"touchstart",value:function(t){t.preventDefault(),this.touchStartPointY=t.touches[0].pageY,this.touchPointX=t.touches[0].pageX,this.touchPointY=t.touches[0].pageY}},{key:"touchmove",value:function(t){t.preventDefault(),this.touchEndPointX=t.touches[0].pageX,this.touchEndPointY=t.touches[0].pageY,this.handleTouchEnd(t)}},{key:"handleTouchEnd",value:function(t){t=t||window.event;var e=this,n=null,o=0;0<t.changedTouches.length&&(e.touchEndPointX=t.changedTouches[0].pageX,e.touchEndPointY=t.changedTouches[0].pageY),n=t.target,n instanceof HTMLSpanElement==1&&(n=n.parentElement);var r,i=e.touchEndPointY-e.touchPointY,o=-i;0!=o&&(e.touchPointX=e.touchEndPointX,e.touchPointY=e.touchEndPointY,r=e._$(".fm-layer-list"),this.scrollTopAn_({el:r,to:r.scrollTop,form:r.scrollTop+o}))}},{key:"touchend",value:function(t){t=t||window.event;var e=this,n=null;0<t.changedTouches.length&&(e.touchEndPointX=t.changedTouches[0].pageX,e.touchEndPointY=t.changedTouches[0].pageY),n=t.target,n instanceof HTMLSpanElement==1&&(n=n.parentElement);var o,r=Math.abs(e.touchEndPointY-e.touchStartPointY);r<5&&0<=r&&n&&(o=(0,u.default)(n.dataset.gid),isNaN(o)||(e.foucusId=o,e.setFocusStaus(o)))}},{key:"eventPanelInit",value:function(t,u,a){var s=this;t.onselectstart=function(){return!1},t.style.MozUserSelect="none",c.default.bindEvent(t,".scroll","click",function(){var t=a.length-Math.floor(u.scrollTop/44)-(s._showBtnCount-1),e=u.scrollTop%44,n=t+s._showBtnCount-1+(0<e?1:0),o=0;if(this.id==="scroll_top"+s.uuid){var r=s._foucusId+1,r=Math.min(a[a.length-1],r);if(s.foucusId==r)return;s.foucusId=r,r<t?o-=0<e?44-e:0:r<=n+1&&r===n+1&&(o-=44+(0<e?44-e:0))}else{var i=s._foucusId-1,i=Math.max(a[0],i);if(s.foucusId==i)return;s.foucusId=i,n<i?o+=0<e?e:0:t-1<=i&&i===t-1&&(o+=44+(0<e?e:0))}0!=o&&s.scrollTopAn_({el:u,to:u.scrollTop,form:u.scrollTop+o})})}},{key:"getCenterScrolltopById",value:function(t,e){var n=e-t-Math.floor(this._showBtnCount/2);return n*(this._btnWidth+2)}},{key:"createPanel",value:function(){var t=document.createElement("div"),e='\n            <div class="fm-control-groups" style ="text-align: center;width: 50px; position: absolute; background-color: white; box-shadow: rgba(0, 0, 0, 0.3) 2px 2px 3px; border-radius: 2px; top: 30px; right: 30px;"></div>\n        ';return t.innerHTML=e.trim(),t.firstChild}},{key:"createGroupBtnPanel",value:function(t){var e=document.createElement("div"),n='\n            <div style = "overflow: hidden; height: '.concat(t,'px;" class="fm-layer-list"> </div\n        ');return e.innerHTML=n.trim(),e.firstChild}},{key:"createMultiSwitchButton",value:function(t){var e=document.createElement("div"),n='\n            <div class="fm-control-groups-layer fm-btn-layer" style="padding: 10px; cursor: pointer;">\n                <img src="'.concat(t,'" style="width: 22px; height: 22px;">\n            </div>\n            ');return e.innerHTML=n.trim(),e.firstChild}},{key:"createHr",value:function(){var t=document.createElement("div"),e='\n            <hr style="height: 1px; border-top: 1px solid rgba(153, 153, 153, 0.45); border-right: none; border-bottom: none; border-left: none; border-image: initial; width: 60%; margin: 0px 20%;">\n        ';return t.innerHTML=e.trim(),t.firstChild}},{key:"createScrollButton",value:function(t,e){var n=document.createElement("div"),o='\n            <div class="scroll" id="scroll_'.concat(e+this.uuid,'" style="height: 18px; background: url(&quot;').concat(t,'&quot;) 50% 50% no-repeat; cursor: pointer;"></div>\n        ');return n.innerHTML=o.trim(),n.firstChild}},{key:"createGroupButton",value:function(t,e){var n=document.createElement("div"),o="<label  data-gid=".concat(t.gid,' id="gid_').concat(t.gid+this.uuid,'" style="display: inline-block; text-align: center; width: ').concat(e,"px; height: ").concat(e,"px; line-height: ").concat(e,'px; margin: 0px; cursor: pointer; font-size: 0.8em; font-weight: bold; color: rgb(102, 102, 102);">\n                        <span>').concat(t.alias&&t.alias.toUpperCase()||t.gname.toUpperCase(),"</span>\n                    </label>");return n.innerHTML=o.trim(),n.firstChild}},{key:"changeScrollBtnPic",value:function(){var t=this._foucusId,e=this._map.listGroups.map(function(t){return t.gid}),n=document.getElementById("scroll_buttom"+this.uuid),o=document.getElementById("scroll_top"+this.uuid);t==e[0]?n&&(n.style.backgroundImage="url("+this._ctlOpt.imgURL+"arrow4.png)"):n&&(n.style.backgroundImage="url("+this._ctlOpt.imgURL+"arrow2.png)"),t==e[e.length-1]?o&&(o.style.backgroundImage="url("+this._ctlOpt.imgURL+"arrow3.png)"):o&&(o.style.backgroundImage="url("+this._ctlOpt.imgURL+"arrow1.png)")}},{key:"changeFocusGroup",value:function(t){this.foucusId=t}},{key:"changeGroupsSelect",value:function(t){this.setLayerStatus(t),this._map.showSingerOrMultiGroup(t)}},{key:"setLayerStatus",value:function(t){this._allLayer=t,this._allLayer?this._switchBtn.firstElementChild.src=this._ctlOpt.imgURL+"layers.png":this._switchBtn.firstElementChild.src=this._ctlOpt.imgURL+"layer.png"}},{key:"checkPosition",value:function(t,e,n){switch(n.style.left="",n.style.right="",n.style.top="",n.style.bottom="",t){case p.default.LEFT_TOP:n.style.left=e.x+"px",n.style.top=e.y+"px";break;case p.default.RIGHT_TOP:n.style.right=-e.x+"px",n.style.top=e.y+"px";break;case p.default.LEFT_BOTTOM:n.style.left=e.x+"px",n.style.bottom=-e.y+"px";break;case p.default.RIGHT_BOTTOM:n.style.right=-e.x+"px",n.style.bottom=-e.y+"px";break;default:n.style.left=e.x+"px",n.style.top=e.y+"px"}}},{key:"onChange",value:function(t){a=t}},{key:"setFocusStaus",value:function(t){document.getElementById("gid_"+this._foucusId+this.uuid).style.color="rgb(102, 102, 102)",this._foucusId=(0,u.default)(t),document.getElementById("gid_"+this._foucusId+this.uuid).style.color="rgb(30, 130, 250)",this.changeScrollBtnPic()}},{key:"foucusId",set:function(t){var e=[];e.push.apply(e,(0,i.default)(this._map.visibleGroupIDs)),1==e.length?this._map.visibleGroupIDs=[t]:-1<this._map.visibleGroupIDs.indexOf(t)||(e.push(t),this._map.visibleGroupIDs=e),this._map.changeFocusToGroup({gid:t}),a&&a([t],1<this._map.visibleGroupIDs.length)},get:function(){return this._map.currentFocusGroup}},{key:"allLayer",get:function(){return this._map.showAllGroup}}]),n}(),d=h;e.default=d},function(t,e,n){var o=n(110),r=n(66);function i(t){if(o(t))return r(t)}t.exports=i},function(t,e,n){t.exports=n(111)},function(t,e,n){n(112),t.exports=n(1).Array.isArray},function(t,e,n){var o=n(5);o(o.S,"Array",{isArray:n(65)})},function(t,e,n){var o=n(67),r=n(126),i=n(133);function u(t){if(void 0!==i&&r(Object(t)))return o(t)}t.exports=u},function(t,e,n){n(68),n(120),t.exports=n(1).Array.from},function(t,e,n){var s=n(34),l=n(22);t.exports=function(a){return function(t,e){var n,o,r=String(l(t)),i=s(e),u=r.length;return i<0||u<=i?a?"":void 0:(n=r.charCodeAt(i),n<55296||56319<n||i+1===u||(o=r.charCodeAt(i+1))<56320||57343<o?a?r.charAt(i):n:a?r.slice(i,i+2):o-56320+(n-55296<<10)+65536)}}},function(t,e,n){"use strict";var o=n(71),r=n(17),i=n(46),u={};n(10)(u,n(2)("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=o(u,{next:r(1,n)}),i(t,e+" Iterator")}},function(t,e,n){var u=n(6),a=n(15),s=n(21);t.exports=n(7)?Object.defineProperties:function(t,e){a(t);for(var n,o=s(e),r=o.length,i=0;i<r;)u.f(t,n=o[i++],e[n]);return t}},function(t,e,n){var o=n(3).document;t.exports=o&&o.documentElement},function(t,e,n){var o=n(8),r=n(26),i=n(35)("IE_PROTO"),u=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=r(t),o(t,i)?t[i]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?u:null}},function(t,e,n){"use strict";var d=n(48),o=n(5),v=n(26),g=n(121),y=n(122),m=n(53),_=n(123),x=n(124);o(o.S+o.F*!n(125)(function(t){Array.from(t)}),"Array",{from:function(t,e,n){var o,r,i,u,a=v(t),s="function"==typeof this?this:Array,l=arguments.length,c=1<l?e:void 0,p=void 0!==c,f=0,h=x(a);if(p&&(c=d(c,2<l?n:void 0,2)),null==h||s==Array&&y(h))for(o=m(a.length),r=new s(o);f<o;f++)_(r,f,p?c(a[f],f):a[f]);else for(u=h.call(a),r=new s;!(i=u.next()).done;f++)_(r,f,p?g(u,c,[i.value,f],!0):i.value);return r.length=f,r}})},function(t,e,n){var i=n(15);t.exports=function(e,t,n,o){try{return o?t(i(n)[0],n[1]):t(n)}catch(t){var r=e.return;throw void 0!==r&&i(r.call(e)),t}}},function(t,e,n){var o=n(14),r=n(2)("iterator"),i=Array.prototype;t.exports=function(t){return void 0!==t&&(o.Array===t||i[r]===t)}},function(t,e,n){"use strict";var o=n(6),r=n(17);t.exports=function(t,e,n){e in t?o.f(t,e,r(0,n)):t[e]=n}},function(t,e,n){var o=n(72),r=n(2)("iterator"),i=n(14);t.exports=n(1).getIteratorMethod=function(t){if(null!=t)return t[r]||t["@@iterator"]||i[o(t)]}},function(t,e,n){var i=n(2)("iterator"),u=!1;try{var o=[7][i]();o.return=function(){u=!0},Array.from(o,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!u)return!1;var n=!1;try{var o=[7],r=o[i]();r.next=function(){return{done:n=!0}},o[i]=function(){return r},t(o)}catch(t){}return n}},function(t,e,n){t.exports=n(127)},function(t,e,n){n(128),n(68),t.exports=n(132)},function(t,e,n){n(129);for(var o=n(3),r=n(10),i=n(14),u=n(2)("toStringTag"),a="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),s=0;s<a.length;s++){var l=a[s],c=o[l],p=c&&c.prototype;p&&!p[u]&&r(p,u,l),i[l]=i.Array}},function(t,e,n){"use strict";var o=n(130),r=n(131),i=n(14),u=n(12);t.exports=n(69)(Array,"Array",function(t,e){this._t=u(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,r(1)):r(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])},"values"),i.Arguments=i.Array,o("keys"),o("values"),o("entries")},function(t){t.exports=function(){}},function(t){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,n){var o=n(72),r=n(2)("iterator"),i=n(14);t.exports=n(1).isIterable=function(t){var e=Object(t);return void 0!==e[r]||"@@iterator"in e||i.hasOwnProperty(o(e))}},function(t,e,n){t.exports=n(134)},function(t,e,n){n(135),n(140),n(141),n(142),t.exports=n(1).Symbol},function(t,e,n){"use strict";var o=n(3),u=n(8),r=n(7),i=n(5),a=n(70),s=n(136).KEY,l=n(11),c=n(36),p=n(46),f=n(24),h=n(2),d=n(73),v=n(47),g=n(137),y=n(65),m=n(15),_=n(16),x=n(26),b=n(12),w=n(32),O=n(17),k=n(71),P=n(138),M=n(139),S=n(38),E=n(6),T=n(21),C=M.f,L=E.f,I=P.f,B=o.Symbol,G=o.JSON,A=G&&G.stringify,j="prototype",D=h("_hidden"),F=h("toPrimitive"),R={}.propertyIsEnumerable,N=c("symbol-registry"),U=c("symbols"),H=c("op-symbols"),Y=Object[j],z="function"==typeof B&&!!S.f,V=o.QObject,W=!V||!V[j]||!V[j].findChild,X=r&&l(function(){return 7!=k(L({},"a",{get:function(){return L(this,"a",{value:7}).a}})).a})?function(t,e,n){var o=C(Y,e);o&&delete Y[e],L(t,e,n),o&&t!==Y&&L(Y,e,o)}:L,$=function(t){var e=U[t]=k(B[j]);return e._k=t,e},q=z&&"symbol"==typeof B.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof B},J=function(t,e,n){return t===Y&&J(H,e,n),m(t),e=w(e,!0),m(n),u(U,e)?(n.enumerable?(u(t,D)&&t[D][e]&&(t[D][e]=!1),n=k(n,{enumerable:O(0,!1)})):(u(t,D)||L(t,D,O(1,{})),t[D][e]=!0),X(t,e,n)):L(t,e,n)},K=function(t,e){m(t);for(var n,o=g(e=b(e)),r=0,i=o.length;r<i;)J(t,n=o[r++],e[n]);return t},Z=function(t,e){return void 0===e?k(t):K(k(t),e)},Q=function(t){var e=R.call(this,t=w(t,!0));return!(this===Y&&u(U,t)&&!u(H,t))&&(!(e||!u(this,t)||!u(U,t)||u(this,D)&&this[D][t])||e)},tt=function(t,e){if(t=b(t),e=w(e,!0),t!==Y||!u(U,e)||u(H,e)){var n=C(t,e);return!n||!u(U,e)||u(t,D)&&t[D][e]||(n.enumerable=!0),n}},et=function(t){for(var e,n=I(b(t)),o=[],r=0;n.length>r;)u(U,e=n[r++])||e==D||e==s||o.push(e);return o},nt=function(t){for(var e,n=t===Y,o=I(n?H:b(t)),r=[],i=0;o.length>i;)!u(U,e=o[i++])||n&&!u(Y,e)||r.push(U[e]);return r};z||(B=function(t){if(this instanceof B)throw TypeError("Symbol is not a constructor!");var e=f(0<arguments.length?t:void 0),n=function(t){this===Y&&n.call(H,t),u(this,D)&&u(this[D],e)&&(this[D][e]=!1),X(this,e,O(1,t))};return r&&W&&X(Y,e,{configurable:!0,set:n}),$(e)},a(B[j],"toString",function(){return this._k}),M.f=tt,E.f=J,n(74).f=P.f=et,n(25).f=Q,S.f=nt,r&&!n(23)&&a(Y,"propertyIsEnumerable",Q,!0),d.f=function(t){return $(h(t))}),i(i.G+i.W+i.F*!z,{Symbol:B});for(var ot="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),rt=0;ot.length>rt;)h(ot[rt++]);for(var it=T(h.store),ut=0;it.length>ut;)v(it[ut++]);i(i.S+i.F*!z,"Symbol",{for:function(t){return u(N,t+="")?N[t]:N[t]=B(t)},keyFor:function(t){if(!q(t))throw TypeError(t+" is not a symbol!");for(var e in N)if(N[e]===t)return e},useSetter:function(){W=!0},useSimple:function(){W=!1}}),i(i.S+i.F*!z,"Object",{create:Z,defineProperty:J,defineProperties:K,getOwnPropertyDescriptor:tt,getOwnPropertyNames:et,getOwnPropertySymbols:nt});var at=l(function(){S.f(1)});i(i.S+i.F*at,"Object",{getOwnPropertySymbols:function(t){return S.f(x(t))}}),G&&i(i.S+i.F*(!z||l(function(){var t=B();return"[null]"!=A([t])||"{}"!=A({a:t})||"{}"!=A(Object(t))})),"JSON",{stringify:function(t){for(var e,n,o=[t],r=1;r<arguments.length;)o.push(arguments[r++]);if(n=e=o[1],(_(e)||void 0!==t)&&!q(t))return y(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!q(e))return e}),o[1]=e,A.apply(G,o)}}),B[j][F]||n(10)(B[j],F,B[j].valueOf),p(B,"Symbol"),p(Math,"Math",!0),p(o.JSON,"JSON",!0)},function(t,e,n){var o=n(24)("meta"),r=n(16),i=n(8),u=n(6).f,a=0,s=Object.isExtensible||function(){return!0},l=!n(11)(function(){return s(Object.preventExtensions({}))}),c=function(t){u(t,o,{value:{i:"O"+ ++a,w:{}}})},p=function(t,e){if(!r(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!i(t,o)){if(!s(t))return"F";if(!e)return"E";c(t)}return t[o].i},f=function(t,e){if(!i(t,o)){if(!s(t))return!0;if(!e)return!1;c(t)}return t[o].w},h=function(t){return l&&d.NEED&&s(t)&&!i(t,o)&&c(t),t},d=t.exports={KEY:o,NEED:!1,fastKey:p,getWeak:f,onFreeze:h}},function(t,e,n){var a=n(21),s=n(38),l=n(25);t.exports=function(t){var e=a(t),n=s.f;if(n)for(var o,r=n(t),i=l.f,u=0;r.length>u;)i.call(t,o=r[u++])&&e.push(o);return e}},function(t,e,n){var o=n(12),r=n(74).f,i={}.toString,u="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],a=function(t){try{return r(t)}catch(t){return u.slice()}};t.exports.f=function(t){return u&&"[object Window]"==i.call(t)?a(t):r(o(t))}},function(t,e,n){var o=n(25),r=n(17),i=n(12),u=n(32),a=n(8),s=n(49),l=Object.getOwnPropertyDescriptor;e.f=n(7)?l:function(t,e){if(t=i(t),e=u(e,!0),s)try{return l(t,e)}catch(t){}if(a(t,e))return r(!o.f.call(t,e),t[e])}},function(){},function(t,e,n){n(47)("asyncIterator")},function(t,e,n){n(47)("observable")},function(t,e,n){var o=n(67),r=n(66);function i(t,e){if(t){if("string"==typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?o(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}}t.exports=i},function(t){function e(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}t.exports=e},function(t,e,n){"use strict";var k=n(20),o=n(146),P=n(60),M=n(41),S=n(59),E=n(61),T=Math.max,C=Math.min,f=Math.floor,h=/\$([$&`']|\d\d?|<[^>]*>)/g,d=/\$([$&`']|\d\d?)/g,L=function(t){return void 0===t?t:String(t)};n(62)("replace",2,function(r,i,b,w){return[function(t,e){var n=r(this),o=null==t?void 0:t[i];return void 0!==o?o.call(t,n,e):b.call(String(n),t,e)},function(t,e){var n=w(b,t,this,e);if(n.done)return n.value;var o=k(t),r=String(this),i="function"==typeof e;i||(e=String(e));var u,a=o.global;a&&(u=o.unicode,o.lastIndex=0);for(var s=[];;){var l=E(o,r);if(null===l)break;if(s.push(l),!a)break;var c=String(l[0]);""===c&&(o.lastIndex=S(r,P(o.lastIndex),u))}for(var p="",f=0,h=0;h<s.length;h++){l=s[h];for(var d=String(l[0]),v=T(C(M(l.index),r.length),0),g=[],y=1;y<l.length;y++)g.push(L(l[y]));var m,_=l.groups,x=i?(m=[d].concat(g,v,r),void 0!==_&&m.push(_),String(e.apply(void 0,m))):O(d,r,v,g,_,e);f<=v&&(p+=r.slice(f,v)+x,f=v+d.length)}return p+r.slice(f)}];function O(i,u,a,s,l,t){var c=a+i.length,p=s.length,e=d;return void 0!==l&&(l=o(l),e=h),b.call(t,e,function(t,e){var n;switch(e.charAt(0)){case"$":return"$";case"&":return i;case"`":return u.slice(0,a);case"'":return u.slice(c);case"<":n=l[e.slice(1,-1)];break;default:var o=+e;if(0===o)return t;if(p<o){var r=f(o/10);return 0!==r&&r<=p?void 0===s[r-1]?e.charAt(1):s[r-1]+e.charAt(1):t}n=s[o-1]}return void 0===n?"":n})}})},function(t,e,n){var o=n(42);t.exports=function(t){return Object(o(t))}},function(t,e,n){"use strict";var o=n(4),r=n(0);r(e,"__esModule",{value:!0}),e.default=void 0;var i,u=o(n(64)),a=o(n(39)),s=o(n(9)),l=o(n(13)),c=o(n(27)),p=o(n(31)),f=o(n(18)),h=function(){function n(t,e){(0,s.default)(this,n),this._map=t,this._ctlOpt=new f.default(e),this._ctlOpt.offset||(this._ctlOpt.offset={x:0,y:0}),this._btnWidth=42,this._showBtnCount=this._ctlOpt.showBtnCount||5,this._foucusId=this._map.currentFocusGroup||1,this._scrollSpeed=10,this._btnPanel=null,this._mainPanel=null,this._enableExpand=!0,this._disMainPanel=30+this._btnWidth,this._btnPanelVsible=!1,this._allLayer=!!e.allLayer&&e.allLayer,this._allLayer&&this._map.showSingerOrMultiGroup(this._allLayer),this.scrollTopAn_=new c.default.scrollTopAnFun,this.init()}return(0,l.default)(n,[{key:"init",value:function(){var n=this,t=this._map.getFMGroup(this._foucusId),e=this.createPanel(this._btnWidth,t.groupName);this._mainPanel=e,this._map.getContainer().appendChild(e);var o=this._map.listGroups.map(function(t){return t.gid}),r=o.length,i=this._showBtnCount;r<=this._showBtnCount&&(i=r);var u=this.createGroupBtnPanel(i*this._btnWidth+2*(i-1));this._map.getContainer().appendChild(u),this._btnPanel=u;for(var a=this._map.listGroups,s=a.length-1;-1<s;s--)u.appendChild(this.createGroupButton(a[s],this._btnWidth)),0<s&&u.appendChild(this.createHr());this.checkPosition(this._ctlOpt.position,this._ctlOpt.offset,e,u),document.getElementById("gid_"+this._foucusId).style.color="rgb(30, 130, 250)",this.eventBtnPanelInit(u),this.eventPanelInit(e,o);var l=function(t){var e=n._map.listGroups.map(function(t){return t.gid});t.gid<e[0]||t.gid>e[e.length-1]||(u.scrollTop=n.getCenterScrolltopById(t.gid,e.length),n.setFocusStaus(t.gid))};this._map.on("focusGroupIDChanged",l),this._map.on("dispose",function(){n._map.off("focusGroupIDChanged",l),n._map.getContainer().removeChild(u),n._map.getContainer().removeChild(e)}),this._$=function(t){return n.map?n.map.mapView.container_.querySelector(t):document.querySelector(t)}}},{key:"eventBtnPanelInit",value:function(n){var o=this,t=this;n.onselectstart=function(){return!1},n.style.MozUserSelect="none",c.default.bindEvent(n,"label","click",function(){t.foucusId=(0,a.default)(this.dataset.gid)});var e=function(t){var e=n.scrollTop;t.wheelDelta?e+=-t.wheelDelta:t.detail&&(e+=t.detail),o.scrollTopAn_({el:n,to:n.scrollTop,form:n.scrollTop+e})};n.addEventListener("mousewheel",e),n.addEventListener("MozMousePixelScroll",e,!1),n.addEventListener("touchstart",this.touchstart.bind(this),!1),n.addEventListener("touchmove",this.touchmove.bind(this),!1),n.addEventListener("touchend",this.touchend.bind(this),!0)}},{key:"touchstart",value:function(t){t.preventDefault(),this.touchPointX=t.touches[0].pageX,this.touchPointY=t.touches[0].pageY,this.touchStartPointY=t.touches[0].pageY}},{key:"touchmove",value:function(t){t.preventDefault(),this.touchEndPointX=t.touches[0].pageX,this.touchEndPointY=t.touches[0].pageY,this.handleTouchEnd(t)}},{key:"handleTouchEnd",value:function(t){t=t||window.event;var e=this,n=null,o=0;0<t.changedTouches.length&&(e.touchEndPointX=t.changedTouches[0].pageX,e.touchEndPointY=t.changedTouches[0].pageY),n=t.target,n instanceof HTMLSpanElement==1&&(n=n.parentElement);var r,i=e.touchEndPointY-e.touchPointY,o=-i;0!=o&&(e.touchPointX=e.touchEndPointX,e.touchPointY=e.touchEndPointY,r=e._$(".fm-layer-list"),this.scrollTopAn_({el:r,to:r.scrollTop,form:r.scrollTop+o}))}},{key:"touchend",value:function(t){t=t||window.event;var e=this,n=null;0<t.changedTouches.length&&(e.touchEndPointX=t.changedTouches[0].pageX,e.touchEndPointY=t.changedTouches[0].pageY),n=t.target,n instanceof HTMLSpanElement==1&&(n=n.parentElement);var o,r=Math.abs(e.touchEndPointY-e.touchStartPointY);r<5&&0<=r&&n&&(o=(0,a.default)(n.dataset.gid),isNaN(o)||(e.foucusId=o,e.setFocusStaus(o)))}},{key:"eventPanelInit",value:function(t,e){var n=this;t.onselectstart=function(){return!1},t.style.MozUserSelect="none",t.addEventListener("click",function(){n._enableExpand&&(n._btnPanelVsible?n._btnPanel.style.display="none":n._btnPanel.style.display="block",n._btnPanel.scrollTop=n.getCenterScrolltopById(n._foucusId,e.length),n._btnPanelVsible=!n._btnPanelVsible)})}},{key:"getCenterScrolltopById",value:function(t,e){var n=e-t-Math.floor(this._showBtnCount/2);return n*(this._btnWidth+2)}},{key:"createGroupBtnPanel",value:function(t){var e=document.createElement("div"),n='\n            <div style = "position: absolute; background-color: white; box-shadow: rgba(0, 0, 0, 0.3) 2px 2px 3px; border-radius: 2px; display: none; overflow: hidden;height: '.concat(t,'px;" class="fm-layer-list"> </div\n        ');return e.innerHTML=n.trim(),e.firstChild}},{key:"createPanel",value:function(t,e){var n='<div class="fm-control-groups-btn" style="width: '.concat(t,'px; height: 42px; position: absolute; background-color: white; box-shadow: rgba(0, 0, 0, 0.3) 2px 2px 3px; border-radius: 2px; text-align: center; cursor: pointer; font-size: 0.8em; font-weight: bold; text-transform: uppercase; line-height: 42px; color: rgb(30, 130, 250);">').concat(e.toUpperCase(),"</div>"),o=document.createElement("div");return o.innerHTML=n.trim(),o.firstChild}},{key:"createHr",value:function(){var t=document.createElement("div"),e='\n            <hr style="height: 1px; border-top: 1px solid rgba(153, 153, 153, 0.45); border-right: none; border-bottom: none; border-left: none; border-image: initial; width: 60%; margin: 0px 20%;">\n        ';return t.innerHTML=e.trim(),t.firstChild}},{key:"createGroupButton",value:function(t,e){var n=document.createElement("div"),o="<label  data-gid=".concat(t.gid,' id="gid_').concat(t.gid,'" style="display: inline-block; text-align: center; width: ').concat(e,"px; height: ").concat(e,"px; line-height: ").concat(e,'px; margin: 0px; cursor: pointer; font-size: 0.8em; font-weight: bold; color: rgb(102, 102, 102);">\n                        <span>').concat(t.alias&&t.alias.toUpperCase()||t.gname.toUpperCase(),"</span>\n                    </label>");return n.innerHTML=o.trim(),n.firstChild}},{key:"checkPosition",value:function(t,e,n,o){switch(n.style.left="",n.style.right="",n.style.top="",n.style.bottom="",o.style.left="",o.style.right="",o.style.top="",o.style.bottom="",t){case p.default.LEFT_TOP:n.style.left=e.x+"px",n.style.top=e.y+"px",o.style.left=e.x+"px",o.style.top=e.y+this._disMainPanel+"px";break;case p.default.RIGHT_TOP:n.style.right=-e.x+"px",n.style.top=e.y+"px",o.style.right=-e.x+"px",o.style.top=e.y+this._disMainPanel+"px";break;case p.default.LEFT_BOTTOM:n.style.left=e.x+"px",n.style.bottom=-e.y+"px",o.style.left=e.x+"px",o.style.bottom=-e.y+this._disMainPanel+"px";break;case p.default.RIGHT_BOTTOM:n.style.right=-e.x+"px",n.style.bottom=-e.y+"px",o.style.right=-e.x+"px",o.style.bottom=-e.y+this._disMainPanel+"px";break;default:n.style.left=e.x+"px",n.style.top=e.y+"px",o.style.left=e.x+"px",o.style.top=e.y+this._disMainPanel+"px"}}},{key:"onChange",value:function(t){i=t}},{key:"changeFocusGroup",value:function(t,e){this._map.showSingerOrMultiGroup(e),this.foucusId=t}},{key:"getGroupNameByGid",value:function(t){for(var e=this._map.listGroups,n=0,o=e.length;n<o;n++){var r=e[n];if(r.gid==t)return r.gname.toUpperCase()}return""}},{key:"setFocusStaus",value:function(t){this._mainPanel.innerHTML="".concat(this.getGroupNameByGid(t)),document.getElementById("gid_"+this._foucusId).style.color="rgb(102, 102, 102)",this._foucusId=t,document.getElementById("gid_"+this._foucusId).style.color="rgb(30, 130, 250)"}},{key:"foucusId",set:function(t){var e=[];e.push.apply(e,(0,u.default)(this._map.visibleGroupIDs)),1==e.length?this._map.visibleGroupIDs=[t]:-1<this._map.visibleGroupIDs.indexOf(t)||(e.push(t),this._map.visibleGroupIDs=e),this._map.changeFocusToGroup({gid:t}),i&&i([t],this._map.showAllGroup)}},{key:"allLayer",get:function(){return this._map.showAllGroup}},{key:"enableExpand",set:function(t){this._enableExpand=t},get:function(){return this._enableExpand}},{key:"expand",get:function(){return this._btnPanelVsible},set:function(t){var e;this._enableExpand&&(this._btnPanel.style.display=t?"block":"none",e=this._map.listGroups.map(function(t){return t.gid}),this._btnPanel.scrollTop=this.getCenterScrolltopById(this._foucusId,e.length),this._btnPanelVsible=t)}}]),n}(),d=h;e.default=d},function(t,e,n){"use strict";var o=n(4),r=n(0);r(e,"__esModule",{value:!0}),e.default=void 0;var i=o(n(9)),u=o(n(13)),a=o(n(149)),s=o(n(18)),l=o(n(31)),c=function(){function n(t,e){(0,i.default)(this,n),this._map=t,this._ctlOpt=new s.default(e),this._mainPanel=null,this._viewModeButton=null,this._groupChange=null,this._viewModeButtonNeeded=void 0===e.viewModeButtonNeeded||e.viewModeButtonNeeded,this._groupsButtonNeeded=void 0===e.groupsButtonNeeded||e.groupsButtonNeeded,this._init2D=void 0!==e.init2D&&e.init2D,this._initGroups=void 0!==e.initGroups&&e.initGroups,this._init2D&&(this._map.viewMode="top"),this._initGroups&&this._map.showSingerOrMultiGroup(!0),this._isOpenedControl=!1,this._showAllGroup=this._initGroups,this._direct=e.position||l.default.RIGHT_TOP,this._offset={x:0,y:0},e.offset&&(this._offset=e.offset),this.init()}return(0,u.default)(n,[{key:"init",value:function(){var e=this;this._mainPanel=this.createPanel(this._ctlOpt.imgURL+"more.png"),this._viewModeButton=this.createTopAnd3DButton(this._ctlOpt.imgURL+(this._init2D?"2D.png":"3D.png")),this._groupChange=this.createMultiAndSingerButton(this._ctlOpt.imgURL+(this._showAllGroup?"groups.png":"group.png")),(this._viewModeButtonNeeded||this._groupsButtonNeeded)&&this._map.getContainer().appendChild(this._mainPanel),this._viewModeButtonNeeded&&this._map.getContainer().appendChild(this._viewModeButton),this._groupsButtonNeeded&&this._map.getContainer().appendChild(this._groupChange);var t=this._offset;this._viewModeButtonNeeded&&this._groupsButtonNeeded?(this._mainPanel.style.display="block",this.checkPosition(this._direct,t,this._mainPanel),this.checkPosition(this._direct,t,this._viewModeButton,!0,1),this.checkPosition(this._direct,t,this._groupChange,!0,2)):this._viewModeButtonNeeded?(this._viewModeButton.style.display="block",this.checkPosition(this._direct,t,this._viewModeButton,!0,1)):this._groupsButtonNeeded&&(this._groupChange.style.display="block",this.checkPosition(this._direct,t,this._groupChange,!0,1)),this.initMainPanelEvent(this._mainPanel),this.initMultiGroupPanelEvent(this._groupChange),this.initViewModePanelEvent(this._viewModeButton);var n=function(){e.setViewModeButtonPic()};this._map.on("viewModeChange",n);var o=function(t){e.setSingleMultiStatus(1<t.gids.length)};this._map.on("visibleGroupIDsChanged",o),this._map.on("dispose",function(){e._map.off("visibleGroupIDsChanged",o),e._map.off("viewModeChange",n),e._map.getContainer().contains(e._mainPanel)&&e._map.getContainer().removeChild(e._mainPanel),e._map.getContainer().contains(e._viewModeButton)&&e._map.getContainer().removeChild(e._viewModeButton),e._map.getContainer().contains(e._groupChange)&&e._map.getContainer().removeChild(e._groupChange)})}},{key:"isAllGroups",value:function(){return this._map.showAllGroup}},{key:"initMainPanelEvent",value:function(t){var e=this;t.addEventListener("click",function(){e._isOpenedControl?(e._groupChange.style.display="none",e._viewModeButton.style.display="none",this.style.backgroundImage="url("+e._ctlOpt.imgURL+"more.png)"):(e._groupChange.style.display="block",e._viewModeButton.style.display="block",this.style.backgroundImage="url("+e._ctlOpt.imgURL+"less.png)"),e._isOpenedControl=!e._isOpenedControl})}},{key:"initViewModePanelEvent",value:function(t){var e=this;t.addEventListener("click",function(){e._map.viewMode===a.default.MODE_3D?(e._map.viewMode=a.default.MODE_2D,this.style.backgroundImage="url("+e._ctlOpt.imgURL+"2D.png)"):(e._map.viewMode=a.default.MODE_3D,this.style.backgroundImage="url("+e._ctlOpt.imgURL+"3D.png)")})}},{key:"setViewModeButtonPic",value:function(){this._map.viewMode===a.default.MODE_3D?this._viewModeButton.style.backgroundImage="url("+this._ctlOpt.imgURL+"3D.png)":this._viewModeButton.style.backgroundImage="url("+this._ctlOpt.imgURL+"2D.png)"}},{key:"initMultiGroupPanelEvent",value:function(t){var e=this;t.addEventListener("click",function(){e._showAllGroup?(e._map.showSingerOrMultiGroup(!1),this.style.backgroundImage="url("+e._ctlOpt.imgURL+"group.png)"):(e._map.showSingerOrMultiGroup(!0),this.style.backgroundImage="url("+e._ctlOpt.imgURL+"groups.png)"),e._showAllGroup=!e._showAllGroup})}},{key:"setSingleMultiStatus",value:function(t){this._groupChange.style.backgroundImage=t?"url("+this._ctlOpt.imgURL+"group.png)":"url("+this._ctlOpt.imgURL+"groups.png)"}},{key:"createPanel",value:function(t){var e=document.createElement("div"),n='<div class="fm-control-tool" style="z-index: 10; display: none;position: absolute; height: 42px; width: 42px; cursor: pointer; background: url(&quot;'.concat(t,'&quot;) 50% 50% no-repeat white; box-shadow: rgba(0, 0, 0, 0.3) 2px 2px 3px; border-radius: 2px; "></div>');return e.innerHTML=n.trim(),e.firstChild}},{key:"createTopAnd3DButton",value:function(t){var e=document.createElement("div"),n='<div class="fm-control-tool-3d" style="position: absolute; display: none;height: 42px; width: 42px; padding: 0px; cursor: pointer; box-shadow: rgba(0, 0, 0, 0.3) 2px 2px 3px; border-radius: 2px; background: url(&quot;'.concat(t,'&quot;) 50% 50% no-repeat white;"></div>');return e.innerHTML=n.trim(),e.firstChild}},{key:"createMultiAndSingerButton",value:function(t){var e=document.createElement("div"),n='<div class="fm-control-tool-group" style="position: absolute; display: none;height: 42px; width: 42px; padding: 0px; margin-top: 10px; cursor: pointer; box-shadow: rgba(0, 0, 0, 0.3) 2px 2px 3px; border-radius: 2px; background: url(&quot;'.concat(t,'&quot;) 50% 50% no-repeat white;"></div>');return e.innerHTML=n.trim(),e.firstChild}},{key:"checkPosition",value:function(t,e,n,o,r){n.style.left="",n.style.right="",n.style.top="",n.style.bottom="";var i=0;switch(t){case l.default.LEFT_TOP:1==o?(i=1==r?62:124,n.style.left=e.x+"px",n.style.top=e.y+i+"px"):(n.style.left=e.x+"px",n.style.top=e.y+"px");break;case l.default.RIGHT_TOP:1==o?(i=1==r?62:124,n.style.right=-e.x+"px",n.style.top=e.y+i+"px"):(n.style.right=-e.x+"px",n.style.top=e.y+"px");break;case l.default.LEFT_BOTTOM:1==o?(i=1==r?-62:-124,n.style.left=e.x+"px",n.style.bottom=-e.y-i+"px"):(n.style.left=e.x+"px",n.style.bottom=-e.y+"px");break;case l.default.RIGHT_BOTTOM:1==o?(i=1==r?-62:-124,n.style.right=-e.x+"px",n.style.bottom=-e.y-i+"px"):(n.style.right=-e.x+"px",n.style.bottom=-e.y+"px");break;default:n.style.left=e.x+"px",n.style.top=e.y+"px"}}}]),n}(),p=c;e.default=p},function(t,e,n){"use strict";var o=n(0);o(e,"__esModule",{value:!0}),e.default=void 0;var r={MODE_2D:"top",MODE_3D:"3d"},i=r;e.default=i},function(t,e,n){"use strict";var o=n(4),r=n(0);r(e,"__esModule",{value:!0}),e.default=void 0;var i=o(n(9)),u=o(n(13)),a=o(n(27)),s=function(){function o(t,e,n){(0,i.default)(this,o),this._map=t,this._opt=e,this._coord=e.mapCoord,this._threeCoord=e.threeCoord,this._window=null,this.marker=n,this._content=e.content||"<span>我是气泡</span>",this._width=e.width||200,this._height=e.height||100,this._padding=e._padding||10,this.init(),this.dispose}return(0,u.default)(o,[{key:"bindMarker",value:function(t){t&&t instanceof fengmap.FMImageMarker&&(this.marker=t)}},{key:"init",value:function(){var t=this;this._window=this.createWindow(this._content,this._width,this._height,this._padding,this._opt.margintop),this._window.style.left="0px",this._window.style.top="0px",this._map.getContainer().appendChild(this._window),this._map.registeredPop(this),a.default.bindEvent(this._window,".fm-control-popmarker-closebtn","click",function(){t.close()}),this._map.updatePopPosition(this),this.dispose=function(){t._map.logoutPop(t),t._map.getContainer().removeChild(t._window)},this._map.on("dispose",this.dispose)}},{key:"close",value:function(){this._map.off("dispose",this.dispose),this._map.getContainer().removeChild(this._window),this._map.logoutPop(this),this._opt.closeCallBack&&this._opt.closeCallBack(this)}},{key:"updateCoord",value:function(t,e){var n=0;this._coord&&this._coord.height&&(n=this._coord.height),-1<navigator.userAgent.indexOf("Edge")||-1<navigator.userAgent.indexOf(".NET4.0C")?this._window.style.transform="translate(".concat(t-this._width/2,"px, ").concat(e-this._height-20-n,"px)"):this._window.style.webkitTransform="translate(".concat(t-this._width/2,"px, ").concat(e-this._height-20-n,"px)")}},{key:"createWindow",value:function(t,e,n,o,r){var i=document.createElement("div"),u='<div class="fm-control-popmarker" style="box-sizing: border-box;width: '.concat(e,"px; height: ").concat(n,"px; padding: ").concat(o,'px; background-color: rgb(255, 255, 255); border: 1px solid rgba(0, 0, 0, 0.2); border-radius: 6px; position: absolute;">\n            <input type="button" class="fm-control-popmarker-closebtn" value="✖" style="border-radius: 50%; position: absolute; right: 10px; top: 8px; background: 0px 0px rgb(238, 238, 238); width: 24px; height: 24px; border: 0px; -webkit-appearance: none;">\n            <span class="fm-control-popmarker-bot" style="width: 0px; height: 0px; font-size: 0px; overflow: hidden; position: absolute; border-width: 20px; border-style: solid dashed dashed; border-color: rgba(0, 0, 0, 0.2) transparent transparent; left: ').concat(e/2-20,'px; bottom: -40px;"></span>\n            <span class="fm-control-popmarker-top" style="width: 0px; height: 0px; font-size: 0px; overflow: auto; position: absolute; border-style: solid dashed dashed; border-width: 20px; border-color: rgb(255, 255, 255) transparent transparent; left: ').concat(e/2-20,'px; bottom: -39px;"></span>\n            <div style="overflow:auto;height:').concat(n-2*o,"px;margin-top:").concat(r||0,'px">\n                ').concat(t,"\n            </div></div>");return i.innerHTML=u.trim(),i.firstChild}},{key:"coord",get:function(){return this._coord}},{key:"threeCoord",get:function(){return this._threeCoord}}]),o}(),l=s;e.default=l}],o={},r.m=n,r.c=o,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=75).default;function r(t){if(o[t])return o[t].exports;var e=o[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,r),e.l=!0,e.exports}var n,o});