<!DOCTYPE html>
<html xmlns:shiro="http://www.pollix.at/thymeleaf/shiro">

<head>
  <meta charset="UTF-8">
  <title>车库出入口</title>
  <link rel="stylesheet" href="../css/common/common.css" />
  <link rel="stylesheet" href="../css/list.css" />
  <script src="../js/common/jquery-1.8.0.min.js"></script>
  <script src="../js/common/url.js"></script>
  <script src="../js/common/common.js"></script>
  <script src="../js/common/page.js"></script>
  <script src="../fMap/2/fengmap.core.min.js"></script>
  <script src="../fMap/2/fengmap.control.min.js"></script>
  <script src="../js/common/initFmap3.js"></script>
  <script src="../js/accessMouth.js"></script>
</head>

<body>

  <div class="contentTop">
    <span class="contentTitle">车库出入口</span>
    <div class="search">
      <div class="searchItem">
        出入口名称：<input type="text" autocomplete="off" onkeyup="this.value=this.value.replace(/\s/g,'')" name="name"
          id="name" class="searchInp" placeholder="请输入车库出入口名称" style="width:220px" />
      </div>
      <div class="searchItem seleBox">
        关联地图：
        <div class="batchBox mapWidth" onclick="switchSele(event)">
          <div name="map" class="batchTxt" data-val="">--请选择关联地图--</div>
          <div class="batchList" id="mapSelect">
            <div onclick="seleBatch(this,'')">--请选择关联地图--</div>
          </div>
        </div>
      </div>

      <div class="searchItem seleBox">
        类型：
        <div class="batchBox" onclick="switchSele(event)">
          <div name="type" class="batchTxt" data-val="">--请选择--</div>
          <div class="batchList">
            <div onclick="seleBatch(this,'')">--请选择--</div>
            <div onclick="seleBatch(this,'0')">入口</div>
            <div onclick="seleBatch(this,'1')">出口</div>
            <div onclick="seleBatch(this,'2')">出入口</div>
            <div onclick="seleBatch(this,'3')">地库出入口</div>
          </div>
        </div>
      </div>
      <div class="searchItem">
        楼层：<input type="text" autocomplete="off" onkeyup="this.value=this.value.replace(/\s/g,'')" name="floorName"
          id="floorName" class="searchInp" placeholder="请输入楼层" style="width:112px" />
      </div>
      <span class="searchBtn" onclick="search()">搜索</span>
      <span class="searchBtn resetBtn" onclick="resetSearch()">重置</span>

      <shiro:hasPermission name="pet:add">
        <div class="topBtn">
          <span onclick="addAccessMouthList()">新增</span>
        </div>
      </shiro:hasPermission>
    </div>
  </div>
  <!-- 信息 -->
  <div class="wrap">
    <table class="tab" id="tab">
      <thead>
        <tr>
          <td name="line" class="line">序号</td>
          <td name="name">出入口名称</td>
          <td name="mapName">地图名称</td>
          <td name="floorName">楼层</td>
          <td name="type">出入口类型</td>
          <td name="accessStatus">交通状态</td>
          <td name="roadName">出口道路信息</td>
          <td name="operating">操作</td>
        </tr>
      </thead>
      <tbody></tbody>
    </table>
    <div class="listFooter clearfix">
      <label class="seleLabel">
        <input id="allCheck" onclick="allCheck(this)" type="checkbox" class="tabCheck" name="tabCheck">
        <span class="seleIcon"></span>
        全选
      </label>

      <shiro:hasPermission name="pet:del">
        <span class="deleBtn" onclick="showAllDele()">删除</span>
      </shiro:hasPermission>
      <div class="page">
        <span id="total" class="total"></span>
        <span class="turnPage prev" onclick="prevPage()"></span>
        <ul class="pageList"></ul>
        <span class="turnPage next" onclick="nextPage(this)"></span>
        跳至<input type="text" value="1" class="jumpPage" onkeyup="jumpCurPage(this,event)" />页
      </div>
    </div>
  </div>
  <!-- 提示 -->
  <div class="tips" id="tip"></div>
  <!-- 遮罩 -->
  <div class="mask" id="mask"></div>
  <!-- 确认提示框 -->
  <div class="confimPop" id="delePop">
    <div class="confimPopTop">
      <span class="popClose" onclick="hidePop('#delePop')"></span>
    </div>
    <div class="confimPopInfo">
      <p class="confimPopTitle">是否删除？</p>
      <p class="txtOverFlow">出入口名称：<span id="deleTxt"></span></p>
    </div>
    <div class="confimPopFooter">
      <span class="confimPopEnt" onclick="entDele()">确定</span>
      <span class="confimPopCancel" onclick="hidePop('#delePop')">取消</span>
    </div>
  </div>

  <!-- 出入口所在位置 -->
  <div class="mapPop" id="mapPop">
    <div class="mapPopTop">
      出入口所在位置
      <div class="close" onclick="hidePop('#mapPop')"></div>
    </div>
    <div class="fengmap" id="fengmap">
      <!--设备控件，2D/3D切换-->
      <div class="viewMode3">
        <div class="viewMode" onclick="changeMode(this)"></div>
      </div>
    </div>
    <!--加载logo-->
    <div class="layer1Img">
      <img src="../image/common/PARKHome2.png" class="imgs1">
    </div>
  </div>

  <div id="operating" class="hidden">
    <shiro:hasAnyPermissions name="pet:edit,pet:see">
      <span class="tabOper" id="editBtn">编辑</span>
    </shiro:hasAnyPermissions>
    <shiro:hasPermission name="pet:del">
      <span class="tabOper deleOpa" id="deleteBtn">删除</span>
    </shiro:hasPermission>
  </div>
  <iframe id="addFrame" class="frameClass"></iframe>
  <iframe id="editFrame" class="frameClass"></iframe>
</body>
<script>
  //回车搜索
  $("#name").keydown(function (event) {
    if (event.keyCode === 13) {
      search(); //搜索
    }
  });

  $("#license").keydown(function (event) {
    if (event.keyCode === 13) {
      search(); //搜索
    }
  });
</script>

</html>