/**Released Version v3.1.3,BUILD 653,Time 1691032742920. Fengmap Javascript SDK , see: https://www.fengmap.com for details**/
!function(t,r){"object"==typeof exports&&"object"==typeof module?module.exports=r(require("fs")):"function"==typeof define&&define.amd?define(["fs"],r):"object"==typeof exports?exports.fengmap=r(require("fs")):t.fengmap=r(t.fs)}(this,function(__WEBPACK_EXTERNAL_MODULE__47__){return function(n){var i={};function e(t){var r;return(i[t]||(r=i[t]={i:t,l:!1,exports:{}},n[t].call(r.exports,r,r.exports,e),r.l=!0,r)).exports}return e.m=n,e.c=i,e.d=function(t,r,n){e.o(t,r)||Object.defineProperty(t,r,{enumerable:!0,get:n})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"u",{value:!0})},e.t=function(r,t){if(1&t&&(r=e(r)),8&t)return r;if(4&t&&"object"==typeof r&&r&&r.u)return r;var n=Object.create(null);if(e.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:r}),2&t&&"string"!=typeof r)for(var i in r)e.d(n,i,function(t){return r[t]}.bind(null,i));return n},e.n=function(t){var r=t&&t.u?function(){return t.default}:function(){return t};return e.d(r,"a",r),r},e.o=function(t,r){return Object.prototype.hasOwnProperty.call(t,r)},e.p="",e(e.s=50)}([function(t,r,n){"use strict";var i,e,o=t.exports=n(2),s=n(16),u=(o.codegen=n(40),o.fetch=n(41),o.path=n(42),o.fs=o.inquire("fs"),o.toArray=function(t){if(t){for(var r=Object.keys(t),n=new Array(r.length),i=0;i<r.length;)n[i]=t[r[i++]];return n}return[]},o.toObject=function(t){for(var r={},n=0;n<t.length;){var i=t[n++],e=t[n++];void 0!==e&&(r[i]=e)}return r},/\\/g),f=/"/g,a=(o.isReserved=function(t){return/^(?:do|if|in|for|let|new|try|var|case|else|enum|eval|false|null|this|true|void|with|break|catch|class|const|super|throw|while|yield|delete|export|import|public|return|static|switch|typeof|default|extends|finally|package|private|continue|debugger|function|arguments|interface|protected|implements|instanceof)$/.test(t)},o.safeProp=function(t){return!/^[$\w_]+$/.test(t)||o.isReserved(t)?'["'+t.replace(u,"\\\\").replace(f,'\\"')+'"]':"."+t},o.ucFirst=function(t){return t.charAt(0).toUpperCase()+t.substring(1)},/_([a-z])/g),h=(o.camelCase=function(t){return t.substring(0,1)+t.substring(1).replace(a,function(t,r){return r.toUpperCase()})},o.compareFieldsById=function(t,r){return t.id-r.id},o.decorateType=function(t,r){return t.$type?(r&&t.$type.name!==r&&(o.decorateRoot.remove(t.$type),t.$type.name=r,o.decorateRoot.add(t.$type)),t.$type):(r=new(i=i||n(18))(r||t.name),o.decorateRoot.add(r),r.ctor=t,Object.defineProperty(t,"$type",{value:r,enumerable:!1}),Object.defineProperty(t.prototype,"$type",{value:r,enumerable:!1}),r)},0);o.decorateEnum=function(t){var r;return t.$type||(r=new(e=e||n(3))("Enum"+h++,t),o.decorateRoot.add(r),Object.defineProperty(t,"$type",{value:r,enumerable:!1}),r)},o.setProperty=function(t,r,n){if("object"!=typeof t)throw TypeError("dst must be an object");if(r)return function t(r,n,i){var e=n.shift();return"__proto__"!==e&&(0<n.length?r[e]=t(r[e]||{},n,i):((n=r[e])&&(i=[].concat(n).concat(i)),r[e]=i)),r}(t,r=r.split("."),n);throw TypeError("path must be specified")},Object.defineProperty(o,"decorateRoot",{get:function(){return s.decorated||(s.decorated=new(n(26)))}})},function(t,r,n){"use strict";!function(s){function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,function(t){t=function(t,r){if("object"!==e(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0===n)return("string"===r?String:Number)(t);n=n.call(t,r||"default");if("object"!==e(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"===e(t)?t:String(t)}(i.key),i)}}var f=null,t=function(){function t(){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function")}var r,n,i,e;function o(){return e.apply(this,arguments)}return r=t,n=null,i=[{key:"global",value:(e=function(){if("undefined"!=typeof self&&null!==self&&0!==Object.keys(self).length)return self;if("undefined"!=typeof window&&null!==window&&0!==Object.keys(window).length)return window;if(null!=s&&0!==Object.keys(s).length)return s;var t;if("undefined"!=typeof my)return f||(t=my.getAppIdSync(),f={location:{host:t.appId+".hybrid.alipay-eco.com"}}),f;throw new Error("unable to locate global object")},o.toString=function(){return e.toString()},o)}],n&&u(r.prototype,n),i&&u(r,i),Object.defineProperty(r,"prototype",{writable:!1}),t}();r.a=t}.call(this,n(9))},function(t,n,o){"use strict";!function(t){var i=n;function e(t,r,n){for(var i=Object.keys(r),e=0;e<i.length;++e)void 0!==t[i[e]]&&n||(t[i[e]]=r[i[e]]);return t}function r(t){function n(t,r){if(!(this instanceof n))return new n(t,r);Object.defineProperty(this,"message",{get:function(){return t}}),Error.captureStackTrace?Error.captureStackTrace(this,n):Object.defineProperty(this,"stack",{value:(new Error).stack||""}),r&&e(this,r)}return(n.prototype=Object.create(Error.prototype)).constructor=n,Object.defineProperty(n.prototype,"name",{get:function(){return t}}),n.prototype.toString=function(){return this.name+": "+this.message},n}i.asPromise=o(13),i.base64=o(31),i.EventEmitter=o(32),i.float=o(33),i.inquire=o(14),i.utf8=o(34),i.pool=o(35),i.LongBits=o(36),i.isNode=Boolean(void 0!==t&&t&&t.process&&t.process.versions&&t.process.versions.node),i.global=i.isNode&&t||"undefined"!=typeof window&&window||"undefined"!=typeof self&&self||this,i.emptyArray=Object.freeze?Object.freeze([]):[],i.emptyObject=Object.freeze?Object.freeze({}):{},i.isInteger=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t},i.isString=function(t){return"string"==typeof t||t instanceof String},i.isObject=function(t){return t&&"object"==typeof t},i.isset=i.isSet=function(t,r){var n=t[r];return!(null==n||!t.hasOwnProperty(r))&&("object"!=typeof n||0<(Array.isArray(n)?n:Object.keys(n)).length)},i.Buffer=function(){try{var t=i.inquire("buffer").Buffer;return t.prototype.utf8Write?t:null}catch(t){return null}}(),i.v=null,i._=null,i.newBuffer=function(t){return"number"==typeof t?i.Buffer?i._(t):new i.Array(t):i.Buffer?i.v(t):"undefined"==typeof Uint8Array?t:new Uint8Array(t)},i.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,i.Long=i.global.dcodeIO&&i.global.dcodeIO.Long||i.global.Long||i.inquire("long"),i.key2Re=/^true|false|0|1$/,i.key32Re=/^-?(?:0|[1-9][0-9]*)$/,i.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,i.longToHash=function(t){return t?i.LongBits.from(t).toHash():i.LongBits.zeroHash},i.longFromHash=function(t,r){t=i.LongBits.fromHash(t);return i.Long?i.Long.fromBits(t.lo,t.hi,r):t.toNumber(Boolean(r))},i.merge=e,i.lcFirst=function(t){return t.charAt(0).toLowerCase()+t.substring(1)},i.newError=r,i.ProtocolError=r("ProtocolError"),i.oneOfGetter=function(t){for(var n={},r=0;r<t.length;++r)n[t[r]]=1;return function(){for(var t=Object.keys(this),r=t.length-1;-1<r;--r)if(1===n[t[r]]&&void 0!==this[t[r]]&&null!==this[t[r]])return t[r]}},i.oneOfSetter=function(n){return function(t){for(var r=0;r<n.length;++r)n[r]!==t&&delete this[n[r]]}},i.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},i.S=function(){var n=i.Buffer;n?(i.v=n.from!==Uint8Array.from&&n.from||function(t,r){return new n(t,r)},i._=n.allocUnsafe||function(t){return new n(t)}):i.v=i._=null}}.call(this,o(9))},function(t,r,n){"use strict";t.exports=o;var u=n(4),i=(((o.prototype=Object.create(u.prototype)).constructor=o).className="Enum",n(6)),e=n(0);function o(t,r,n,i,e){if(u.call(this,t,n),r&&"object"!=typeof r)throw TypeError("values must be an object");if(this.valuesById={},this.values=Object.create(this.valuesById),this.comment=i,this.comments=e||{},this.reserved=void 0,r)for(var o=Object.keys(r),s=0;s<o.length;++s)"number"==typeof r[o[s]]&&(this.valuesById[this.values[o[s]]=r[o[s]]]=o[s])}o.fromJSON=function(t,r){t=new o(t,r.values,r.options,r.comment,r.comments);return t.reserved=r.reserved,t},o.prototype.toJSON=function(t){t=!!t&&Boolean(t.keepComments);return e.toObject(["options",this.options,"values",this.values,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"comment",t?this.comment:void 0,"comments",t?this.comments:void 0])},o.prototype.add=function(t,r,n){if(!e.isString(t))throw TypeError("name must be a string");if(!e.isInteger(r))throw TypeError("id must be an integer");if(void 0!==this.values[t])throw Error("duplicate name '"+t+"' in "+this);if(this.isReservedId(r))throw Error("id "+r+" is reserved in "+this);if(this.isReservedName(t))throw Error("name '"+t+"' is reserved in "+this);if(void 0!==this.valuesById[r]){if(!this.options||!this.options.allow_alias)throw Error("duplicate id "+r+" in "+this);this.values[t]=r}else this.valuesById[this.values[t]=r]=t;return this.comments[t]=n||null,this},o.prototype.remove=function(t){if(!e.isString(t))throw TypeError("name must be a string");var r=this.values[t];if(null==r)throw Error("name '"+t+"' does not exist in "+this);return delete this.valuesById[r],delete this.values[t],delete this.comments[t],this},o.prototype.isReservedId=function(t){return i.isReservedId(this.reserved,t)},o.prototype.isReservedName=function(t){return i.isReservedName(this.reserved,t)}},function(t,r,n){"use strict";(t.exports=e).className="ReflectionObject";var i,s=n(0);function e(t,r){if(!s.isString(t))throw TypeError("name must be a string");if(r&&!s.isObject(r))throw TypeError("options must be an object");this.options=r,this.parsedOptions=null,this.name=t,this.parent=null,this.resolved=!1,this.comment=null,this.filename=null}Object.defineProperties(e.prototype,{root:{get:function(){for(var t=this;null!==t.parent;)t=t.parent;return t}},fullName:{get:function(){for(var t=[this.name],r=this.parent;r;)t.unshift(r.name),r=r.parent;return t.join(".")}}}),e.prototype.toJSON=function(){throw Error()},e.prototype.onAdd=function(t){this.parent&&this.parent!==t&&this.parent.remove(this),this.parent=t,this.resolved=!1;t=t.root;t instanceof i&&t.j(this)},e.prototype.onRemove=function(t){t=t.root;t instanceof i&&t.O(this),this.parent=null,this.resolved=!1},e.prototype.resolve=function(){return this.resolved||this.root instanceof i&&(this.resolved=!0),this},e.prototype.getOption=function(t){if(this.options)return this.options[t]},e.prototype.setOption=function(t,r,n){return n&&this.options&&void 0!==this.options[t]||((this.options||(this.options={}))[t]=r),this},e.prototype.setParsedOption=function(r,t,n){this.parsedOptions||(this.parsedOptions=[]);var i,e,o=this.parsedOptions;return n?(i=o.find(function(t){return Object.prototype.hasOwnProperty.call(t,r)}))?(e=i[r],s.setProperty(e,n,t)):((i={})[r]=s.setProperty({},n,t),o.push(i)):((e={})[r]=t,o.push(e)),this},e.prototype.setOptions=function(t,r){if(t)for(var n=Object.keys(t),i=0;i<n.length;++i)this.setOption(n[i],t[n[i]],r);return this},e.prototype.toString=function(){var t=this.constructor.className,r=this.fullName;return r.length?t+" "+r:t},e.S=function(t){i=t}},function(t,r,n){"use strict";t.exports=s;var i,u=n(4),e=(((s.prototype=Object.create(u.prototype)).constructor=s).className="Field",n(3)),f=n(7),a=n(0),h=/^required|optional|repeated$/;function s(t,r,n,i,e,o,s){if(a.isObject(i)?(s=e,o=i,i=e=void 0):a.isObject(e)&&(s=o,o=e,e=void 0),u.call(this,t,o),!a.isInteger(r)||r<0)throw TypeError("id must be a non-negative integer");if(!a.isString(n))throw TypeError("type must be a string");if(void 0!==i&&!h.test(i=i.toString().toLowerCase()))throw TypeError("rule must be a string rule");if(void 0!==e&&!a.isString(e))throw TypeError("extend must be a string");this.rule=(i="proto3_optional"===i?"optional":i)&&"optional"!==i?i:void 0,this.type=n,this.id=r,this.extend=e||void 0,this.required="required"===i,this.optional=!this.required,this.repeated="repeated"===i,this.map=!1,this.message=null,this.partOf=null,this.typeDefault=null,this.defaultValue=null,this.long=!!a.Long&&void 0!==f.long[n],this.bytes="bytes"===n,this.resolvedType=null,this.extensionField=null,this.declaringField=null,this.T=null,this.comment=s}s.fromJSON=function(t,r){return new s(t,r.id,r.type,r.rule,r.extend,r.options,r.comment)},Object.defineProperty(s.prototype,"packed",{get:function(){return null===this.T&&(this.T=!1!==this.getOption("packed")),this.T}}),s.prototype.setOption=function(t,r,n){return"packed"===t&&(this.T=null),u.prototype.setOption.call(this,t,r,n)},s.prototype.toJSON=function(t){t=!!t&&Boolean(t.keepComments);return a.toObject(["rule","optional"!==this.rule&&this.rule||void 0,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",t?this.comment:void 0])},s.prototype.resolve=function(){var t;return this.resolved?this:(void 0===(this.typeDefault=f.defaults[this.type])&&(this.resolvedType=(this.declaringField||this).parent.lookupTypeOrEnum(this.type),this.resolvedType instanceof i?this.typeDefault=null:this.typeDefault=this.resolvedType.values[Object.keys(this.resolvedType.values)[0]]),this.options&&null!=this.options.default&&(this.typeDefault=this.options.default,this.resolvedType instanceof e)&&"string"==typeof this.typeDefault&&(this.typeDefault=this.resolvedType.values[this.typeDefault]),this.options&&(!0!==this.options.packed&&(void 0===this.options.packed||!this.resolvedType||this.resolvedType instanceof e)||delete this.options.packed,Object.keys(this.options).length||(this.options=void 0)),this.long?(this.typeDefault=a.Long.fromNumber(this.typeDefault,"u"===this.type.charAt(0)),Object.freeze&&Object.freeze(this.typeDefault)):this.bytes&&"string"==typeof this.typeDefault&&(a.base64.test(this.typeDefault)?a.base64.decode(this.typeDefault,t=a.newBuffer(a.base64.length(this.typeDefault)),0):a.utf8.write(this.typeDefault,t=a.newBuffer(a.utf8.length(this.typeDefault)),0),this.typeDefault=t),this.map?this.defaultValue=a.emptyObject:this.repeated?this.defaultValue=a.emptyArray:this.defaultValue=this.typeDefault,this.parent instanceof i&&(this.parent.ctor.prototype[this.name]=this.defaultValue),u.prototype.resolve.call(this))},s.d=function(n,i,e,o){return"function"==typeof i?i=a.decorateType(i).name:i&&"object"==typeof i&&(i=a.decorateEnum(i).name),function(t,r){a.decorateType(t.constructor).add(new s(r,n,i,e,{default:o}))}},s.S=function(t){i=t}},function(t,r,n){"use strict";t.exports=c;var e,o,s,i=n(4),u=(((c.prototype=Object.create(i.prototype)).constructor=c).className="Namespace",n(5)),f=n(8),a=n(0);function h(t,r){if(t&&t.length){for(var n={},i=0;i<t.length;++i)n[t[i].name]=t[i].toJSON(r);return n}}function c(t,r){i.call(this,t,r),this.nested=void 0,this.R=null}function l(t){return t.R=null,t}c.fromJSON=function(t,r){return new c(t,r.options).addJSON(r.nested)},c.arrayToJSON=h,c.isReservedId=function(t,r){if(t)for(var n=0;n<t.length;++n)if("string"!=typeof t[n]&&t[n][0]<=r&&t[n][1]>r)return!0;return!1},c.isReservedName=function(t,r){if(t)for(var n=0;n<t.length;++n)if(t[n]===r)return!0;return!1},Object.defineProperty(c.prototype,"nestedArray",{get:function(){return this.R||(this.R=a.toArray(this.nested))}}),c.prototype.toJSON=function(t){return a.toObject(["options",this.options,"nested",h(this.nestedArray,t)])},c.prototype.addJSON=function(t){if(t)for(var r,n=Object.keys(t),i=0;i<n.length;++i)r=t[n[i]],this.add((void 0!==r.fields?e:void 0!==r.values?s:void 0!==r.methods?o:void 0!==r.id?u:c).fromJSON(n[i],r));return this},c.prototype.get=function(t){return this.nested&&this.nested[t]||null},c.prototype.getEnum=function(t){if(this.nested&&this.nested[t]instanceof s)return this.nested[t].values;throw Error("no such enum: "+t)},c.prototype.add=function(t){if(!(t instanceof u&&void 0!==t.extend||t instanceof e||t instanceof s||t instanceof o||t instanceof c||t instanceof f))throw TypeError("object must be a valid nested object");if(this.nested){var r=this.get(t.name);if(r){if(!(r instanceof c&&t instanceof c)||r instanceof e||r instanceof o)throw Error("duplicate name '"+t.name+"' in "+this);for(var n=r.nestedArray,i=0;i<n.length;++i)t.add(n[i]);this.remove(r),this.nested||(this.nested={}),t.setOptions(r.options,!0)}}else this.nested={};return(this.nested[t.name]=t).onAdd(this),l(this)},c.prototype.remove=function(t){if(!(t instanceof i))throw TypeError("object must be a ReflectionObject");if(t.parent!==this)throw Error(t+" is not a member of "+this);return delete this.nested[t.name],Object.keys(this.nested).length||(this.nested=void 0),t.onRemove(this),l(this)},c.prototype.define=function(t,r){if(a.isString(t))t=t.split(".");else if(!Array.isArray(t))throw TypeError("illegal path");if(t&&t.length&&""===t[0])throw Error("path must be relative");for(var n=this;0<t.length;){var i=t.shift();if(n.nested&&n.nested[i]){if(!((n=n.nested[i])instanceof c))throw Error("path conflicts with non-namespace objects")}else n.add(n=new c(i))}return r&&n.addJSON(r),n},c.prototype.resolveAll=function(){for(var t=this.nestedArray,r=0;r<t.length;)t[r]instanceof c?t[r++].resolveAll():t[r++].resolve();return this.resolve()},c.prototype.lookup=function(t,r,n){if("boolean"==typeof r?(n=r,r=void 0):r&&!Array.isArray(r)&&(r=[r]),a.isString(t)&&t.length){if("."===t)return this.root;t=t.split(".")}else if(!t.length)return this;if(""===t[0])return this.root.lookup(t.slice(1),r);var i=this.get(t[0]);if(i){if(1===t.length){if(!r||-1<r.indexOf(i.constructor))return i}else if(i instanceof c&&(i=i.lookup(t.slice(1),r,!0)))return i}else for(var e=0;e<this.nestedArray.length;++e)if(this.R[e]instanceof c&&(i=this.R[e].lookup(t,r,!0)))return i;return null===this.parent||n?null:this.parent.lookup(t,r)},c.prototype.lookupType=function(t){var r=this.lookup(t,[e]);if(r)return r;throw Error("no such type: "+t)},c.prototype.lookupEnum=function(t){var r=this.lookup(t,[s]);if(r)return r;throw Error("no such Enum '"+t+"' in "+this)},c.prototype.lookupTypeOrEnum=function(t){var r=this.lookup(t,[e,s]);if(r)return r;throw Error("no such Type or Enum '"+t+"' in "+this)},c.prototype.lookupService=function(t){var r=this.lookup(t,[o]);if(r)return r;throw Error("no such Service '"+t+"' in "+this)},c.S=function(t,r,n){e=t,o=r,s=n}},function(t,r,n){"use strict";var n=n(0),e=["double","float","int32","uint32","sint32","fixed32","sfixed32","int64","uint64","sint64","fixed64","sfixed64","bool","string","bytes"];function i(t,r){var n=0,i={};for(r|=0;n<t.length;)i[e[n+r]]=t[n++];return i}r.basic=i([1,5,0,0,0,5,5,0,0,0,1,1,0,2,2]),r.defaults=i([0,0,0,0,0,0,0,0,0,0,0,0,!1,"",n.emptyArray,null]),r.long=i([0,0,0,1,1],7),r.mapKey=i([0,0,0,5,5,0,0,0,1,1,0,2],2),r.packed=i([1,5,0,0,0,5,5,0,0,0,1,1,0])},function(t,r,n){"use strict";t.exports=s;var e=n(4),i=(((s.prototype=Object.create(e.prototype)).constructor=s).className="OneOf",n(5)),o=n(0);function s(t,r,n,i){if(Array.isArray(r)||(n=r,r=void 0),e.call(this,t,n),void 0!==r&&!Array.isArray(r))throw TypeError("fieldNames must be an Array");this.oneof=r||[],this.fieldsArray=[],this.comment=i}function u(t){if(t.parent)for(var r=0;r<t.fieldsArray.length;++r)t.fieldsArray[r].parent||t.parent.add(t.fieldsArray[r])}s.fromJSON=function(t,r){return new s(t,r.oneof,r.options,r.comment)},s.prototype.toJSON=function(t){t=!!t&&Boolean(t.keepComments);return o.toObject(["options",this.options,"oneof",this.oneof,"comment",t?this.comment:void 0])},s.prototype.add=function(t){if(t instanceof i)return t.parent&&t.parent!==this.parent&&t.parent.remove(t),this.oneof.push(t.name),this.fieldsArray.push(t),u(t.partOf=this),this;throw TypeError("field must be a Field")},s.prototype.remove=function(t){if(!(t instanceof i))throw TypeError("field must be a Field");var r=this.fieldsArray.indexOf(t);if(r<0)throw Error(t+" is not a member of "+this);return this.fieldsArray.splice(r,1),-1<(r=this.oneof.indexOf(t.name))&&this.oneof.splice(r,1),t.partOf=null,this},s.prototype.onAdd=function(t){e.prototype.onAdd.call(this,t);for(var r=0;r<this.oneof.length;++r){var n=t.get(this.oneof[r]);n&&!n.partOf&&(n.partOf=this).fieldsArray.push(n)}u(this)},s.prototype.onRemove=function(t){for(var r,n=0;n<this.fieldsArray.length;++n)(r=this.fieldsArray[n]).parent&&r.parent.remove(r);e.prototype.onRemove.call(this,t)},s.d=function(){for(var n=new Array(arguments.length),t=0;t<arguments.length;)n[t]=arguments[t++];return function(t,r){o.decorateType(t.constructor).add(new s(r,n)),Object.defineProperty(t,r,{get:o.oneOfGetter(n),set:o.oneOfSetter(n)})}}},function(t,r){var n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,r,n){"use strict";t.exports=c;var i,e=n(2),o=e.LongBits,s=e.base64,u=e.utf8;function f(t,r,n){this.fn=t,this.len=r,this.next=void 0,this.val=n}function a(){}function h(t){this.head=t.head,this.tail=t.tail,this.len=t.len,this.next=t.states}function c(){this.len=0,this.head=new f(a,0,0),this.tail=this.head,this.states=null}function l(){return e.Buffer?function(){return(c.create=function(){return new i})()}:function(){return new c}}function v(t,r,n){r[n]=255&t}function y(t,r){this.len=t,this.next=void 0,this.val=r}function b(t,r,n){for(;t.hi;)r[n++]=127&t.lo|128,t.lo=(t.lo>>>7|t.hi<<25)>>>0,t.hi>>>=7;for(;127<t.lo;)r[n++]=127&t.lo|128,t.lo=t.lo>>>7;r[n++]=t.lo}function d(t,r,n){r[n]=255&t,r[n+1]=t>>>8&255,r[n+2]=t>>>16&255,r[n+3]=t>>>24}c.create=l(),c.alloc=function(t){return new e.Array(t)},e.Array!==Array&&(c.alloc=e.pool(c.alloc,e.Array.prototype.subarray)),c.prototype.M=function(t,r,n){return this.tail=this.tail.next=new f(t,r,n),this.len+=r,this},(y.prototype=Object.create(f.prototype)).fn=function(t,r,n){for(;127<t;)r[n++]=127&t|128,t>>>=7;r[n]=t},c.prototype.uint32=function(t){return this.len+=(this.tail=this.tail.next=new y((t>>>=0)<128?1:t<16384?2:t<2097152?3:t<268435456?4:5,t)).len,this},c.prototype.int32=function(t){return t<0?this.M(b,10,o.fromNumber(t)):this.uint32(t)},c.prototype.sint32=function(t){return this.uint32((t<<1^t>>31)>>>0)},c.prototype.int64=c.prototype.uint64=function(t){t=o.from(t);return this.M(b,t.length(),t)},c.prototype.sint64=function(t){t=o.from(t).zzEncode();return this.M(b,t.length(),t)},c.prototype.bool=function(t){return this.M(v,1,t?1:0)},c.prototype.sfixed32=c.prototype.fixed32=function(t){return this.M(d,4,t>>>0)},c.prototype.sfixed64=c.prototype.fixed64=function(t){t=o.from(t);return this.M(d,4,t.lo).M(d,4,t.hi)},c.prototype.float=function(t){return this.M(e.float.writeFloatLE,4,t)},c.prototype.double=function(t){return this.M(e.float.writeDoubleLE,8,t)};var p=e.Array.prototype.set?function(t,r,n){r.set(t,n)}:function(t,r,n){for(var i=0;i<t.length;++i)r[n+i]=t[i]};c.prototype.bytes=function(t){var r,n=t.length>>>0;return n?(e.isString(t)&&(r=c.alloc(n=s.length(t)),s.decode(t,r,0),t=r),this.uint32(n).M(p,n,t)):this.M(v,1,0)},c.prototype.string=function(t){var r=u.length(t);return r?this.uint32(r).M(u.write,r,t):this.M(v,1,0)},c.prototype.fork=function(){return this.states=new h(this),this.head=this.tail=new f(a,0,0),this.len=0,this},c.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new f(a,0,0),this.len=0),this},c.prototype.ldelim=function(){var t=this.head,r=this.tail,n=this.len;return this.reset().uint32(n),n&&(this.tail.next=t.next,this.tail=r,this.len+=n),this},c.prototype.finish=function(){for(var t=this.head.next,r=this.constructor.alloc(this.len),n=0;t;)t.fn(t.val,r,n),n+=t.len,t=t.next;return r},c.S=function(t){i=t,c.create=l(),i.S()}},function(t,r,n){"use strict";t.exports=f;var i,e=n(2),o=e.LongBits,s=e.utf8;function u(t,r){return RangeError("index out of range: "+t.pos+" + "+(r||1)+" > "+t.len)}function f(t){this.buf=t,this.pos=0,this.len=t.length}function a(){return e.Buffer?function(t){return(f.create=function(t){return e.Buffer.isBuffer(t)?new i(t):c(t)})(t)}:c}var h,c="undefined"!=typeof Uint8Array?function(t){if(t instanceof Uint8Array||Array.isArray(t))return new f(t);throw Error("illegal buffer")}:function(t){if(Array.isArray(t))return new f(t);throw Error("illegal buffer")};function l(){var t=new o(0,0),r=0;if(!(4<this.len-this.pos)){for(;r<3;++r){if(this.pos>=this.len)throw u(this);if(t.lo=(t.lo|(127&this.buf[this.pos])<<7*r)>>>0,this.buf[this.pos++]<128)return t}return t.lo=(t.lo|(127&this.buf[this.pos++])<<7*r)>>>0,t}for(;r<4;++r)if(t.lo=(t.lo|(127&this.buf[this.pos])<<7*r)>>>0,this.buf[this.pos++]<128)return t;if(t.lo=(t.lo|(127&this.buf[this.pos])<<28)>>>0,t.hi=(t.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return t;if(r=0,4<this.len-this.pos){for(;r<5;++r)if(t.hi=(t.hi|(127&this.buf[this.pos])<<7*r+3)>>>0,this.buf[this.pos++]<128)return t}else for(;r<5;++r){if(this.pos>=this.len)throw u(this);if(t.hi=(t.hi|(127&this.buf[this.pos])<<7*r+3)>>>0,this.buf[this.pos++]<128)return t}throw Error("invalid varint encoding")}function v(t,r){return(t[r-4]|t[r-3]<<8|t[r-2]<<16|t[r-1]<<24)>>>0}function y(){if(this.pos+8>this.len)throw u(this,8);return new o(v(this.buf,this.pos+=4),v(this.buf,this.pos+=4))}f.create=a(),f.prototype.N=e.Array.prototype.subarray||e.Array.prototype.slice,f.prototype.uint32=(h=4294967295,function(){if(h=(127&this.buf[this.pos])>>>0,this.buf[this.pos++]<128||(h=(h|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)||(h=(h|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)||(h=(h|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)||(h=(h|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128)||!((this.pos+=5)>this.len))return h;throw this.pos=this.len,u(this,10)}),f.prototype.int32=function(){return 0|this.uint32()},f.prototype.sint32=function(){var t=this.uint32();return t>>>1^-(1&t)|0},f.prototype.bool=function(){return 0!==this.uint32()},f.prototype.fixed32=function(){if(this.pos+4>this.len)throw u(this,4);return v(this.buf,this.pos+=4)},f.prototype.sfixed32=function(){if(this.pos+4>this.len)throw u(this,4);return 0|v(this.buf,this.pos+=4)},f.prototype.float=function(){if(this.pos+4>this.len)throw u(this,4);var t=e.float.readFloatLE(this.buf,this.pos);return this.pos+=4,t},f.prototype.double=function(){if(this.pos+8>this.len)throw u(this,4);var t=e.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,t},f.prototype.bytes=function(){var t=this.uint32(),r=this.pos,n=this.pos+t;if(n>this.len)throw u(this,t);return this.pos+=t,Array.isArray(this.buf)?this.buf.slice(r,n):r===n?new this.buf.constructor(0):this.N.call(this.buf,r,n)},f.prototype.string=function(){var t=this.bytes();return s.read(t,0,t.length)},f.prototype.skip=function(t){if("number"==typeof t){if(this.pos+t>this.len)throw u(this,t);this.pos+=t}else do{if(this.pos>=this.len)throw u(this)}while(128&this.buf[this.pos++]);return this},f.prototype.skipType=function(t){switch(t){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(t=7&this.uint32());)this.skipType(t);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+t+" at offset "+this.pos)}return this},f.S=function(t){i=t,f.create=a(),i.S();var r=e.Long?"toLong":"toNumber";e.merge(f.prototype,{int64:function(){return l.call(this)[r](!1)},uint64:function(){return l.call(this)[r](!0)},sint64:function(){return l.call(this).zzDecode()[r](!1)},fixed64:function(){return y.call(this)[r](!0)},sfixed64:function(){return y.call(this)[r](!1)}})}},function(t,r,n){"use strict";t.exports=e;var i=n(2);function e(t){if(t)for(var r=Object.keys(t),n=0;n<r.length;++n)this[r[n]]=t[r[n]]}e.create=function(t){return this.$type.create(t)},e.encode=function(t,r){return this.$type.encode(t,r)},e.encodeDelimited=function(t,r){return this.$type.encodeDelimited(t,r)},e.decode=function(t){return this.$type.decode(t)},e.decodeDelimited=function(t){return this.$type.decodeDelimited(t)},e.verify=function(t){return this.$type.verify(t)},e.fromObject=function(t){return this.$type.fromObject(t)},e.toObject=function(t,r){return this.$type.toObject(t,r)},e.prototype.toJSON=function(){return this.$type.toObject(this,i.toJSONOptions)}},function(t,r,n){"use strict";t.exports=function(t,r){var n=new Array(arguments.length-1),o=0,i=2,s=!0;for(;i<arguments.length;)n[o++]=arguments[i++];return new Promise(function(i,e){n[o]=function(t){if(s)if(s=!1,t)e(t);else{for(var r=new Array(arguments.length-1),n=0;n<r.length;)r[n++]=arguments[n];i.apply(null,r)}};try{t.apply(r||null,n)}catch(t){s&&(s=!1,e(t))}})}},function(module,exports,__webpack_require__){"use strict";function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}module.exports=inquire},function(t,r,n){"use strict";r.Service=n(39)},function(t,r,n){"use strict";t.exports={}},function(t,r,n){"use strict";t.exports=function(t){for(var r,n=c.codegen(["m","w"],t.name+"$encode")("if(!w)")("w=Writer.create()"),i=t.fieldsArray.slice().sort(c.compareFieldsById),e=0;e<i.length;++e){var o=i[e].resolve(),s=t.k.indexOf(o),u=o.resolvedType instanceof a?"int32":o.type,f=h.basic[u];r="m"+c.safeProp(o.name),o.map?(n("if(%s!=null&&Object.hasOwnProperty.call(m,%j)){",r,o.name)("for(var ks=Object.keys(%s),i=0;i<ks.length;++i){",r)("w.uint32(%i).fork().uint32(%i).%s(ks[i])",(o.id<<3|2)>>>0,8|h.mapKey[o.keyType],o.keyType),void 0===f?n("types[%i].encode(%s[ks[i]],w.uint32(18).fork()).ldelim().ldelim()",s,r):n(".uint32(%i).%s(%s[ks[i]]).ldelim()",16|f,u,r),n("}")("}")):o.repeated?(n("if(%s!=null&&%s.length){",r,r),o.packed&&void 0!==h.packed[u]?n("w.uint32(%i).fork()",(o.id<<3|2)>>>0)("for(var i=0;i<%s.length;++i)",r)("w.%s(%s[i])",u,r)("w.ldelim()"):(n("for(var i=0;i<%s.length;++i)",r),void 0===f?l(n,o,s,r+"[i]"):n("w.uint32(%i).%s(%s[i])",(o.id<<3|f)>>>0,u,r)),n("}")):(o.optional&&n("if(%s!=null&&Object.hasOwnProperty.call(m,%j))",r,o.name),void 0===f?l(n,o,s,r):n("w.uint32(%i).%s(%s)",(o.id<<3|f)>>>0,u,r))}return n("return w")};var a=n(3),h=n(7),c=n(0);function l(t,r,n,i){r.resolvedType.group?t("types[%i].encode(%s,w.uint32(%i)).uint32(%i)",n,i,(r.id<<3|3)>>>0,(r.id<<3|4)>>>0):t("types[%i].encode(%s,w.uint32(%i).fork()).ldelim()",n,i,(r.id<<3|2)>>>0)}},function(t,r,n){"use strict";t.exports=w;var s=n(6),u=(((w.prototype=Object.create(s.prototype)).constructor=w).className="Type",n(3)),f=n(8),a=n(5),h=n(19),c=n(20),e=n(12),o=n(11),l=n(10),v=n(0),y=n(17),b=n(22),d=n(23),p=n(24),m=n(25);function w(t,r){s.call(this,t,r),this.fields={},this.oneofs=void 0,this.extensions=void 0,this.reserved=void 0,this.group=void 0,this.A=null,this.k=null,this.I=null,this.P=null}function i(t){return t.A=t.k=t.I=null,delete t.encode,delete t.decode,delete t.verify,t}Object.defineProperties(w.prototype,{fieldsById:{get:function(){if(!this.A){this.A={};for(var t=Object.keys(this.fields),r=0;r<t.length;++r){var n=this.fields[t[r]],i=n.id;if(this.A[i])throw Error("duplicate id "+i+" in "+this);this.A[i]=n}}return this.A}},fieldsArray:{get:function(){return this.k||(this.k=v.toArray(this.fields))}},oneofsArray:{get:function(){return this.I||(this.I=v.toArray(this.oneofs))}},ctor:{get:function(){return this.P||(this.ctor=w.generateConstructor(this)())},set:function(t){for(var r=t.prototype,n=(r instanceof e||((t.prototype=new e).constructor=t,v.merge(t.prototype,r)),t.$type=t.prototype.$type=this,v.merge(t,e,!0),this.P=t,0);n<this.fieldsArray.length;++n)this.k[n].resolve();for(var i={},n=0;n<this.oneofsArray.length;++n)i[this.I[n].resolve().name]={get:v.oneOfGetter(this.I[n].oneof),set:v.oneOfSetter(this.I[n].oneof)};n&&Object.defineProperties(t.prototype,i)}}}),w.generateConstructor=function(t){for(var r,n=v.codegen(["p"],t.name),i=0;i<t.fieldsArray.length;++i)(r=t.k[i]).map?n("this%s={}",v.safeProp(r.name)):r.repeated&&n("this%s=[]",v.safeProp(r.name));return n("if(p)for(var ks=Object.keys(p),i=0;i<ks.length;++i)if(p[ks[i]]!=null)")("this[ks[i]]=p[ks[i]]")},w.fromJSON=function(t,r){for(var n=new w(t,r.options),i=(n.extensions=r.extensions,n.reserved=r.reserved,Object.keys(r.fields)),e=0;e<i.length;++e)n.add((void 0!==r.fields[i[e]].keyType?h:a).fromJSON(i[e],r.fields[i[e]]));if(r.oneofs)for(i=Object.keys(r.oneofs),e=0;e<i.length;++e)n.add(f.fromJSON(i[e],r.oneofs[i[e]]));if(r.nested)for(i=Object.keys(r.nested),e=0;e<i.length;++e){var o=r.nested[i[e]];n.add((void 0!==o.id?a:void 0!==o.fields?w:void 0!==o.values?u:void 0!==o.methods?c:s).fromJSON(i[e],o))}return r.extensions&&r.extensions.length&&(n.extensions=r.extensions),r.reserved&&r.reserved.length&&(n.reserved=r.reserved),r.group&&(n.group=!0),r.comment&&(n.comment=r.comment),n},w.prototype.toJSON=function(t){var r=s.prototype.toJSON.call(this,t),n=!!t&&Boolean(t.keepComments);return v.toObject(["options",r&&r.options||void 0,"oneofs",s.arrayToJSON(this.oneofsArray,t),"fields",s.arrayToJSON(this.fieldsArray.filter(function(t){return!t.declaringField}),t)||{},"extensions",this.extensions&&this.extensions.length?this.extensions:void 0,"reserved",this.reserved&&this.reserved.length?this.reserved:void 0,"group",this.group||void 0,"nested",r&&r.nested||void 0,"comment",n?this.comment:void 0])},w.prototype.resolveAll=function(){for(var t=this.fieldsArray,r=0;r<t.length;)t[r++].resolve();for(var n=this.oneofsArray,r=0;r<n.length;)n[r++].resolve();return s.prototype.resolveAll.call(this)},w.prototype.get=function(t){return this.fields[t]||this.oneofs&&this.oneofs[t]||this.nested&&this.nested[t]||null},w.prototype.add=function(t){if(this.get(t.name))throw Error("duplicate name '"+t.name+"' in "+this);if(t instanceof a&&void 0===t.extend){if((this.A||this.fieldsById)[t.id])throw Error("duplicate id "+t.id+" in "+this);if(this.isReservedId(t.id))throw Error("id "+t.id+" is reserved in "+this);if(this.isReservedName(t.name))throw Error("name '"+t.name+"' is reserved in "+this);return t.parent&&t.parent.remove(t),(this.fields[t.name]=t).message=this,t.onAdd(this),i(this)}return t instanceof f?(this.oneofs||(this.oneofs={}),(this.oneofs[t.name]=t).onAdd(this),i(this)):s.prototype.add.call(this,t)},w.prototype.remove=function(t){if(t instanceof a&&void 0===t.extend){if(this.fields&&this.fields[t.name]===t)return delete this.fields[t.name],t.parent=null,t.onRemove(this),i(this);throw Error(t+" is not a member of "+this)}if(t instanceof f){if(this.oneofs&&this.oneofs[t.name]===t)return delete this.oneofs[t.name],t.parent=null,t.onRemove(this),i(this);throw Error(t+" is not a member of "+this)}return s.prototype.remove.call(this,t)},w.prototype.isReservedId=function(t){return s.isReservedId(this.reserved,t)},w.prototype.isReservedName=function(t){return s.isReservedName(this.reserved,t)},w.prototype.create=function(t){return new this.ctor(t)},w.prototype.setup=function(){for(var t=this.fullName,r=[],n=0;n<this.fieldsArray.length;++n)r.push(this.k[n].resolve().resolvedType);this.encode=y(this)({Writer:l,types:r,util:v}),this.decode=b(this)({Reader:o,types:r,util:v}),this.verify=d(this)({types:r,util:v}),this.fromObject=p.fromObject(this)({types:r,util:v}),this.toObject=p.toObject(this)({types:r,util:v});var i,t=m[t];return t&&((i=Object.create(this)).fromObject=this.fromObject,this.fromObject=t.fromObject.bind(i),i.toObject=this.toObject,this.toObject=t.toObject.bind(i)),this},w.prototype.encode=function(t,r){return this.setup().encode(t,r)},w.prototype.encodeDelimited=function(t,r){return this.encode(t,r&&r.len?r.fork():r).ldelim()},w.prototype.decode=function(t,r){return this.setup().decode(t,r)},w.prototype.decodeDelimited=function(t){return t instanceof o||(t=o.create(t)),this.decode(t,t.uint32())},w.prototype.verify=function(t){return this.setup().verify(t)},w.prototype.fromObject=function(t){return this.setup().fromObject(t)},w.prototype.toObject=function(t,r){return this.setup().toObject(t,r)},w.d=function(r){return function(t){v.decorateType(t,r)}}},function(t,r,n){"use strict";t.exports=o;var s=n(5),i=(((o.prototype=Object.create(s.prototype)).constructor=o).className="MapField",n(7)),u=n(0);function o(t,r,n,i,e,o){if(s.call(this,t,r,i,void 0,void 0,e,o),!u.isString(n))throw TypeError("keyType must be a string");this.keyType=n,this.resolvedKeyType=null,this.map=!0}o.fromJSON=function(t,r){return new o(t,r.id,r.keyType,r.type,r.options,r.comment)},o.prototype.toJSON=function(t){t=!!t&&Boolean(t.keepComments);return u.toObject(["keyType",this.keyType,"type",this.type,"id",this.id,"extend",this.extend,"options",this.options,"comment",t?this.comment:void 0])},o.prototype.resolve=function(){if(this.resolved)return this;if(void 0===i.mapKey[this.keyType])throw Error("invalid key type: "+this.keyType);return s.prototype.resolve.call(this)},o.d=function(n,i,e){return"function"==typeof e?e=u.decorateType(e).name:e&&"object"==typeof e&&(e=u.decorateEnum(e).name),function(t,r){u.decorateType(t.constructor).add(new o(r,n,i,e))}}},function(t,r,n){"use strict";t.exports=s;var i=n(6),o=(((s.prototype=Object.create(i.prototype)).constructor=s).className="Service",n(21)),u=n(0),f=n(15);function s(t,r){i.call(this,t,r),this.methods={},this.L=null}function e(t){return t.L=null,t}s.fromJSON=function(t,r){var n=new s(t,r.options);if(r.methods)for(var i=Object.keys(r.methods),e=0;e<i.length;++e)n.add(o.fromJSON(i[e],r.methods[i[e]]));return r.nested&&n.addJSON(r.nested),n.comment=r.comment,n},s.prototype.toJSON=function(t){var r=i.prototype.toJSON.call(this,t),n=!!t&&Boolean(t.keepComments);return u.toObject(["options",r&&r.options||void 0,"methods",i.arrayToJSON(this.methodsArray,t)||{},"nested",r&&r.nested||void 0,"comment",n?this.comment:void 0])},Object.defineProperty(s.prototype,"methodsArray",{get:function(){return this.L||(this.L=u.toArray(this.methods))}}),s.prototype.get=function(t){return this.methods[t]||i.prototype.get.call(this,t)},s.prototype.resolveAll=function(){for(var t=this.methodsArray,r=0;r<t.length;++r)t[r].resolve();return i.prototype.resolve.call(this)},s.prototype.add=function(t){if(this.get(t.name))throw Error("duplicate name '"+t.name+"' in "+this);return t instanceof o?e((this.methods[t.name]=t).parent=this):i.prototype.add.call(this,t)},s.prototype.remove=function(t){if(t instanceof o){if(this.methods[t.name]!==t)throw Error(t+" is not a member of "+this);return delete this.methods[t.name],t.parent=null,e(this)}return i.prototype.remove.call(this,t)},s.prototype.create=function(t,r,n){for(var i,e=new f.Service(t,r,n),o=0;o<this.methodsArray.length;++o){var s=u.lcFirst((i=this.L[o]).resolve().name).replace(/[^$\w_]/g,"");e[s]=u.codegen(["r","c"],u.isReserved(s)?s+"_":s)("return this.rpcCall(m,q,s,r,c)")({m:i,q:i.resolvedRequestType.ctor,s:i.resolvedResponseType.ctor})}return e}},function(t,r,n){"use strict";t.exports=i;var a=n(4),h=(((i.prototype=Object.create(a.prototype)).constructor=i).className="Method",n(0));function i(t,r,n,i,e,o,s,u,f){if(h.isObject(e)?(s=e,e=o=void 0):h.isObject(o)&&(s=o,o=void 0),void 0!==r&&!h.isString(r))throw TypeError("type must be a string");if(!h.isString(n))throw TypeError("requestType must be a string");if(!h.isString(i))throw TypeError("responseType must be a string");a.call(this,t,s),this.type=r||"rpc",this.requestType=n,this.requestStream=!!e||void 0,this.responseType=i,this.responseStream=!!o||void 0,this.resolvedRequestType=null,this.resolvedResponseType=null,this.comment=u,this.parsedOptions=f}i.fromJSON=function(t,r){return new i(t,r.type,r.requestType,r.responseType,r.requestStream,r.responseStream,r.options,r.comment,r.parsedOptions)},i.prototype.toJSON=function(t){t=!!t&&Boolean(t.keepComments);return h.toObject(["type","rpc"!==this.type&&this.type||void 0,"requestType",this.requestType,"requestStream",this.requestStream,"responseType",this.responseType,"responseStream",this.responseStream,"options",this.options,"comment",t?this.comment:void 0,"parsedOptions",this.parsedOptions])},i.prototype.resolve=function(){return this.resolved?this:(this.resolvedRequestType=this.parent.lookupType(this.requestType),this.resolvedResponseType=this.parent.lookupType(this.responseType),a.prototype.resolve.call(this))}},function(t,r,n){"use strict";t.exports=function(t){var r=a.codegen(["r","l"],t.name+"$decode")("if(!(r instanceof Reader))")("r=Reader.create(r)")("var c=l===undefined?r.len:r.pos+l,m=new this.ctor"+(t.fieldsArray.filter(function(t){return t.map}).length?",k,value":""))("while(r.pos<c){")("var t=r.uint32()");t.group&&r("if((t&7)===4)")("break");r("switch(t>>>3){");for(var n=0;n<t.fieldsArray.length;++n){var i=t.k[n].resolve(),e=i.resolvedType instanceof u?"int32":i.type,o="m"+a.safeProp(i.name);r("case %i:",i.id),i.map?(r("if(%s===util.emptyObject)",o)("%s={}",o)("var c2 = r.uint32()+r.pos"),void 0!==f.defaults[i.keyType]?r("k=%j",f.defaults[i.keyType]):r("k=null"),void 0!==f.defaults[e]?r("value=%j",f.defaults[e]):r("value=null"),r("while(r.pos<c2){")("var tag2=r.uint32()")("switch(tag2>>>3){")("case 1: k=r.%s(); break",i.keyType)("case 2:"),void 0===f.basic[e]?r("value=types[%i].decode(r,r.uint32())",n):r("value=r.%s()",e),r("break")("default:")("r.skipType(tag2&7)")("break")("}")("}"),void 0!==f.long[i.keyType]?r('%s[typeof k==="object"?util.longToHash(k):k]=value',o):r("%s[k]=value",o)):i.repeated?(r("if(!(%s&&%s.length))",o,o)("%s=[]",o),void 0!==f.packed[e]&&r("if((t&7)===2){")("var c2=r.uint32()+r.pos")("while(r.pos<c2)")("%s.push(r.%s())",o,e)("}else"),void 0===f.basic[e]?r(i.resolvedType.group?"%s.push(types[%i].decode(r))":"%s.push(types[%i].decode(r,r.uint32()))",o,n):r("%s.push(r.%s())",o,e)):void 0===f.basic[e]?r(i.resolvedType.group?"%s=types[%i].decode(r)":"%s=types[%i].decode(r,r.uint32())",o,n):r("%s=r.%s()",o,e),r("break")}for(r("default:")("r.skipType(t&7)")("break")("}")("}"),n=0;n<t.k.length;++n){var s=t.k[n];s.required&&r("if(!m.hasOwnProperty(%j))",s.name)("throw util.ProtocolError(%j,{instance:m})","missing required '"+s.name+"'")}return r("return m")};var u=n(3),f=n(7),a=n(0)},function(t,r,n){"use strict";t.exports=function(t){var r=f.codegen(["m"],t.name+"$verify")('if(typeof m!=="object"||m===null)')("return%j","object expected"),n=t.oneofsArray,i={};n.length&&r("var p={}");for(var e=0;e<t.fieldsArray.length;++e){var o,s=t.k[e].resolve(),u="m"+f.safeProp(s.name);s.optional&&r("if(%s!=null&&m.hasOwnProperty(%j)){",u,s.name),s.map?(r("if(!util.isObject(%s))",u)("return%j",a(s,"object"))("var k=Object.keys(%s)",u)("for(var i=0;i<k.length;++i){"),function(t,r,n){switch(r.keyType){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":t("if(!util.key32Re.test(%s))",n)("return%j",a(r,"integer key"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":t("if(!util.key64Re.test(%s))",n)("return%j",a(r,"integer|Long key"));break;case"bool":t("if(!util.key2Re.test(%s))",n)("return%j",a(r,"boolean key"))}}(r,s,"k[i]"),h(r,s,e,u+"[k[i]]")("}")):s.repeated?(r("if(!Array.isArray(%s))",u)("return%j",a(s,"array"))("for(var i=0;i<%s.length;++i){",u),h(r,s,e,u+"[i]")("}")):(s.partOf&&(o=f.safeProp(s.partOf.name),1===i[s.partOf.name]&&r("if(p%s===1)",o)("return%j",s.partOf.name+": multiple values"),i[s.partOf.name]=1,r("p%s=1",o)),h(r,s,e,u)),s.optional&&r("}")}return r("return null")};var s=n(3),f=n(0);function a(t,r){return t.name+": "+r+(t.repeated&&"array"!==r?"[]":t.map&&"object"!==r?"{k:"+t.keyType+"}":"")+" expected"}function h(t,r,n,i){if(r.resolvedType)if(r.resolvedType instanceof s){t("switch(%s){",i)("default:")("return%j",a(r,"enum value"));for(var e=Object.keys(r.resolvedType.values),o=0;o<e.length;++o)t("case %i:",r.resolvedType.values[e[o]]);t("break")("}")}else t("{")("var e=types[%i].verify(%s);",n,i)("if(e)")("return%j+e",r.name+".")("}");else switch(r.type){case"int32":case"uint32":case"sint32":case"fixed32":case"sfixed32":t("if(!util.isInteger(%s))",i)("return%j",a(r,"integer"));break;case"int64":case"uint64":case"sint64":case"fixed64":case"sfixed64":t("if(!util.isInteger(%s)&&!(%s&&util.isInteger(%s.low)&&util.isInteger(%s.high)))",i,i,i,i)("return%j",a(r,"integer|Long"));break;case"float":case"double":t('if(typeof %s!=="number")',i)("return%j",a(r,"number"));break;case"bool":t('if(typeof %s!=="boolean")',i)("return%j",a(r,"boolean"));break;case"string":t("if(!util.isString(%s))",i)("return%j",a(r,"string"));break;case"bytes":t('if(!(%s&&typeof %s.length==="number"||util.isString(%s)))',i,i,i)("return%j",a(r,"buffer"))}return t}},function(t,r,n){"use strict";var l=n(3),v=n(0);function s(t,r,n,i){if(r.resolvedType)if(r.resolvedType instanceof l){t("switch(d%s){",i);for(var e=r.resolvedType.values,o=Object.keys(e),s=0;s<o.length;++s)r.repeated&&e[o[s]]===r.typeDefault&&t("default:"),t("case%j:",o[s])("case %i:",e[o[s]])("m%s=%j",i,e[o[s]])("break");t("}")}else t('if(typeof d%s!=="object")',i)("throw TypeError(%j)",r.fullName+": object expected")("m%s=types[%i].fromObject(d%s)",i,n,i);else{var u=!1;switch(r.type){case"double":case"float":t("m%s=Number(d%s)",i,i);break;case"uint32":case"fixed32":t("m%s=d%s>>>0",i,i);break;case"int32":case"sint32":case"sfixed32":t("m%s=d%s|0",i,i);break;case"uint64":u=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":t("if(util.Long)")("(m%s=util.Long.fromValue(d%s)).unsigned=%j",i,i,u)('else if(typeof d%s==="string")',i)("m%s=parseInt(d%s,10)",i,i)('else if(typeof d%s==="number")',i)("m%s=d%s",i,i)('else if(typeof d%s==="object")',i)("m%s=new util.LongBits(d%s.low>>>0,d%s.high>>>0).toNumber(%s)",i,i,i,u?"true":"");break;case"bytes":t('if(typeof d%s==="string")',i)("util.base64.decode(d%s,m%s=util.newBuffer(util.base64.length(d%s)),0)",i,i,i)("else if(d%s.length)",i)("m%s=d%s",i,i);break;case"string":t("m%s=String(d%s)",i,i);break;case"bool":t("m%s=Boolean(d%s)",i,i)}}return t}function y(t,r,n,i){if(r.resolvedType)r.resolvedType instanceof l?t("d%s=o.enums===String?types[%i].values[m%s]:m%s",i,n,i,i):t("d%s=types[%i].toObject(m%s,o)",i,n,i);else{var e=!1;switch(r.type){case"double":case"float":t("d%s=o.json&&!isFinite(m%s)?String(m%s):m%s",i,i,i,i);break;case"uint64":e=!0;case"int64":case"sint64":case"fixed64":case"sfixed64":t('if(typeof m%s==="number")',i)("d%s=o.longs===String?String(m%s):m%s",i,i,i)("else")("d%s=o.longs===String?util.Long.prototype.toString.call(m%s):o.longs===Number?new util.LongBits(m%s.low>>>0,m%s.high>>>0).toNumber(%s):m%s",i,i,i,i,e?"true":"",i);break;case"bytes":t("d%s=o.bytes===String?util.base64.encode(m%s,0,m%s.length):o.bytes===Array?Array.prototype.slice.call(m%s):m%s",i,i,i,i,i);break;default:t("d%s=m%s",i,i)}}return t}r.fromObject=function(t){var r=t.fieldsArray,n=v.codegen(["d"],t.name+"$fromObject")("if(d instanceof this.ctor)")("return d");if(!r.length)return n("return new this.ctor");n("var m=new this.ctor");for(var i=0;i<r.length;++i){var e=r[i].resolve(),o=v.safeProp(e.name);e.map?(n("if(d%s){",o)('if(typeof d%s!=="object")',o)("throw TypeError(%j)",e.fullName+": object expected")("m%s={}",o)("for(var ks=Object.keys(d%s),i=0;i<ks.length;++i){",o),s(n,e,i,o+"[ks[i]]")("}")("}")):e.repeated?(n("if(d%s){",o)("if(!Array.isArray(d%s))",o)("throw TypeError(%j)",e.fullName+": array expected")("m%s=[]",o)("for(var i=0;i<d%s.length;++i){",o),s(n,e,i,o+"[i]")("}")("}")):(e.resolvedType instanceof l||n("if(d%s!=null){",o),s(n,e,i,o),e.resolvedType instanceof l||n("}"))}return n("return m")},r.toObject=function(t){var r=t.fieldsArray.slice().sort(v.compareFieldsById);if(!r.length)return v.codegen()("return {}");for(var n=v.codegen(["m","o"],t.name+"$toObject")("if(!o)")("o={}")("var d={}"),i=[],e=[],o=[],s=0;s<r.length;++s)r[s].partOf||(r[s].resolve().repeated?i:r[s].map?e:o).push(r[s]);if(i.length){for(n("if(o.arrays||o.defaults){"),s=0;s<i.length;++s)n("d%s=[]",v.safeProp(i[s].name));n("}")}if(e.length){for(n("if(o.objects||o.defaults){"),s=0;s<e.length;++s)n("d%s={}",v.safeProp(e[s].name));n("}")}if(o.length){for(n("if(o.defaults){"),s=0;s<o.length;++s){var u,f=o[s],a=v.safeProp(f.name);f.resolvedType instanceof l?n("d%s=o.enums===String?%j:%j",a,f.resolvedType.valuesById[f.typeDefault],f.typeDefault):f.long?n("if(util.Long){")("var n=new util.Long(%i,%i,%j)",f.typeDefault.low,f.typeDefault.high,f.typeDefault.unsigned)("d%s=o.longs===String?n.toString():o.longs===Number?n.toNumber():n",a)("}else")("d%s=o.longs===String?%j:%i",a,f.typeDefault.toString(),f.typeDefault.toNumber()):f.bytes?(u="["+Array.prototype.slice.call(f.typeDefault).join(",")+"]",n("if(o.bytes===String)d%s=%j",a,String.fromCharCode.apply(String,f.typeDefault))("else{")("d%s=%s",a,u)("if(o.bytes!==Array)d%s=util.newBuffer(d%s)",a,a)("}")):n("d%s=%j",a,f.typeDefault)}n("}")}for(var h=!1,s=0;s<r.length;++s){var f=r[s],c=t.k.indexOf(f),a=v.safeProp(f.name);f.map?(h||(h=!0,n("var ks2")),n("if(m%s&&(ks2=Object.keys(m%s)).length){",a,a)("d%s={}",a)("for(var j=0;j<ks2.length;++j){"),y(n,f,c,a+"[ks2[j]]")("}")):f.repeated?(n("if(m%s&&m%s.length){",a,a)("d%s=[]",a)("for(var j=0;j<m%s.length;++j){",a),y(n,f,c,a+"[j]")("}")):(n("if(m%s!=null&&m.hasOwnProperty(%j)){",a,f.name),y(n,f,c,a),f.partOf&&n("if(o.oneofs)")("d%s=%j",v.safeProp(f.partOf.name),f.name)),n("}")}return n("return d")}},function(t,r,n){"use strict";var s=n(12);r[".google.protobuf.Any"]={fromObject:function(t){if(t&&t["@type"]){var r,n=t["@type"].substring(t["@type"].lastIndexOf("/")+1),n=this.lookup(n);if(n)return-1===(r="."===t["@type"].charAt(0)?t["@type"].substr(1):t["@type"]).indexOf("/")&&(r="/"+r),this.create({type_url:r,value:n.encode(n.fromObject(t)).finish()})}return this.fromObject(t)},toObject:function(t,r){var n,i,e="",o="";return!((t=r&&r.json&&t.type_url&&t.value&&(o=t.type_url.substring(t.type_url.lastIndexOf("/")+1),e=t.type_url.substring(0,t.type_url.lastIndexOf("/")+1),n=this.lookup(o))?n.decode(t.value):t)instanceof this.ctor)&&t instanceof s?(n=t.$type.toObject(t,r),i="."===t.$type.fullName[0]?t.$type.fullName.substr(1):t.$type.fullName,n["@type"]=o=(e=""===e?"type.googleapis.com/":e)+i,n):this.toObject(t,r)}}},function(t,r,n){"use strict";t.exports=f;var i,v,y,e=n(6),o=(((f.prototype=Object.create(e.prototype)).constructor=f).className="Root",n(5)),s=n(3),u=n(8),b=n(0);function f(t){e.call(this,"",t),this.deferred=[],this.files=[]}function d(){}f.fromJSON=function(t,r){return r=r||new f,t.options&&r.setOptions(t.options),r.addJSON(t.nested)},f.prototype.resolvePath=b.path.resolve,f.prototype.fetch=b.fetch,f.prototype.load=function t(r,o,e){"function"==typeof o&&(e=o,o=void 0);var s=this;if(!e)return b.asPromise(t,s,r,o);var u=e===d;function f(t,r){if(e){var n=e;if(e=null,u)throw t;n(t,r)}}function a(t){var r=t.lastIndexOf("google/protobuf/");if(-1<r){t=t.substring(r);if(t in y)return t}return null}function h(t,r){try{if(b.isString(r)&&"{"===r.charAt(0)&&(r=JSON.parse(r)),b.isString(r)){v.filename=t;var n,i=v(r,s,o),e=0;if(i.imports)for(;e<i.imports.length;++e)(n=a(i.imports[e])||s.resolvePath(t,i.imports[e]))&&c(n);if(i.weakImports)for(e=0;e<i.weakImports.length;++e)(n=a(i.weakImports[e])||s.resolvePath(t,i.weakImports[e]))&&c(n,!0)}else s.setOptions(r.options).addJSON(r.nested)}catch(t){f(t)}u||l||f(null,s)}function c(n,i){if(!(-1<s.files.indexOf(n)))if(s.files.push(n),n in y)u?h(n,y[n]):(++l,setTimeout(function(){--l,h(n,y[n])}));else if(u){var t;try{t=b.fs.readFileSync(n).toString("utf8")}catch(t){return void(i||f(t))}h(n,t)}else++l,s.fetch(n,function(t,r){--l,e&&(t?i?l||f(null,s):f(t):h(n,r))})}var l=0;b.isString(r)&&(r=[r]);for(var n,i=0;i<r.length;++i)(n=s.resolvePath("",r[i]))&&c(n);if(u)return s;l||f(null,s)},f.prototype.loadSync=function(t,r){if(b.isNode)return this.load(t,r,d);throw Error("not supported")},f.prototype.resolveAll=function(){if(this.deferred.length)throw Error("unresolvable extensions: "+this.deferred.map(function(t){return"'extend "+t.extend+"' in "+t.parent.fullName}).join(", "));return e.prototype.resolveAll.call(this)};var a=/^[A-Z]/;function h(t,r){var n,i=r.parent.lookup(r.extend);if(i)return((n=new o(r.fullName,r.id,r.type,r.rule,void 0,r.options)).declaringField=r).extensionField=n,i.add(n),1}f.prototype.j=function(t){if(t instanceof o)void 0===t.extend||t.extensionField||h(0,t)||this.deferred.push(t);else if(t instanceof s)a.test(t.name)&&(t.parent[t.name]=t.values);else if(!(t instanceof u)){if(t instanceof i)for(var r=0;r<this.deferred.length;)h(0,this.deferred[r])?this.deferred.splice(r,1):++r;for(var n=0;n<t.nestedArray.length;++n)this.j(t.R[n]);a.test(t.name)&&(t.parent[t.name]=t)}},f.prototype.O=function(t){var r;if(t instanceof o)void 0!==t.extend&&(t.extensionField?(t.extensionField.parent.remove(t.extensionField),t.extensionField=null):-1<(r=this.deferred.indexOf(t))&&this.deferred.splice(r,1));else if(t instanceof s)a.test(t.name)&&delete t.parent[t.name];else if(t instanceof e){for(var n=0;n<t.nestedArray.length;++n)this.O(t.R[n]);a.test(t.name)&&delete t.parent[t.name]}},f.S=function(t,r,n){i=t,v=r,y=n}},function(t,r,n){"use strict";t.exports=n(29)},function(t,r,n){"use strict";!function(o){function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,function(t){t=function(t,r){if("object"!==e(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0===n)return("string"===r?String:Number)(t);n=n.call(t,r||"default");if("object"!==e(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"===e(t)?t:String(t)}(i.key),i)}}var u=n(47),t=(n(48),function(){function t(){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this.D=null,this.F=400,this.C=null,this.U=null,this.B=new Map}var r,n,i;return r=t,(n=[{key:"url",get:function(){return this.D}},{key:"status",get:function(){return this.F}},{key:"responseType",get:function(){return this.C},set:function(t){this.C=t}},{key:"response",get:function(){return this.U}},{key:"open",value:function(t,r){"GET"==t&&(this.D=r)}},{key:"addEventListener",value:function(t,r){var n=this.B.get(t);n||this.B.set(t,n=[]),n.push(r)}},{key:"send",value:function(){var r=this,t=this.D,n=u.createReadStream(t),i=[],e=0;this.U=null,n.on("readable",function(){var t=n.read();null!=t&&(i.push(t),e+=t.length,r.U?r.U=o.concat([r.U,new o(t)],e):r.U=new o(t))}),n.on("end",function(){r.F=200,r.G("load")}),n.on("error",function(t){r.F=400,r.G("error",t)})}}])&&s(r.prototype,n),i&&s(r,i),Object.defineProperty(r,"prototype",{writable:!1}),t}());Object.assign(t.prototype,{G:function(t,r){if(0!=this.B.size){var n=this.B.get(t);if(n)for(var i=0;i<n.length;i++)n[i]&&n[i](r)}}}),r.a=t}.call(this,n(43).Buffer)},function(t,r,n){"use strict";var i=t.exports=n(30);i.build="light",i.load=function(t,r,n){return(r="function"==typeof r?(n=r,new i.Root):r||new i.Root).load(t,n)},i.loadSync=function(t,r){return(r=r||new i.Root).loadSync(t)},i.encoder=n(17),i.decoder=n(22),i.verifier=n(23),i.converter=n(24),i.ReflectionObject=n(4),i.Namespace=n(6),i.Root=n(26),i.Enum=n(3),i.Type=n(18),i.Field=n(5),i.OneOf=n(8),i.MapField=n(19),i.Service=n(20),i.Method=n(21),i.Message=n(12),i.wrappers=n(25),i.types=n(7),i.util=n(0),i.ReflectionObject.S(i.Root),i.Namespace.S(i.Type,i.Service,i.Enum),i.Root.S(i.Type),i.Field.S(i.Type)},function(t,r,n){"use strict";var i=r;function e(){i.util.S(),i.Writer.S(i.BufferWriter),i.Reader.S(i.BufferReader)}i.build="minimal",i.Writer=n(10),i.BufferWriter=n(37),i.Reader=n(11),i.BufferReader=n(38),i.util=n(2),i.rpc=n(15),i.roots=n(16),i.configure=e,e()},function(t,r,n){"use strict";r.length=function(t){var r=t.length;if(!r)return 0;for(var n=0;1<--r%4&&"="===t.charAt(r);)++n;return Math.ceil(3*t.length)/4-n};for(var a=new Array(64),f=new Array(123),i=0;i<64;)f[a[i]=i<26?i+65:i<52?i+71:i<62?i-4:i-59|43]=i++;r.encode=function(t,r,n){for(var i,e=null,o=[],s=0,u=0;r<n;){var f=t[r++];switch(u){case 0:o[s++]=a[f>>2],i=(3&f)<<4,u=1;break;case 1:o[s++]=a[i|f>>4],i=(15&f)<<2,u=2;break;case 2:o[s++]=a[i|f>>6],o[s++]=a[63&f],u=0}8191<s&&((e=e||[]).push(String.fromCharCode.apply(String,o)),s=0)}return u&&(o[s++]=a[i],o[s++]=61,1===u)&&(o[s++]=61),e?(s&&e.push(String.fromCharCode.apply(String,o.slice(0,s))),e.join("")):String.fromCharCode.apply(String,o.slice(0,s))};var h="invalid encoding";r.decode=function(t,r,n){for(var i,e=n,o=0,s=0;s<t.length;){var u=t.charCodeAt(s++);if(61===u&&1<o)break;if(void 0===(u=f[u]))throw Error(h);switch(o){case 0:i=u,o=1;break;case 1:r[n++]=i<<2|(48&u)>>4,i=u,o=2;break;case 2:r[n++]=(15&i)<<4|(60&u)>>2,i=u,o=3;break;case 3:r[n++]=(3&i)<<6|u,o=0}}if(1===o)throw Error(h);return n-e},r.test=function(t){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(t)}},function(t,r,n){"use strict";function i(){this.B={}}(t.exports=i).prototype.on=function(t,r,n){return(this.B[t]||(this.B[t]=[])).push({fn:r,ctx:n||this}),this},i.prototype.off=function(t,r){if(void 0===t)this.B={};else if(void 0===r)this.B[t]=[];else for(var n=this.B[t],i=0;i<n.length;)n[i].fn===r?n.splice(i,1):++i;return this},i.prototype.emit=function(t){var r=this.B[t];if(r){for(var n=[],i=1;i<arguments.length;)n.push(arguments[i++]);for(i=0;i<r.length;)r[i].fn.apply(r[i++].ctx,n)}return this}},function(t,r,n){"use strict";function i(t){function r(t,r,n,i){var e=r<0?1:0;0===(r=e?-r:r)?t(0<1/r?0:2147483648,n,i):isNaN(r)?t(2143289344,n,i):t(34028234663852886e22<r?(e<<31|2139095040)>>>0:r<11754943508222875e-54?(e<<31|Math.round(r/1401298464324817e-60))>>>0:(e<<31|(t=Math.floor(Math.log(r)/Math.LN2))+127<<23|8388607&Math.round(r*Math.pow(2,-t)*8388608))>>>0,n,i)}function n(t,r,n){t=t(r,n),r=2*(t>>31)+1,n=t>>>23&255,t&=8388607;return 255==n?t?NaN:1/0*r:0==n?1401298464324817e-60*r*t:r*Math.pow(2,n-150)*(8388608+t)}function i(t,r,n){u[0]=t,r[n]=f[0],r[n+1]=f[1],r[n+2]=f[2],r[n+3]=f[3]}function e(t,r,n){u[0]=t,r[n]=f[3],r[n+1]=f[2],r[n+2]=f[1],r[n+3]=f[0]}function o(t,r){return f[0]=t[r],f[1]=t[r+1],f[2]=t[r+2],f[3]=t[r+3],u[0]}function s(t,r){return f[3]=t[r],f[2]=t[r+1],f[1]=t[r+2],f[0]=t[r+3],u[0]}var u,f,a,h,c;function l(t,r,n,i,e,o){var s,u,f=i<0?1:0;0===(i=f?-i:i)?(t(0,e,o+r),t(0<1/i?0:2147483648,e,o+n)):isNaN(i)?(t(0,e,o+r),t(2146959360,e,o+n)):17976931348623157e292<i?(t(0,e,o+r),t((f<<31|2146435072)>>>0,e,o+n)):i<22250738585072014e-324?(t((s=i/5e-324)>>>0,e,o+r),t((f<<31|s/4294967296)>>>0,e,o+n)):(1024===(u=Math.floor(Math.log(i)/Math.LN2))&&(u=1023),t(4503599627370496*(s=i*Math.pow(2,-u))>>>0,e,o+r),t((f<<31|u+1023<<20|1048576*s&1048575)>>>0,e,o+n))}function v(t,r,n,i,e){r=t(i,e+r),t=t(i,e+n),i=2*(t>>31)+1,e=t>>>20&2047,n=4294967296*(1048575&t)+r;return 2047==e?n?NaN:1/0*i:0==e?5e-324*i*n:i*Math.pow(2,e-1075)*(n+4503599627370496)}function y(t,r,n){a[0]=t,r[n]=h[0],r[n+1]=h[1],r[n+2]=h[2],r[n+3]=h[3],r[n+4]=h[4],r[n+5]=h[5],r[n+6]=h[6],r[n+7]=h[7]}function b(t,r,n){a[0]=t,r[n]=h[7],r[n+1]=h[6],r[n+2]=h[5],r[n+3]=h[4],r[n+4]=h[3],r[n+5]=h[2],r[n+6]=h[1],r[n+7]=h[0]}function d(t,r){return h[0]=t[r],h[1]=t[r+1],h[2]=t[r+2],h[3]=t[r+3],h[4]=t[r+4],h[5]=t[r+5],h[6]=t[r+6],h[7]=t[r+7],a[0]}function p(t,r){return h[7]=t[r],h[6]=t[r+1],h[5]=t[r+2],h[4]=t[r+3],h[3]=t[r+4],h[2]=t[r+5],h[1]=t[r+6],h[0]=t[r+7],a[0]}return"undefined"!=typeof Float32Array?(u=new Float32Array([-0]),f=new Uint8Array(u.buffer),c=128===f[3],t.writeFloatLE=c?i:e,t.writeFloatBE=c?e:i,t.readFloatLE=c?o:s,t.readFloatBE=c?s:o):(t.writeFloatLE=r.bind(null,m),t.writeFloatBE=r.bind(null,w),t.readFloatLE=n.bind(null,x),t.readFloatBE=n.bind(null,g)),"undefined"!=typeof Float64Array?(a=new Float64Array([-0]),h=new Uint8Array(a.buffer),c=128===h[7],t.writeDoubleLE=c?y:b,t.writeDoubleBE=c?b:y,t.readDoubleLE=c?d:p,t.readDoubleBE=c?p:d):(t.writeDoubleLE=l.bind(null,m,0,4),t.writeDoubleBE=l.bind(null,w,4,0),t.readDoubleLE=v.bind(null,x,0,4),t.readDoubleBE=v.bind(null,g,4,0)),t}function m(t,r,n){r[n]=255&t,r[n+1]=t>>>8&255,r[n+2]=t>>>16&255,r[n+3]=t>>>24}function w(t,r,n){r[n]=t>>>24,r[n+1]=t>>>16&255,r[n+2]=t>>>8&255,r[n+3]=255&t}function x(t,r){return(t[r]|t[r+1]<<8|t[r+2]<<16|t[r+3]<<24)>>>0}function g(t,r){return(t[r]<<24|t[r+1]<<16|t[r+2]<<8|t[r+3])>>>0}t.exports=i(i)},function(t,r,n){"use strict";r.length=function(t){for(var r,n=0,i=0;i<t.length;++i)(r=t.charCodeAt(i))<128?n+=1:r<2048?n+=2:55296==(64512&r)&&56320==(64512&t.charCodeAt(i+1))?(++i,n+=4):n+=3;return n},r.read=function(t,r,n){if(n-r<1)return"";for(var i,e=null,o=[],s=0;r<n;)(i=t[r++])<128?o[s++]=i:191<i&&i<224?o[s++]=(31&i)<<6|63&t[r++]:239<i&&i<365?(i=((7&i)<<18|(63&t[r++])<<12|(63&t[r++])<<6|63&t[r++])-65536,o[s++]=55296+(i>>10),o[s++]=56320+(1023&i)):o[s++]=(15&i)<<12|(63&t[r++])<<6|63&t[r++],8191<s&&((e=e||[]).push(String.fromCharCode.apply(String,o)),s=0);return e?(s&&e.push(String.fromCharCode.apply(String,o.slice(0,s))),e.join("")):String.fromCharCode.apply(String,o.slice(0,s))},r.write=function(t,r,n){for(var i,e,o=n,s=0;s<t.length;++s)(i=t.charCodeAt(s))<128?r[n++]=i:(i<2048?r[n++]=i>>6|192:(55296==(64512&i)&&56320==(64512&(e=t.charCodeAt(s+1)))?(++s,r[n++]=(i=65536+((1023&i)<<10)+(1023&e))>>18|240,r[n++]=i>>12&63|128):r[n++]=i>>12|224,r[n++]=i>>6&63|128),r[n++]=63&i|128);return n-o}},function(t,r,n){"use strict";t.exports=function(r,n,t){var i=t||8192,e=i>>>1,o=null,s=i;return function(t){if(t<1||e<t)return r(t);i<s+t&&(o=r(i),s=0);t=n.call(o,s,s+=t);return 7&s&&(s=1+(7|s)),t}}},function(t,r,n){"use strict";t.exports=e;var i=n(2);function e(t,r){this.lo=t>>>0,this.hi=r>>>0}var o=e.zero=new e(0,0),s=(o.toNumber=function(){return 0},o.zzEncode=o.zzDecode=function(){return this},o.length=function(){return 1},e.zeroHash="\0\0\0\0\0\0\0\0",e.fromNumber=function(t){var r,n;return 0===t?o:(n=(t=(r=t<0)?-t:t)>>>0,t=(t-n)/4294967296>>>0,r&&(t=~t>>>0,n=~n>>>0,4294967295<++n)&&(n=0,4294967295<++t)&&(t=0),new e(n,t))},e.from=function(t){if("number"==typeof t)return e.fromNumber(t);if(i.isString(t)){if(!i.Long)return e.fromNumber(parseInt(t,10));t=i.Long.fromString(t)}return t.low||t.high?new e(t.low>>>0,t.high>>>0):o},e.prototype.toNumber=function(t){var r;return!t&&this.hi>>>31?(t=1+~this.lo>>>0,r=~this.hi>>>0,-(t+4294967296*(r=t?r:r+1>>>0))):this.lo+4294967296*this.hi},e.prototype.toLong=function(t){return i.Long?new i.Long(0|this.lo,0|this.hi,Boolean(t)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(t)}},String.prototype.charCodeAt);e.fromHash=function(t){return"\0\0\0\0\0\0\0\0"===t?o:new e((s.call(t,0)|s.call(t,1)<<8|s.call(t,2)<<16|s.call(t,3)<<24)>>>0,(s.call(t,4)|s.call(t,5)<<8|s.call(t,6)<<16|s.call(t,7)<<24)>>>0)},e.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},e.prototype.zzEncode=function(){var t=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^t)>>>0,this.lo=(this.lo<<1^t)>>>0,this},e.prototype.zzDecode=function(){var t=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^t)>>>0,this.hi=(this.hi>>>1^t)>>>0,this},e.prototype.length=function(){var t=this.lo,r=(this.lo>>>28|this.hi<<4)>>>0,n=this.hi>>>24;return 0==n?0==r?t<16384?t<128?1:2:t<2097152?3:4:r<16384?r<128?5:6:r<2097152?7:8:n<128?9:10}},function(t,r,n){"use strict";t.exports=o;var i=n(10),e=((o.prototype=Object.create(i.prototype)).constructor=o,n(2));function o(){i.call(this)}function s(t,r,n){t.length<40?e.utf8.write(t,r,n):r.utf8Write?r.utf8Write(t,n):r.write(t,n)}o.S=function(){o.alloc=e._,o.writeBytesBuffer=e.Buffer&&e.Buffer.prototype instanceof Uint8Array&&"set"===e.Buffer.prototype.set.name?function(t,r,n){r.set(t,n)}:function(t,r,n){if(t.copy)t.copy(r,n,0,t.length);else for(var i=0;i<t.length;)r[n++]=t[i++]}},o.prototype.bytes=function(t){var r=(t=e.isString(t)?e.v(t,"base64"):t).length>>>0;return this.uint32(r),r&&this.M(o.writeBytesBuffer,r,t),this},o.prototype.string=function(t){var r=e.Buffer.byteLength(t);return this.uint32(r),r&&this.M(s,r,t),this},o.S()},function(t,r,n){"use strict";t.exports=o;var i=n(11),e=((o.prototype=Object.create(i.prototype)).constructor=o,n(2));function o(t){i.call(this,t)}o.S=function(){e.Buffer&&(o.prototype.N=e.Buffer.prototype.slice)},o.prototype.string=function(){var t=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+t,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+t,this.len))},o.S()},function(t,r,n){"use strict";t.exports=i;var u=n(2);function i(t,r,n){if("function"!=typeof t)throw TypeError("rpcImpl must be a function");u.EventEmitter.call(this),this.rpcImpl=t,this.requestDelimited=Boolean(r),this.responseDelimited=Boolean(n)}((i.prototype=Object.create(u.EventEmitter.prototype)).constructor=i).prototype.rpcCall=function t(n,r,i,e,o){if(!e)throw TypeError("request must be specified");var s=this;if(!o)return u.asPromise(t,s,n,r,i,e);if(s.rpcImpl)try{return s.rpcImpl(n,r[s.requestDelimited?"encodeDelimited":"encode"](e).finish(),function(t,r){if(t)return s.emit("error",t,n),o(t);if(null!==r){if(!(r instanceof i))try{r=i[s.responseDelimited?"decodeDelimited":"decode"](r)}catch(t){return s.emit("error",t,n),o(t)}return s.emit("data",r,n),o(null,r)}s.end(!0)})}catch(t){s.emit("error",t,n),setTimeout(function(){o(t)},0)}else setTimeout(function(){o(Error("already ended"))},0)},i.prototype.end=function(t){return this.rpcImpl&&(t||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}},function(t,r,n){"use strict";function i(r,n){"string"==typeof r&&(n=r,r=void 0);var f=[];function a(t){if("string"!=typeof t){var r="return "+h();if(t){for(var n=Object.keys(t),i=new Array(n.length+1),e=new Array(n.length),o=0;o<n.length;)i[o]=n[o],e[o]=t[n[o++]];return i[o]=r,Function.apply(null,i).apply(null,e)}return Function(r)()}for(var s=new Array(arguments.length-1),u=0;u<s.length;)s[u]=arguments[++u];if(u=0,t=t.replace(/%([%dfijs])/g,function(t,r){var n=s[u++];switch(r){case"d":case"f":return String(Number(n));case"i":return String(Math.floor(n));case"j":return JSON.stringify(n);case"s":return String(n)}return"%"}),u!==s.length)throw Error("parameter count mismatch");return f.push(t),a}function h(t){return"function "+(t||n||"")+"("+(r&&r.join(",")||"")+"){\n  "+f.join("\n  ")+"\n}"}return a.toString=h,a}(t.exports=i).verbose=!1},function(t,r,n){"use strict";t.exports=u;var o=n(13),s=n(14)("fs");function u(n,i,e){return i="function"==typeof i?(e=i,{}):i||{},e?!i.xhr&&s&&s.readFile?s.readFile(n,function(t,r){return t&&"undefined"!=typeof XMLHttpRequest?u.xhr(n,i,e):t?e(t):e(null,i.binary?r:r.toString("utf8"))}):u.xhr(n,i,e):o(u,this,n,i)}u.xhr=function(t,n,i){var e=new XMLHttpRequest;e.onreadystatechange=function(){if(4===e.readyState){if(0!==e.status&&200!==e.status)return i(Error("status "+e.status));if(n.binary){if(!(t=e.response))for(var t=[],r=0;r<e.responseText.length;++r)t.push(255&e.responseText.charCodeAt(r));return i(null,"undefined"!=typeof Uint8Array?new Uint8Array(t):t)}return i(null,e.responseText)}},n.binary&&("overrideMimeType"in e&&e.overrideMimeType("text/plain; charset=x-user-defined"),e.responseType="arraybuffer"),e.open("GET",t),e.send()}},function(t,r,n){"use strict";var e=r.isAbsolute=function(t){return/^(?:\/|\w+:)/.test(t)},i=r.normalize=function(t){var r=(t=t.replace(/\\/g,"/").replace(/\/{2,}/g,"/")).split("/"),n=e(t),t="";n&&(t=r.shift()+"/");for(var i=0;i<r.length;)".."===r[i]?0<i&&".."!==r[i-1]?r.splice(--i,2):n?r.splice(i,1):++i:"."===r[i]?r.splice(i,1):++i;return t+r.join("/")};r.resolve=function(t,r,n){return n||(r=i(r)),!e(r)&&(t=(t=n?t:i(t)).replace(/(?:\/|^)[^/]+$/,"")).length?i(t+"/"+r):r}},function(t,A,I){"use strict";!function(t){var j=I(44),o=I(45),u=I(46);function n(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function f(t,r){if(n()<r)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(r)).__proto__=c.prototype:(t=null===t?new c(r):t).length=r,t}function c(t,r,n){if(!(c.TYPED_ARRAY_SUPPORT||this instanceof c))return new c(t,r,n);if("number"!=typeof t)return i(this,t,r,n);if("string"==typeof r)throw new Error("If encoding is specified then the first argument must be a string");return s(this,t)}function i(t,r,n,i){if("number"==typeof r)throw new TypeError('"value" argument must not be a number');if("undefined"!=typeof ArrayBuffer&&r instanceof ArrayBuffer){var e=t,o=r,s=n;if(o.byteLength,s<0||o.byteLength<s)throw new RangeError("'offset' is out of bounds");if(o.byteLength<s+(i||0))throw new RangeError("'length' is out of bounds");return o=void 0===s&&void 0===i?new Uint8Array(o):void 0===i?new Uint8Array(o,s):new Uint8Array(o,s,i),c.TYPED_ARRAY_SUPPORT?(e=o).__proto__=c.prototype:e=a(e,o),e}if("string"!=typeof r){s=t,i=r;if(c.isBuffer(i))return o=0|h(i.length),0!==(s=f(s,o)).length&&i.copy(s,0,0,o),s;if(i){if("undefined"!=typeof ArrayBuffer&&i.buffer instanceof ArrayBuffer||"length"in i)return"number"!=typeof i.length||function(t){return t!=t}(i.length)?f(s,0):a(s,i);if("Buffer"===i.type&&u(i.data))return a(s,i.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}e=t,i=r,t=n;if(c.isEncoding(t="string"==typeof t&&""!==t?t:"utf8"))return r=0|l(i,t),e=(i=(e=f(e,r)).write(i,t))!==r?e.slice(0,i):e;throw new TypeError('"encoding" must be a valid string encoding')}function e(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function s(t,r){if(e(r),t=f(t,r<0?0:0|h(r)),!c.TYPED_ARRAY_SUPPORT)for(var n=0;n<r;++n)t[n]=0;return t}function a(t,r){var n=r.length<0?0:0|h(r.length);t=f(t,n);for(var i=0;i<n;i+=1)t[i]=255&r[i];return t}function h(t){if(t>=n())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+n().toString(16)+" bytes");return 0|t}function l(t,r){if(c.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;var n=(t="string"!=typeof t?""+t:t).length;if(0===n)return 0;for(var i=!1;;)switch(r){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return M(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return N(t).length;default:if(i)return M(t).length;r=(""+r).toLowerCase(),i=!0}}function r(t,r,n){var i,e=!1;if((r=void 0===r||r<0?0:r)>this.length)return"";if((n=void 0===n||n>this.length?this.length:n)<=0)return"";if((n>>>=0)<=(r>>>=0))return"";for(t=t||"utf8";;)switch(t){case"hex":var o=this,s=r,u=n,f=o.length;(!u||u<0||f<u)&&(u=f);for(var a="",h=s=!s||s<0?0:s;h<u;++h)a+=function(t){return t<16?"0"+t.toString(16):t.toString(16)}(o[h]);return a;case"utf8":case"utf-8":return O(this,r,n);case"ascii":var c=this,f=r,l=n,v="";l=Math.min(c.length,l);for(var y=f;y<l;++y)v+=String.fromCharCode(127&c[y]);return v;case"latin1":case"binary":var b=this,s=r,d=n,p="";d=Math.min(b.length,d);for(var m=s;m<d;++m)p+=String.fromCharCode(b[m]);return p;case"base64":return w=this,i=n,0===(x=r)&&i===w.length?j.fromByteArray(w):j.fromByteArray(w.slice(x,i));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":for(var w=r,x=n,g=this.slice(w,x),_="",S=0;S<g.length;S+=2)_+=String.fromCharCode(g[S]+256*g[S+1]);return _;default:if(e)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),e=!0}}function v(t,r,n){var i=t[r];t[r]=t[n],t[n]=i}function y(t,r,n,i,e){if(0===t.length)return-1;if("string"==typeof n?(i=n,n=0):2147483647<n?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,(n=(n=isNaN(n)?e?0:t.length-1:n)<0?t.length+n:n)>=t.length){if(e)return-1;n=t.length-1}else if(n<0){if(!e)return-1;n=0}if("string"==typeof r&&(r=c.from(r,i)),c.isBuffer(r))return 0===r.length?-1:b(t,r,n,i,e);if("number"==typeof r)return r&=255,c.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?(e?Uint8Array.prototype.indexOf:Uint8Array.prototype.lastIndexOf).call(t,r,n):b(t,[r],n,i,e);throw new TypeError("val must be string, number or Buffer")}function b(t,r,n,i,e){var o=1,s=t.length,u=r.length;if(void 0!==i&&("ucs2"===(i=String(i).toLowerCase())||"ucs-2"===i||"utf16le"===i||"utf-16le"===i)){if(t.length<2||r.length<2)return-1;s/=o=2,u/=2,n/=2}function f(t,r){return 1===o?t[r]:t.readUInt16BE(r*o)}if(e)for(var a=-1,h=n;h<s;h++)if(f(t,h)===f(r,-1===a?0:h-a)){if(h-(a=-1===a?h:a)+1===u)return a*o}else-1!==a&&(h-=h-a),a=-1;else for(h=n=s<n+u?s-u:n;0<=h;h--){for(var c=!0,l=0;l<u;l++)if(f(t,h+l)!==f(r,l)){c=!1;break}if(c)return h}return-1}function d(t,r,n,i){return k(function(t){for(var r=[],n=0;n<t.length;++n)r.push(255&t.charCodeAt(n));return r}(r),t,n,i)}function p(t,r,n,i){return k(function(t,r){for(var n,i,e=[],o=0;o<t.length&&!((r-=2)<0);++o)n=t.charCodeAt(o),i=n>>8,e.push(n%256),e.push(i);return e}(r,t.length-n),t,n,i)}function O(t,r,n){n=Math.min(t.length,n);for(var i=[],e=r;e<n;){var o,s,u,f,a=t[e],h=null,c=239<a?4:223<a?3:191<a?2:1;if(e+c<=n)switch(c){case 1:a<128&&(h=a);break;case 2:128==(192&(o=t[e+1]))&&127<(f=(31&a)<<6|63&o)&&(h=f);break;case 3:o=t[e+1],s=t[e+2],128==(192&o)&&128==(192&s)&&2047<(f=(15&a)<<12|(63&o)<<6|63&s)&&(f<55296||57343<f)&&(h=f);break;case 4:o=t[e+1],s=t[e+2],u=t[e+3],128==(192&o)&&128==(192&s)&&128==(192&u)&&65535<(f=(15&a)<<18|(63&o)<<12|(63&s)<<6|63&u)&&f<1114112&&(h=f)}null===h?(h=65533,c=1):65535<h&&(i.push((h-=65536)>>>10&1023|55296),h=56320|1023&h),i.push(h),e+=c}var l=i,v=l.length;if(v<=m)return String.fromCharCode.apply(String,l);for(var y="",b=0;b<v;)y+=String.fromCharCode.apply(String,l.slice(b,b+=m));return y}A.Buffer=c,A.SlowBuffer=function(t){+t!=t&&(t=0);return c.alloc(+t)},A.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),A.kMaxLength=n(),c.poolSize=8192,c.W=function(t){return t.__proto__=c.prototype,t},c.from=function(t,r,n){return i(null,t,r,n)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,"undefined"!=typeof Symbol)&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0}),c.alloc=function(t,r,n){return i=null,r=r,n=n,e(t=t),!(t<=0)&&void 0!==r?"string"==typeof n?f(i,t).fill(r,n):f(i,t).fill(r):f(i,t);var i},c.allocUnsafe=function(t){return s(null,t)},c.allocUnsafeSlow=function(t){return s(null,t)},c.isBuffer=function(t){return!(null==t||!t.Z)},c.compare=function(t,r){if(!c.isBuffer(t)||!c.isBuffer(r))throw new TypeError("Arguments must be Buffers");if(t===r)return 0;for(var n=t.length,i=r.length,e=0,o=Math.min(n,i);e<o;++e)if(t[e]!==r[e]){n=t[e],i=r[e];break}return n<i?-1:i<n?1:0},c.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(t,r){if(!u(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return c.alloc(0);if(void 0===r)for(e=r=0;e<t.length;++e)r+=t[e].length;for(var n=c.allocUnsafe(r),i=0,e=0;e<t.length;++e){var o=t[e];if(!c.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(n,i),i+=o.length}return n},c.byteLength=l,c.prototype.Z=!0,c.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var r=0;r<t;r+=2)v(this,r,r+1);return this},c.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var r=0;r<t;r+=4)v(this,r,r+3),v(this,r+1,r+2);return this},c.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var r=0;r<t;r+=8)v(this,r,r+7),v(this,r+1,r+6),v(this,r+2,r+5),v(this,r+3,r+4);return this},c.prototype.toString=function(){var t=0|this.length;return 0==t?"":0===arguments.length?O(this,0,t):r.apply(this,arguments)},c.prototype.equals=function(t){if(c.isBuffer(t))return this===t||0===c.compare(this,t);throw new TypeError("Argument must be a Buffer")},c.prototype.inspect=function(){var t="",r=A.INSPECT_MAX_BYTES;return 0<this.length&&(t=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r)&&(t+=" ... "),"<Buffer "+t+">"},c.prototype.compare=function(t,r,n,i,e){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===n&&(n=t?t.length:0),void 0===i&&(i=0),void 0===e&&(e=this.length),(r=void 0===r?0:r)<0||n>t.length||i<0||e>this.length)throw new RangeError("out of range index");if(e<=i&&n<=r)return 0;if(e<=i)return-1;if(n<=r)return 1;if(this===t)return 0;for(var o=(e>>>=0)-(i>>>=0),s=(n>>>=0)-(r>>>=0),u=Math.min(o,s),f=this.slice(i,e),a=t.slice(r,n),h=0;h<u;++h)if(f[h]!==a[h]){o=f[h],s=a[h];break}return o<s?-1:s<o?1:0},c.prototype.includes=function(t,r,n){return-1!==this.indexOf(t,r,n)},c.prototype.indexOf=function(t,r,n){return y(this,t,r,n,!0)},c.prototype.lastIndexOf=function(t,r,n){return y(this,t,r,n,!1)},c.prototype.write=function(t,r,n,i){if(void 0===r)i="utf8",n=this.length,r=0;else if(void 0===n&&"string"==typeof r)i=r,n=this.length,r=0;else{if(!isFinite(r))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");r|=0,isFinite(n)?(n|=0,void 0===i&&(i="utf8")):(i=n,n=void 0)}var e=this.length-r;if((void 0===n||e<n)&&(n=e),0<t.length&&(n<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");i=i||"utf8";for(var o,s,u,f=!1;;)switch(i){case"hex":var a=this,h=t,c=r,l=n,v=(c=Number(c)||0,a.length-c);if((!l||v<(l=Number(l)))&&(l=v),(v=h.length)%2!=0)throw new TypeError("Invalid hex string");v/2<l&&(l=v/2);for(var y=0;y<l;++y){var b=parseInt(h.substr(2*y,2),16);if(isNaN(b))return y;a[c+y]=b}return y;case"utf8":case"utf-8":return v=r,u=n,k(M(t,(s=this).length-v),s,v,u);case"ascii":return d(this,t,r,n);case"latin1":case"binary":return d(this,t,r,n);case"base64":return s=this,u=r,o=n,k(N(t),s,u,o);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return p(this,t,r,n);default:if(f)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),f=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var m=4096;function w(t,r,n){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(n<t+r)throw new RangeError("Trying to access beyond buffer length")}function x(t,r,n,i,e,o){if(!c.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e<r||r<o)throw new RangeError('"value" argument is out of bounds');if(n+i>t.length)throw new RangeError("Index out of range")}function g(t,r,n,i){r<0&&(r=65535+r+1);for(var e=0,o=Math.min(t.length-n,2);e<o;++e)t[n+e]=(r&255<<8*(i?e:1-e))>>>8*(i?e:1-e)}function _(t,r,n,i){r<0&&(r=4294967295+r+1);for(var e=0,o=Math.min(t.length-n,4);e<o;++e)t[n+e]=r>>>8*(i?e:3-e)&255}function S(t,r,n,i){if(n+i>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function E(t,r,n,i,e){return e||S(t,0,n,4),o.write(t,r,n,i,23,4),n+4}function T(t,r,n,i,e){return e||S(t,0,n,8),o.write(t,r,n,i,52,8),n+8}c.prototype.slice=function(t,r){var n=this.length;if((t=~~t)<0?(t+=n)<0&&(t=0):n<t&&(t=n),(r=void 0===r?n:~~r)<0?(r+=n)<0&&(r=0):n<r&&(r=n),r<t&&(r=t),c.TYPED_ARRAY_SUPPORT)(e=this.subarray(t,r)).__proto__=c.prototype;else for(var i=r-t,e=new c(i,void 0),o=0;o<i;++o)e[o]=this[o+t];return e},c.prototype.readUIntLE=function(t,r,n){t|=0,r|=0,n||w(t,r,this.length);for(var i=this[t],e=1,o=0;++o<r&&(e*=256);)i+=this[t+o]*e;return i},c.prototype.readUIntBE=function(t,r,n){t|=0,r|=0,n||w(t,r,this.length);for(var i=this[t+--r],e=1;0<r&&(e*=256);)i+=this[t+--r]*e;return i},c.prototype.readUInt8=function(t,r){return r||w(t,1,this.length),this[t]},c.prototype.readUInt16LE=function(t,r){return r||w(t,2,this.length),this[t]|this[t+1]<<8},c.prototype.readUInt16BE=function(t,r){return r||w(t,2,this.length),this[t]<<8|this[t+1]},c.prototype.readUInt32LE=function(t,r){return r||w(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},c.prototype.readUInt32BE=function(t,r){return r||w(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},c.prototype.readIntLE=function(t,r,n){t|=0,r|=0,n||w(t,r,this.length);for(var i=this[t],e=1,o=0;++o<r&&(e*=256);)i+=this[t+o]*e;return(e*=128)<=i&&(i-=Math.pow(2,8*r)),i},c.prototype.readIntBE=function(t,r,n){t|=0,r|=0,n||w(t,r,this.length);for(var i=r,e=1,o=this[t+--i];0<i&&(e*=256);)o+=this[t+--i]*e;return(e*=128)<=o&&(o-=Math.pow(2,8*r)),o},c.prototype.readInt8=function(t,r){return r||w(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},c.prototype.readInt16LE=function(t,r){r||w(t,2,this.length);r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},c.prototype.readInt16BE=function(t,r){r||w(t,2,this.length);r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},c.prototype.readInt32LE=function(t,r){return r||w(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},c.prototype.readInt32BE=function(t,r){return r||w(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},c.prototype.readFloatLE=function(t,r){return r||w(t,4,this.length),o.read(this,t,!0,23,4)},c.prototype.readFloatBE=function(t,r){return r||w(t,4,this.length),o.read(this,t,!1,23,4)},c.prototype.readDoubleLE=function(t,r){return r||w(t,8,this.length),o.read(this,t,!0,52,8)},c.prototype.readDoubleBE=function(t,r){return r||w(t,8,this.length),o.read(this,t,!1,52,8)},c.prototype.writeUIntLE=function(t,r,n,i){t=+t,r|=0,n|=0,i||x(this,t,r,n,Math.pow(2,8*n)-1,0);var e=1,o=0;for(this[r]=255&t;++o<n&&(e*=256);)this[r+o]=t/e&255;return r+n},c.prototype.writeUIntBE=function(t,r,n,i){t=+t,r|=0,n|=0,i||x(this,t,r,n,Math.pow(2,8*n)-1,0);var e=n-1,o=1;for(this[r+e]=255&t;0<=--e&&(o*=256);)this[r+e]=t/o&255;return r+n},c.prototype.writeUInt8=function(t,r,n){return t=+t,r|=0,n||x(this,t,r,1,255,0),c.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[r]=255&t,r+1},c.prototype.writeUInt16LE=function(t,r,n){return t=+t,r|=0,n||x(this,t,r,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[r]=255&t,this[r+1]=t>>>8):g(this,t,r,!0),r+2},c.prototype.writeUInt16BE=function(t,r,n){return t=+t,r|=0,n||x(this,t,r,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[r]=t>>>8,this[r+1]=255&t):g(this,t,r,!1),r+2},c.prototype.writeUInt32LE=function(t,r,n){return t=+t,r|=0,n||x(this,t,r,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[r+3]=t>>>24,this[r+2]=t>>>16,this[r+1]=t>>>8,this[r]=255&t):_(this,t,r,!0),r+4},c.prototype.writeUInt32BE=function(t,r,n){return t=+t,r|=0,n||x(this,t,r,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[r]=t>>>24,this[r+1]=t>>>16,this[r+2]=t>>>8,this[r+3]=255&t):_(this,t,r,!1),r+4},c.prototype.writeIntLE=function(t,r,n,i){t=+t,r|=0,i||x(this,t,r,n,(i=Math.pow(2,8*n-1))-1,-i);var e=0,o=1,s=0;for(this[r]=255&t;++e<n&&(o*=256);)t<0&&0===s&&0!==this[r+e-1]&&(s=1),this[r+e]=(t/o>>0)-s&255;return r+n},c.prototype.writeIntBE=function(t,r,n,i){t=+t,r|=0,i||x(this,t,r,n,(i=Math.pow(2,8*n-1))-1,-i);var e=n-1,o=1,s=0;for(this[r+e]=255&t;0<=--e&&(o*=256);)t<0&&0===s&&0!==this[r+e+1]&&(s=1),this[r+e]=(t/o>>0)-s&255;return r+n},c.prototype.writeInt8=function(t,r,n){return t=+t,r|=0,n||x(this,t,r,1,127,-128),c.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[r]=255&(t=t<0?255+t+1:t),r+1},c.prototype.writeInt16LE=function(t,r,n){return t=+t,r|=0,n||x(this,t,r,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[r]=255&t,this[r+1]=t>>>8):g(this,t,r,!0),r+2},c.prototype.writeInt16BE=function(t,r,n){return t=+t,r|=0,n||x(this,t,r,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[r]=t>>>8,this[r+1]=255&t):g(this,t,r,!1),r+2},c.prototype.writeInt32LE=function(t,r,n){return t=+t,r|=0,n||x(this,t,r,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[r]=255&t,this[r+1]=t>>>8,this[r+2]=t>>>16,this[r+3]=t>>>24):_(this,t,r,!0),r+4},c.prototype.writeInt32BE=function(t,r,n){return t=+t,r|=0,n||x(this,t,r,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),c.TYPED_ARRAY_SUPPORT?(this[r]=t>>>24,this[r+1]=t>>>16,this[r+2]=t>>>8,this[r+3]=255&t):_(this,t,r,!1),r+4},c.prototype.writeFloatLE=function(t,r,n){return E(this,t,r,!0,n)},c.prototype.writeFloatBE=function(t,r,n){return E(this,t,r,!1,n)},c.prototype.writeDoubleLE=function(t,r,n){return T(this,t,r,!0,n)},c.prototype.writeDoubleBE=function(t,r,n){return T(this,t,r,!1,n)},c.prototype.copy=function(t,r,n,i){if(n=n||0,i||0===i||(i=this.length),r>=t.length&&(r=t.length),(i=0<i&&i<n?n:i)===n)return 0;if(0===t.length||0===this.length)return 0;if((r=r||0)<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length);var e,o=(i=t.length-r<i-n?t.length-r+n:i)-n;if(this===t&&n<r&&r<i)for(e=o-1;0<=e;--e)t[e+r]=this[e+n];else if(o<1e3||!c.TYPED_ARRAY_SUPPORT)for(e=0;e<o;++e)t[e+r]=this[e+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+o),r);return o},c.prototype.fill=function(t,r,n,i){if("string"==typeof t){var e;if("string"==typeof r?(i=r,r=0,n=this.length):"string"==typeof n&&(i=n,n=this.length),1===t.length&&(e=t.charCodeAt(0))<256&&(t=e),void 0!==i&&"string"!=typeof i)throw new TypeError("encoding must be a string");if("string"==typeof i&&!c.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else"number"==typeof t&&(t&=255);if(r<0||this.length<r||this.length<n)throw new RangeError("Out of range index");if(!(n<=r))if(r>>>=0,n=void 0===n?this.length:n>>>0,"number"==typeof(t=t||0))for(u=r;u<n;++u)this[u]=t;else for(var o=c.isBuffer(t)?t:M(new c(t,i).toString()),s=o.length,u=0;u<n-r;++u)this[u+r]=o[u%s];return this};var R=/[^+\/0-9A-Za-z-_]/g;function M(t,r){r=r||1/0;for(var n,i=t.length,e=null,o=[],s=0;s<i;++s){if(55295<(n=t.charCodeAt(s))&&n<57344){if(!e){if(56319<n){-1<(r-=3)&&o.push(239,191,189);continue}if(s+1===i){-1<(r-=3)&&o.push(239,191,189);continue}e=n;continue}if(n<56320){-1<(r-=3)&&o.push(239,191,189),e=n;continue}n=65536+(e-55296<<10|n-56320)}else e&&-1<(r-=3)&&o.push(239,191,189);if(e=null,n<128){if(--r<0)break;o.push(n)}else if(n<2048){if((r-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((r-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((r-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function N(t){return j.toByteArray(function(t){var r;if((t=((r=t).trim?r.trim():r.replace(/^\s+|\s+$/g,"")).replace(R,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function k(t,r,n,i){for(var e=0;e<i&&!(e+n>=r.length||e>=t.length);++e)r[e+n]=t[e];return e}}.call(this,I(9))},function(t,r,n){"use strict";r.byteLength=function(t){var t=h(t),r=t[0],t=t[1];return 3*(r+t)/4-t},r.toByteArray=function(t){var r,n,i=h(t),e=i[0],i=i[1],o=new a(function(t,r){return 3*(t+r)/4-r}(e,i)),s=0,u=0<i?e-4:e;for(n=0;n<u;n+=4)r=f[t.charCodeAt(n)]<<18|f[t.charCodeAt(n+1)]<<12|f[t.charCodeAt(n+2)]<<6|f[t.charCodeAt(n+3)],o[s++]=r>>16&255,o[s++]=r>>8&255,o[s++]=255&r;2===i&&(r=f[t.charCodeAt(n)]<<2|f[t.charCodeAt(n+1)]>>4,o[s++]=255&r);1===i&&(r=f[t.charCodeAt(n)]<<10|f[t.charCodeAt(n+1)]<<4|f[t.charCodeAt(n+2)]>>2,o[s++]=r>>8&255,o[s++]=255&r);return o},r.fromByteArray=function(t){for(var r,n=t.length,i=n%3,e=[],o=0,s=n-i;o<s;o+=16383)e.push(function(t,r,n){for(var i,e=[],o=r;o<n;o+=3)i=(t[o]<<16&16711680)+(t[o+1]<<8&65280)+(255&t[o+2]),e.push(function(t){return u[t>>18&63]+u[t>>12&63]+u[t>>6&63]+u[63&t]}(i));return e.join("")}(t,o,s<o+16383?s:o+16383));1==i?(r=t[n-1],e.push(u[r>>2]+u[r<<4&63]+"==")):2==i&&(r=(t[n-2]<<8)+t[n-1],e.push(u[r>>10]+u[r>>4&63]+u[r<<2&63]+"="));return e.join("")};for(var u=[],f=[],a="undefined"!=typeof Uint8Array?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e=0,o=i.length;e<o;++e)u[e]=i[e],f[i.charCodeAt(e)]=e;function h(t){var r=t.length;if(0<r%4)throw new Error("Invalid string. Length must be a multiple of 4");t=t.indexOf("="),r=(t=-1===t?r:t)===r?0:4-t%4;return[t,r]}f["-".charCodeAt(0)]=62,f["_".charCodeAt(0)]=63},function(t,r){r.read=function(t,r,n,i,e){var o,s,u=8*e-i-1,f=(1<<u)-1,a=f>>1,h=-7,c=n?e-1:0,l=n?-1:1,e=t[r+c];for(c+=l,o=e&(1<<-h)-1,e>>=-h,h+=u;0<h;o=256*o+t[r+c],c+=l,h-=8);for(s=o&(1<<-h)-1,o>>=-h,h+=i;0<h;s=256*s+t[r+c],c+=l,h-=8);if(0===o)o=1-a;else{if(o===f)return s?NaN:1/0*(e?-1:1);s+=Math.pow(2,i),o-=a}return(e?-1:1)*s*Math.pow(2,o-i)},r.write=function(t,r,n,i,e,o){var s,u,f=8*o-e-1,a=(1<<f)-1,h=a>>1,c=23===e?Math.pow(2,-24)-Math.pow(2,-77):0,l=i?0:o-1,v=i?1:-1,o=r<0||0===r&&1/r<0?1:0;for(r=Math.abs(r),isNaN(r)||r===1/0?(u=isNaN(r)?1:0,s=a):(s=Math.floor(Math.log(r)/Math.LN2),r*(i=Math.pow(2,-s))<1&&(s--,i*=2),2<=(r+=1<=s+h?c/i:c*Math.pow(2,1-h))*i&&(s++,i/=2),a<=s+h?(u=0,s=a):1<=s+h?(u=(r*i-1)*Math.pow(2,e),s+=h):(u=r*Math.pow(2,h-1)*Math.pow(2,e),s=0));8<=e;t[n+l]=255&u,l+=v,u/=256,e-=8);for(s=s<<e|u,f+=e;0<f;t[n+l]=255&s,l+=v,s/=256,f-=8);t[n+l-v]|=128*o}},function(t,r){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,r){t.exports=__WEBPACK_EXTERNAL_MODULE__47__},function(t,a,r){!function(e){function o(t,r){for(var n=0,i=t.length-1;0<=i;i--){var e=t[i];"."===e?t.splice(i,1):".."===e?(t.splice(i,1),n++):n&&(t.splice(i,1),n--)}if(r)for(;n--;)t.unshift("..");return t}function s(t,r){if(t.filter)return t.filter(r);for(var n=[],i=0;i<t.length;i++)r(t[i],i,t)&&n.push(t[i]);return n}a.resolve=function(){for(var t="",r=!1,n=arguments.length-1;-1<=n&&!r;n--){var i=0<=n?arguments[n]:e.cwd();if("string"!=typeof i)throw new TypeError("Arguments to path.resolve must be strings");i&&(t=i+"/"+t,r="/"===i.charAt(0))}return(r?"/":"")+(t=o(s(t.split("/"),function(t){return!!t}),!r).join("/"))||"."},a.normalize=function(t){var r=a.isAbsolute(t),n="/"===i(t,-1);return(t=(t=o(s(t.split("/"),function(t){return!!t}),!r).join("/"))||r?t:".")&&n&&(t+="/"),(r?"/":"")+t},a.isAbsolute=function(t){return"/"===t.charAt(0)},a.join=function(){var t=Array.prototype.slice.call(arguments,0);return a.normalize(s(t,function(t,r){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t}).join("/"))},a.relative=function(t,r){function n(t){for(var r=0;r<t.length&&""===t[r];r++);for(var n=t.length-1;0<=n&&""===t[n];n--);return n<r?[]:t.slice(r,n-r+1)}t=a.resolve(t).substr(1),r=a.resolve(r).substr(1);for(var i=n(t.split("/")),e=n(r.split("/")),o=Math.min(i.length,e.length),s=o,u=0;u<o;u++)if(i[u]!==e[u]){s=u;break}for(var f=[],u=s;u<i.length;u++)f.push("..");return(f=f.concat(e.slice(s))).join("/")},a.sep="/",a.delimiter=":",a.dirname=function(t){if("string"!=typeof t&&(t+=""),0===t.length)return".";for(var r=47===t.charCodeAt(0),n=-1,i=!0,e=t.length-1;1<=e;--e)if(47===t.charCodeAt(e)){if(!i){n=e;break}}else i=!1;return-1===n?r?"/":".":r&&1===n?"/":t.slice(0,n)},a.basename=function(t,r){t=function(t){"string"!=typeof t&&(t+="");for(var r=0,n=-1,i=!0,e=t.length-1;0<=e;--e)if(47===t.charCodeAt(e)){if(!i){r=e+1;break}}else-1===n&&(i=!1,n=e+1);return-1===n?"":t.slice(r,n)}(t);return t=r&&t.substr(-1*r.length)===r?t.substr(0,t.length-r.length):t},a.extname=function(t){"string"!=typeof t&&(t+="");for(var r=-1,n=0,i=-1,e=!0,o=0,s=t.length-1;0<=s;--s){var u=t.charCodeAt(s);if(47===u){if(e)continue;n=s+1;break}-1===i&&(e=!1,i=s+1),46===u?-1===r?r=s:1!==o&&(o=1):-1!==r&&(o=-1)}return-1===r||-1===i||0===o||1===o&&r===i-1&&r===n+1?"":t.slice(r,i)};var i="b"==="ab".substr(-1)?function(t,r,n){return t.substr(r,n)}:function(t,r,n){return r<0&&(r=t.length+r),t.substr(r,n)}}.call(this,r(49))},function(t,r){var n,i,t=t.exports={};function e(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}try{n="function"==typeof setTimeout?setTimeout:e}catch(t){n=e}try{i="function"==typeof clearTimeout?clearTimeout:o}catch(t){i=o}function s(r){if(n===setTimeout)return setTimeout(r,0);if((n===e||!n)&&setTimeout)return(n=setTimeout)(r,0);try{return n(r,0)}catch(t){try{return n.call(null,r,0)}catch(t){return n.call(this,r,0)}}}var u,f=[],a=!1,h=-1;function c(){a&&u&&(a=!1,u.length?f=u.concat(f):h=-1,f.length)&&l()}function l(){if(!a){for(var t=s(c),r=(a=!0,f.length);r;){for(u=f,f=[];++h<r;)u&&u[h].run();h=-1,r=f.length}u=null,a=!1,!function(r){if(i===clearTimeout)return clearTimeout(r);if((i===o||!i)&&clearTimeout)return(i=clearTimeout)(r);try{i(r)}catch(t){try{return i.call(null,r)}catch(t){return i.call(this,r)}}}(t)}}function v(t,r){this.fun=t,this.array=r}function y(){}t.nextTick=function(t){var r=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)r[n-1]=arguments[n];f.push(new v(t,r)),1!==f.length||a||s(l)},v.prototype.run=function(){this.fun.apply(null,this.array)},t.title="browser",t.browser=!0,t.env={},t.argv=[],t.version="",t.versions={},t.on=y,t.addListener=y,t.once=y,t.off=y,t.removeListener=y,t.removeAllListeners=y,t.emit=y,t.prependListener=y,t.prependOnceListener=y,t.listeners=function(t){return[]},t.binding=function(t){throw new Error("process.binding is not supported")},t.cwd=function(){return"/"},t.chdir=function(t){throw new Error("process.chdir is not supported")},t.umask=function(){return 0}},function(h,S,t){"use strict";t.r(S);var T="v3.1.3",R=653,r={NONE:0,EXTRUDE_MARKER:2,IMAGE_MARKER:8,LOCATION_MARKER:16,POLYGON_MARKER:32,TEXT_MARKER:64,LINE_MARKER:128,LINE3D_MARKER:256,HEAT_MAP_MARKER:512,EXTENT:1024,EXTERNAL_MODEL:2048,MODEL:4096,FACILITY:8192,LABEL:16384,DYNAMIC_MODEL_MARKER:32768,DOM_MARKER:65536,SPHERE_MARKER:1<<17,EXTENT_LAYER:1<<20,EXTERNAL_MODEL_LAYER:1<<21,MODEL_LAYER:1<<22,FACILITY_LAYER:1<<23,LABEL_LAYER:1<<24,MARKER_GROUP:1<<25,FLOW_LINE_LAYER:1<<27,FLOW_LINE_MARKER:1<<27,FIRE_MARKER:1<<28,WALL_MARKER:1<<29,TUBE_MARKER:1<<30},M=(r.LAYER_NODE_TYPE=new Map,r.LAYER_NODE_TYPE.set(r.EXTENT_LAYER,r.EXTENT),r.LAYER_NODE_TYPE.set(r.EXTERNAL_MODEL_LAYER,r.EXTERNAL_MODEL),r.LAYER_NODE_TYPE.set(r.MODEL_LAYER,r.MODEL),r.LAYER_NODE_TYPE.set(r.FACILITY_LAYER,r.FACILITY),r.LAYER_NODE_TYPE.set(r.LABEL_LAYER,r.LABEL),r.LAYER_NODE_TYPE.set(r.DOM_MARKER,r.DOM_MARKER),r.LAYER_NODE_TYPE.set(r.DYNAMIC_MODEL_MARKER,r.DYNAMIC_MODEL_MARKER),r.LAYER_NODE_TYPE.set(r.EXTRUDE_MARKER,r.EXTRUDE_MARKER),r.LAYER_NODE_TYPE.set(r.HEAT_MAP_MARKER,r.HEAT_MAP_MARKER),r.LAYER_NODE_TYPE.set(r.LINE_MARKER,r.LINE_MARKER),r.LAYER_NODE_TYPE.set(r.LOCATION_MARKER,r.LOCATION_MARKER),r.LAYER_NODE_TYPE.set(r.POLYGON_MARKER,r.POLYGON_MARKER),r.LAYER_NODE_TYPE.set(r.TEXT_MARKER,r.TEXT_MARKER),r.LAYER_NODE_TYPE.set(r.IMAGE_MARKER,r.IMAGE_MARKER),r.LAYER_NODE_TYPE.set(r.FLOW_LINE_LAYER,r.FLOW_LINE_MARKER),r.LAYER_NODE_TYPE.set(r.FIRE_MARKER,r.FIRE_MARKER),r.LAYER_NODE_TYPE.set(r.WALL_MARKER,r.WALL_MARKER),r.LAYER_NODE_TYPE.set(r.TUBE_MARKER,r.TUBE_MARKER),r.LAYER_NODE_TYPE.set(r.LINE3D_MARKER,r.LINE3D_MARKER),r.LAYER_NODE_TYPE.set(r.SPHERE_MARKER,r.SPHERE_MARKER),r),_={MODULE_SHORTEST:1,MODULE_BEST:2},w={PRIORITY_DEFAULT:1,PRIORITY_LIFTFIRST:2,PRIORITY_ESCALATORFIRST:3,PRIORITY_STAIRFIRST:4,PRIORITY_LIFTONLY:5,PRIORITY_ESCALATORONLY:6,PRIORITY_STAIRONLY:7,PRIORITY_ACCESSIBLEONLY:8,PRIORITY_LIFTFIRST1:9,PRIORITY_ESCALATORFIRST1:10,PRIORITY_STAIRFIRST1:11},A={ROUTE_SUCCESS:1,ROUTE_FAILED_NO_DATA_START:2,ROUTE_FAILED_NO_DATA_DEST:3,ROUTE_FAILED_CANNOT_ARRIVE:4,ROUTE_FAILED_WAYPOINT_CALCULATE_ERROR:5,ROUTE_FAILED_NO_START_ARRIVAL:6,ROUTE_FAILED_NO_DEST_ARRIVAL:7,ROUTE_FAILED_OUTLINE:8,ROUTE_FAILED_ENTRANCE:9},u={ZH:"zh",EN:"en"},N={TRANSFER_LIFT:1,TRANSFER_STAIR:2,TRANSFER_ESCALATOR:3,TRANSFER_ACCESSIBLE:4,TRANSFER_RAMP:5,TRANSFER_ENTRANCE:6},k={NONE_RODE_NETWORK:1,NONE_WALK_RODE_NETWORK:2,NONE_DRIVE_RODE_NETWORK:4};function B(t){return(B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function G(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,function(t){t=function(t,r){if("object"!==B(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0===n)return("string"===r?String:Number)(t);n=n.call(t,r||"default");if("object"!==B(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"===B(t)?t:String(t)}(i.key),i)}}function Y(t,r,n){return r&&G(t.prototype,r),n&&G(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var r=Y(function t(r,n){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this.V=r,this.Y=n}),s=(Object.assign(r.prototype,{X:function(t){return!1},H:function(t,r){}}),r);function z(t){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function X(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,function(t){t=function(t,r){if("object"!==z(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0===n)return("string"===r?String:Number)(t);n=n.call(t,r||"default");if("object"!==z(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"===z(t)?t:String(t)}(i.key),i)}}function q(t,r){return(q=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t})(t,r)}function H(n){var i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,r=Q(n),r=(t=i?(t=Q(this).constructor,Reflect.construct(r,arguments,t)):r.apply(this,arguments),this);if(t&&("object"===z(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==r)return r;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function Q(t){return(Q=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var r=function(){var t=o,r=s;if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&q(t,r);var n,i,e=H(o);function o(t,r){if(this instanceof o)return e.call(this,t,r);throw new TypeError("Cannot call a class as a function")}return t=o,n&&X(t.prototype,n),i&&X(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}(),K=(Object.assign(r.prototype,{X:function(t){return this.Y==t.fid}}),r);function J(t){return(J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function $(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,function(t){t=function(t,r){if("object"!==J(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0===n)return("string"===r?String:Number)(t);n=n.call(t,r||"default");if("object"!==J(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"===J(t)?t:String(t)}(i.key),i)}}function tt(t,r){return(tt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t})(t,r)}function rt(n){var i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,r=nt(n),r=(t=i?(t=nt(this).constructor,Reflect.construct(r,arguments,t)):r.apply(this,arguments),this);if(t&&("object"===J(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==r)return r;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function nt(t){return(nt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var r=function(){var t=o,r=s;if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&tt(t,r);var n,i,e=rt(o);function o(t,r){if(this instanceof o)return"object"==J((t=e.call(this,t,r)).Y)?(t.K=t.Y.text,t.J=t.Y.fuzzy,t.$=void 0===t.Y.matchCase||t.Y.matchCase):(t.K=t.Y,t.$=!0),t;throw new TypeError("Cannot call a class as a function")}return t=o,n&&$(t.prototype,n),i&&$(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}(),it=(Object.assign(r.prototype,{X:function(t){if(t.name)if(this.J){if(this.$){if(-1!=t.name.indexOf(this.K))return!0}else if(-1!=t.name.toLocaleLowerCase().indexOf(this.K.toLocaleLowerCase()))return!0}else if(this.$){if(this.K==t.name)return!0}else if(this.K.toLocaleLowerCase()==t.name.toLocaleLowerCase())return!0;return!1}}),r);function et(t){return(et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ot(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,function(t){t=function(t,r){if("object"!==et(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0===n)return("string"===r?String:Number)(t);n=n.call(t,r||"default");if("object"!==et(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"===et(t)?t:String(t)}(i.key),i)}}function st(t,r){return(st=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t})(t,r)}function ut(n){var i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,r=ft(n),r=(t=i?(t=ft(this).constructor,Reflect.construct(r,arguments,t)):r.apply(this,arguments),this);if(t&&("object"===et(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==r)return r;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function ft(t){return(ft=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var r=function(){var t=o,r=s;if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&st(t,r);var n,i,e=ut(o);function o(t,r){if(this instanceof o)return"object"==et((t=e.call(this,t,r)).Y)?(t.K=t.Y.text,t.J=t.Y.fuzzy,t.$=void 0===t.Y.matchCase||t.Y.matchCase):(t.K=t.Y,t.$=!0),t;throw new TypeError("Cannot call a class as a function")}return t=o,n&&ot(t.prototype,n),i&&ot(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}(),at=(Object.assign(r.prototype,{X:function(t){if(t.ename)if(this.J){if(this.$){if(-1!=t.ename.indexOf(this.K))return!0}else if(-1!=t.ename.toLocaleLowerCase().indexOf(this.K.toLocaleLowerCase()))return!0}else if(this.$){if(this.K==t.ename)return!0}else if(this.K.toLocaleLowerCase()==t.ename.toLocaleLowerCase())return!0;return!1}}),r);function ht(t){return(ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ct(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,function(t){t=function(t,r){if("object"!==ht(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0===n)return("string"===r?String:Number)(t);n=n.call(t,r||"default");if("object"!==ht(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"===ht(t)?t:String(t)}(i.key),i)}}function lt(t,r){return(lt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t})(t,r)}function vt(n){var i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,r=yt(n),r=(t=i?(t=yt(this).constructor,Reflect.construct(r,arguments,t)):r.apply(this,arguments),this);if(t&&("object"===ht(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==r)return r;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function yt(t){return(yt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var r=function(){var t=o,r=s;if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&lt(t,r);var n,i,e=vt(o);function o(t,r){if(this instanceof o)return(t=e.call(this,t)).Y=Array.isArray(r)?r:[r],t;throw new TypeError("Cannot call a class as a function")}return t=o,n&&ct(t.prototype,n),i&&ct(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}(),bt=(Object.assign(r.prototype,{X:function(t){return-1!=this.Y.indexOf(t.type)}}),r);function dt(t){return(dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function pt(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,function(t){t=function(t,r){if("object"!==dt(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0===n)return("string"===r?String:Number)(t);n=n.call(t,r||"default");if("object"!==dt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"===dt(t)?t:String(t)}(i.key),i)}}function mt(t,r){return(mt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t})(t,r)}function wt(n){var i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,r=xt(n),r=(t=i?(t=xt(this).constructor,Reflect.construct(r,arguments,t)):r.apply(this,arguments),this);if(t&&("object"===dt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==r)return r;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function xt(t){return(xt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var r=function(){var t=o,r=s;if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&mt(t,r);var n,i,e=wt(o);function o(t,r){if(this instanceof o)return"object"==dt((t=e.call(this,t,r)).Y)?(t.K=t.Y.text,t.J=void 0===t.Y.fuzzy||t.Y.fuzzy,t.$=void 0===t.Y.matchCase||t.Y.matchCase):(t.K=t.Y,t.J=!0,t.$=!0),t;throw new TypeError("Cannot call a class as a function")}return t=o,n&&pt(t.prototype,n),i&&pt(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}(),gt=(Object.assign(r.prototype,{X:function(t){if(this.J){if(this.$){if(t.name&&-1!=t.name.indexOf(this.K)||t.ename&&-1!=t.ename.indexOf(this.K))return!0}else if(t.name&&-1!=t.name.toLocaleLowerCase().indexOf(this.K.toLocaleLowerCase())||t.ename&&-1!=t.ename.toLocaleLowerCase().indexOf(this.K.toLocaleLowerCase()))return!0}else if(this.$){if(t.name&&t.name==this.K||t.ename&&t.ename==this.K)return!0}else if(t.name&&t.name.toLocaleLowerCase()==this.K.toLocaleLowerCase()||t.ename&&t.ename.toLocaleLowerCase()==this.K.toLocaleLowerCase())return!0;return!1}}),r),r={NONE:0,POINT:1,LINE:2,POLYGON:4,MULTIPOINT:8,MULTILINE:16,MULTIPOLYGON:32,GROUP:64,EXTENT:1024,EXTERNALMODEL:2048,MODEL:4096,FACILITY:8192,LABEL:16384,EXTENTGROUP:1<<20,EXTERNALMODELGROUP:1<<21,MODELGROUP:1<<22,FACILITYGROUP:1<<23,LABELGROUP:1<<24},x=(Object.freeze(r),r),_t=function(t,r,n){n=n||2;var i,e,o,s,u,f=r&&r.length,a=f?r[0]*n:t.length,h=St(t,0,a,n,!0),c=[];if(h&&h.next!==h.prev){if(f&&(h=function(t,r,n,i){var e,o,s,u,f=[];for(e=0,o=r.length;e<o;e++)u=r[e]*i,s=e<o-1?r[e+1]*i:t.length,(u=St(t,u,s,i,!1))===u.next&&(u.steiner=!0),f.push(function(t){var r=t,n=t;for(;(r.x<n.x||r.x===n.x&&r.y<n.y)&&(n=r),r=r.next,r!==t;);return n}(u));for(f.sort(Et),e=0;e<f.length;e++)!function(t,r){(r=function(t,r){var n,i=r,e=t.x,o=t.y,s=-1/0;do{if(o<=i.y&&o>=i.next.y&&i.next.y!==i.y){var u=i.x+(o-i.y)*(i.next.x-i.x)/(i.next.y-i.y);if(u<=e&&s<u){if((s=u)===e){if(o===i.y)return i;if(o===i.next.y)return i.next}n=i.x<i.next.x?i:i.next}}}while(i=i.next,i!==r);if(!n)return null;if(e!==s){var f,a=n,h=n.x,c=n.y,l=1/0;for(i=n;e>=i.x&&i.x>=h&&e!==i.x&&Rt(o<c?e:s,o,h,c,o<c?s:e,o,i.x,i.y)&&(f=Math.abs(o-i.y)/(e-i.x),It(i,t))&&(f<l||f===l&&(i.x>n.x||i.x===n.x&&function(t,r){return O(t.prev,t,r.prev)<0&&O(r.next,t,t.next)<0}(n,i)))&&(n=i,l=f),(i=i.next)!==a;);}return n}(t,r))&&(t=Pt(r,t),jt(r,r.next),jt(t,t.next))}(f[e],n),n=jt(n,n.next);return n}(t,r,h,n)),t.length>80*n){for(var l=i=t[0],v=e=t[1],y=n;y<a;y+=n)(o=t[y])<l&&(l=o),(s=t[y+1])<v&&(v=s),i<o&&(i=o),e<s&&(e=s);u=0!==(u=Math.max(i-l,e-v))?1/u:0}Ot(h,c,n,l,v,u)}return c};function St(t,r,n,i,e){var o,s;if(e===0<function(t,r,n,i){for(var e=0,o=r,s=n-i;o<n;o+=i)e+=(t[s]-t[o])*(t[o+1]+t[s+1]),s=o;return e}(t,r,n,i))for(o=r;o<n;o+=i)s=Lt(o,t[o],t[o+1],s);else for(o=n-i;r<=o;o-=i)s=Lt(o,t[o],t[o+1],s);return s&&Mt(s,s.next)&&(Dt(s),s=s.next),s}function jt(t,r){if(!t)return t;r=r||t;var n,i=t;do{if(n=!1,i.steiner||!Mt(i,i.next)&&0!==O(i.prev,i,i.next))i=i.next;else{if(Dt(i),(i=r=i.prev)===i.next)break;n=!0}}while(n||i!==r);return r}function Ot(t,r,n,i,e,o,s){if(t){if(!s&&o){for(var u=t,f=i,a=e,h=o,c=u;null===c.z&&(c.z=Tt(c.x,c.y,f,a,h)),c.prevZ=c.prev,c.nextZ=c.next,(c=c.next)!==u;);c.prevZ.nextZ=null,c.prevZ=null;var l,v,y,b,d,p,m,w,x=c,g=1;do{for(v=x,d=x=null,p=0;v;){for(p++,y=v,l=m=0;l<g&&(m++,y=y.nextZ);l++);for(w=g;0<m||0<w&&y;)0!==m&&(0===w||!y||v.z<=y.z)?(v=(b=v).nextZ,m--):(y=(b=y).nextZ,w--),d?d.nextZ=b:x=b,b.prevZ=d,d=b;v=y}}while(d.nextZ=null,g*=2,1<p)}for(var _,S,j=t;t.prev!==t.next;)if(_=t.prev,S=t.next,o?function(t,r,n,i){var e=t.prev,o=t,s=t.next;if(0<=O(e,o,s))return;var u=(e.x<o.x?e.x<s.x?e:s:o.x<s.x?o:s).x,f=(e.y<o.y?e.y<s.y?e:s:o.y<s.y?o:s).y,a=(e.x>o.x?e.x>s.x?e:s:o.x>s.x?o:s).x,h=(e.y>o.y?e.y>s.y?e:s:o.y>s.y?o:s).y,c=Tt(u,f,r,n,i),l=Tt(a,h,r,n,i),v=t.prevZ,y=t.nextZ;for(;v&&v.z>=c&&y&&y.z<=l;){if(v!==t.prev&&v!==t.next&&Rt(e.x,e.y,o.x,o.y,s.x,s.y,v.x,v.y)&&0<=O(v.prev,v,v.next))return;if(v=v.prevZ,y!==t.prev&&y!==t.next&&Rt(e.x,e.y,o.x,o.y,s.x,s.y,y.x,y.y)&&0<=O(y.prev,y,y.next))return;y=y.nextZ}for(;v&&v.z>=c;){if(v!==t.prev&&v!==t.next&&Rt(e.x,e.y,o.x,o.y,s.x,s.y,v.x,v.y)&&0<=O(v.prev,v,v.next))return;v=v.prevZ}for(;y&&y.z<=l;){if(y!==t.prev&&y!==t.next&&Rt(e.x,e.y,o.x,o.y,s.x,s.y,y.x,y.y)&&0<=O(y.prev,y,y.next))return;y=y.nextZ}return 1}(t,i,e,o):function(t){var r=t.prev,n=t,i=t.next;if(0<=O(r,n,i))return;var e=t.next.next;for(;e!==t.prev;){if(Rt(r.x,r.y,n.x,n.y,i.x,i.y,e.x,e.y)&&0<=O(e.prev,e,e.next))return;e=e.next}return 1}(t))r.push(_.i/n),r.push(t.i/n),r.push(S.i/n),Dt(t),t=S.next,j=S.next;else if((t=S)===j){s?1===s?Ot(t=function(t,r,n){var i=t;do{var e=i.prev,o=i.next.next}while(!Mt(e,o)&&Nt(e,i,i.next,o)&&It(e,o)&&It(o,e)&&(r.push(e.i/n),r.push(i.i/n),r.push(o.i/n),Dt(i),Dt(i.next),i=t=o),i=i.next,i!==t);return jt(i)}(jt(t),r,n),r,n,i,e,o,2):2===s&&function(t,r,n,i,e,o){var s=t;do{for(var u,f=s.next.next;f!==s.prev;){if(s.i!==f.i&&function(t,r){return t.next.i!==r.i&&t.prev.i!==r.i&&!function(t,r){var n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==r.i&&n.next.i!==r.i&&Nt(n,n.next,t,r))return 1}while(n=n.next,n!==t);return}(t,r)&&(It(t,r)&&It(r,t)&&function(t,r){var n=t,i=!1,e=(t.x+r.x)/2,o=(t.y+r.y)/2;for(;n.y>o!=n.next.y>o&&n.next.y!==n.y&&e<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(i=!i),n=n.next,n!==t;);return i}(t,r)&&(O(t.prev,t,r.prev)||O(t,r.prev,r))||Mt(t,r)&&0<O(t.prev,t,t.next)&&0<O(r.prev,r,r.next))}(s,f))return u=Pt(s,f),s=jt(s,s.next),u=jt(u,u.next),Ot(s,r,n,i,e,o),Ot(u,r,n,i,e,o);f=f.next}}while(s=s.next,s!==t)}(t,r,n,i,e,o):Ot(jt(t),r,n,i,e,o,1);break}}}function Et(t,r){return t.x-r.x}function Tt(t,r,n,i,e){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-n)*e)|t<<8))|t<<4))|t<<2))|t<<1))|(r=1431655765&((r=858993459&((r=252645135&((r=16711935&((r=32767*(r-i)*e)|r<<8))|r<<4))|r<<2))|r<<1))<<1}function Rt(t,r,n,i,e,o,s,u){return 0<=(e-s)*(r-u)-(t-s)*(o-u)&&0<=(t-s)*(i-u)-(n-s)*(r-u)&&0<=(n-s)*(o-u)-(e-s)*(i-u)}function O(t,r,n){return(r.y-t.y)*(n.x-r.x)-(r.x-t.x)*(n.y-r.y)}function Mt(t,r){return t.x===r.x&&t.y===r.y}function Nt(t,r,n,i){var e=At(O(t,r,n)),o=At(O(t,r,i)),s=At(O(n,i,t)),u=At(O(n,i,r));return e!==o&&s!==u||0===e&&kt(t,n,r)||0===o&&kt(t,i,r)||0===s&&kt(n,t,i)||!(0!==u||!kt(n,r,i))}function kt(t,r,n){return r.x<=Math.max(t.x,n.x)&&r.x>=Math.min(t.x,n.x)&&r.y<=Math.max(t.y,n.y)&&r.y>=Math.min(t.y,n.y)}function At(t){return 0<t?1:t<0?-1:0}function It(t,r){return O(t.prev,t,t.next)<0?0<=O(t,r,t.next)&&0<=O(t,t.prev,r):O(t,r,t.prev)<0||O(t,t.next,r)<0}function Pt(t,r){var n=new Ft(t.i,t.x,t.y),i=new Ft(r.i,r.x,r.y),e=t.next,o=r.prev;return(t.next=r).prev=t,(n.next=e).prev=n,(i.next=n).prev=i,(o.next=i).prev=o,i}function Lt(t,r,n,i){t=new Ft(t,r,n);return i?(t.next=i.next,(t.prev=i).next.prev=t,i.next=t):(t.prev=t).next=t,t}function Dt(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function Ft(t,r,n){this.i=t,this.x=r,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Ct(t){return function(t){if(Array.isArray(t))return Ut(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,r){var n;if(t)return"string"==typeof t?Ut(t,r):"Map"===(n="Object"===(n=Object.prototype.toString.call(t).slice(8,-1))&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ut(t,r):void 0}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ut(t,r){(null==r||r>t.length)&&(r=t.length);for(var n=0,i=new Array(r);n<r;n++)i[n]=t[n];return i}var Bt={area:function(t){for(var r=t.length,n=0,i=r-1,e=0;e<r;i=e++)n+=t[i].x*t[e].y-t[e].x*t[i].y;return.5*n},isClockWise:function(t){return Bt.area(t)<0},triangulateShape:function(t,r){var n=[],i=[],e=[],o=(Gt(t),Wt(n,t),t.length);r.forEach(Gt);for(var s=0;s<r.length;s++)i.push(o),o+=r[s].length,Wt(n,r[s]);for(var u=_t(n,i),f=0;f<u.length;f+=3)e.push(u.slice(f,f+3));return e},triangulate:function(t){(e=[]).push.apply(e,Ct(t[0]));for(var r=[],n=1;n<t.length;n++){var i=[];i.push.apply(i,Ct(t[n])),r.push(i)}if(!Bt.isClockWise(e))for(var e=e.reverse(),o=0,s=r.length;o<s;o++){var u=r[o];Bt.isClockWise(u)&&(r[o]=u.reverse())}return Bt.triangulateShape(e,r)}};function Gt(t){var r,n=t.length;2<n&&(n=t[n-1],r=t[0],n.x===r.x)&&n.y===r.y&&t.pop()}function Wt(t,r){for(var n=0;n<r.length;n++)t.push(r[n].x),t.push(r[n].y)}function Zt(t){return(Zt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Vt(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,function(t){t=function(t,r){if("object"!==Zt(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0===n)return("string"===r?String:Number)(t);n=n.call(t,r||"default");if("object"!==Zt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"===Zt(t)?t:String(t)}(i.key),i)}}function Yt(t,r,n){return r&&Vt(t.prototype,r),n&&Vt(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var zt=1e-5,Xt=.001,qt=Math.PI/180,Ht=180/Math.PI,r=Yt(function t(){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function")});Object.assign(r.prototype,{tt:function(){return zt},rt:function(){return qt},nt:function(){return Ht},it:function(t){return t<zt&&-zt<t},et:function(t){return zt<t},ot:function(t){return t<-zt},st:function(t,r,n){r=(t.x-n.x)*(r.y-n.y)-(r.x-n.x)*(t.y-n.y);return Math.abs(r)<zt?0:r},distanceOfTwoPoints:function(t,r){return t&&r?Math.sqrt((t.x-r.x)*(t.x-r.x)+(t.y-r.y)*(t.y-r.y)):Number.NaN},distance:function(t,r){return Math.sqrt(Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2))},isPolygonContainPoint:function(t,r){for(var n=0,i=0;i<t.length;i++){var e=t[i].x,o=t[i].y,s=0,u=0,u=(i<t.length-1?(s=t[i+1].x,t[i+1]):(s=t[0].x,t[0])).y;if(e===r.x&&o===r.y||s===r.x&&u===r.y)return!0;if(u!==o){var f=e+(r.y-o)*(s-e)/(u-o);if(f===r.x)return!0;e!==s?f<=Math.max(e,s)&&f>=Math.min(e,s)&&f>r.x&&f!==e&&(f===s&&0<(o-r.y)*(u-r.y)?n+=2:n++):f<=Math.max(e,s)&&f>=Math.min(e,s)&&f>r.x&&(f===s&&0<(o-r.y)*(u-r.y)?n+=2:n++)}}return 0<n%2},ut:function(t,r,n,i){return!(Math.max(t.x,r.x)<Math.min(n.x,i.x)||Math.max(t.y,r.y)<Math.min(n.y,i.y)||Math.max(n.x,i.x)<Math.min(t.x,r.x)||Math.max(n.y,i.y)<Math.min(t.y,r.y))},ft:function(t,r,n,i){return!(Math.max(t.x,r.x)<Math.min(n.x,i.x)||Math.max(t.y,r.y)<Math.min(n.y,i.y)||Math.max(n.x,i.x)<Math.min(t.x,r.x)||Math.max(n.y,i.y)<Math.min(t.y,r.y)||0===this.st(n,r,t)&&0===this.st(r,i,t)||this.st(n,r,t)*this.st(r,i,t)<0||this.st(t,i,n)*this.st(i,r,n)<0)},ht:function(t,r,n){return!(t.x<r.x||t.y<r.y||t.x>n.x||t.y>n.y)},ct:function(t,r,n){var i=Math.min(r.x,n.x),e=Math.max(r.x,n.x),o=Math.min(r.y,n.y),r=Math.max(r.y,n.y);return!(t.x<i||t.x>e||t.y<o||t.y>r)},lt:function(t,r,n){var i=Math.min(n.x,r.x),e=Math.max(n.x,r.x),o=Math.min(n.y,r.y),n=Math.max(n.y,r.y);return!(t.x<i||t.x>e||t.y<o||t.y>n)},vt:function(t,r,n){for(var i,e,o=!1,s=0;s<n;s++)i=r[s],e=r[(s+1)%n],(i.y<t.y&&e.y>=t.y||e.y<t.y&&i.y>=t.y)&&(i.x<=t.x||e.x<=t.x)&&i.x+(t.y-i.y)/(e.y-i.y)*(e.x-i.x)<t.x&&(o=!o);return o},yt:function(t,r,n){return(t.x-r.x)*(n.y-r.y)==(n.x-r.x)*(t.y-r.y)&&Math.min(r.x,n.x)<=t.x&&t.x<=Math.max(r.x,n.x)&&Math.min(r.y,n.y)<=t.y&&t.y<=Math.max(r.y,n.y)},bt:function(t,r){return Math.sqrt((t.x-r.x)*(t.x-r.x)+(t.y-r.y)*(t.y-r.y))},dt:function(t,r){return(t.x-r.x)*(t.x-r.x)+(t.y-r.y)*(t.y-r.y)},wt:function(t,r,n){var i=r.x,r=r.y,e=n.x,n=n.y,o=t.x,t=t.y,s=e-i,u=n-r,f=s*s+u*u,a=o-i,h=t-r,c=a*a+h*h;return this.it(f)?this.it(c)?0:c:(f=Math.sqrt(f),h=this.et(u=(s=s/f)*a+(a=u/f)*h)?this.ot(u-f)?(h=o-(i+u*s))*h+(f=t-(r+u*a))*f:(i=o-e)*i+(s=t-n)*s:c,this.it(h)?0:h)},xt:function(t,r,n,i){var e,o=r.x,s=r.y,u=n.x,f=n.y,a=t.x,t=t.y,h=u-o,c=f-s,l=Math.sqrt(h*h+c*c),v=a-o,y=t-s,b=Math.sqrt(v*v+y*y);return this.it(l)?(i.x=r.x,i.y=r.y,this.it(e=b)?0:e):(e=this.et(c=(h=h/l)*v+(v=c/l)*y)?this.ot(c-l)?(l=a-(y=o+c*h),h=t-(o=s+c*v),s=Math.sqrt(l*l+h*h),i.x=y,i.y=o,s):(c=a-u,v=t-f,l=Math.sqrt(c*c+v*v),i.x=n.x,i.y=n.y,l):(i.x=r.x,i.y=r.y,b),this.it(e)?0:e)},gt:function(t,r){for(var n=0,i=0,e=0,o=0;o<r;o++){var s=t[o],u=t[(o+1)%r],f=(s.x*u.y-s.y*u.x)/2;n+=f,i+=f*(s.x+u.x)/3,e+=f*(s.y+u.y)/3}return{x:i/=n,y:e/=n}},_t:function(t){for(var r=Bt.triangulate([t]),n=0,i=0,e=0,o=0;o<r.length;o++){var s=t[r[o][0]],u=t[r[o][1]],f=t[r[o][2]],a=u.x-s.x,h=u.y-s.y,c=f.x-s.x,a=(a*(f.y-s.y)-c*h)/2;n+=a,i+=(s.x+u.x+f.x)/3*a,e+=(s.y+u.y+f.y)/3*a}return{x:i/n,y:e/n}},St:function(t,r){if(r<3)return 0;for(var n=0,i=0;i<r;++i){var e=t[i],o=t[(i+1)%r];n+=e.x*o.y-e.y*o.x}return Math.abs(n/2)},jt:function(t,r,n,i,e){var o,s;return this.ft(t,r,n,i)?(o=(i.x-n.x)*(t.y-r.y)-(r.x-t.x)*(n.y-i.y),s=(t.y-n.y)*(r.x-t.x)*(i.x-n.x)+n.x*(i.y-n.y)*(r.x-t.x)-t.x*(r.y-t.y)*(i.x-n.x),e.x=s/o,o=(t.x-r.x)*(i.y-n.y)-(r.y-t.y)*(n.x-i.x),s=r.y*(t.x-r.x)*(i.y-n.y)+(i.x-r.x)*(i.y-n.y)*(t.y-r.y)-i.y*(n.x-i.x)*(r.y-t.y),e.y=s/o,1):0},Ot:function(t,r,n,i,e){var o=Math.min(n.x,i.x),s=Math.max(n.x,i.x),u=Math.min(n.y,i.y),f=Math.max(n.y,i.y),a=t.x,h=t.y,c=n.x,l=n.y,v=i.x,y=i.y;if(90==r)return!(t.x<o||t.x>s||(Math.abs(s-o<Xt)?t.y>=l&&t.y<=y||t.y>=y&&t.y<=l?(e.x=t.x,e.y=t.y,0):l<y&&t.x<l?(e.x=c,e.y=l,0):!(y<l&&t.x<y)||(e.x=v,e.y=y,0):(e.y=b=(y-l)/(v-c)*(a-c)+l,e.x=a,b<h||!this.lt(e,n,i))));if(270==r)return!(t.x<o||t.x>s||(Math.abs(s-o<Xt)?t.y>=l&&t.y<=y||t.y>=y&&t.y<=l?(e.x=t.x,e.y=t.y,0):l<y&&t.y>y?(e.x=v,e.y=y,0):!(y<l&&t.y>l)||(e.x=c,e.y=l,0):(e.y=b=(y-l)/(v-c)*(a-c)+l,e.x=a,h<b||!this.lt(e,n,i))));if(270!=r&&90!=r&&Math.abs(s-o<Xt)){var t=o,b=Math.tan(r/180*Math.PI)*(t-a)+h;if(e.y=b,e.x=t,this.lt(e,n,i))return s=b-h,0<(o=t-a)/Math.sqrt(o*o+s*s)*Math.cos(r/180*Math.PI)}return Math.abs(f-u<=Xt)?(b=u,t=1/Math.tan(r/180*Math.PI)*(b-h)+a,e.x=t,e.y=b,!!this.lt(e,n,i)&&(o=b-h,0<(s=t-a)/Math.sqrt(s*s+o*o)*Math.cos(r/180*Math.PI))):(t=h+(f=Math.tan(r/180*Math.PI))*((b=(l-h-((u=(y-l)/(v-c))*c-f*a))/(f-u))-a),e.x=b,e.y=t,!!this.lt(e,n,i)&&(s=b-a,o=t-h,Math.abs(s)<=Xt&&Math.abs(o)<=Xt||0<s/Math.sqrt(s*s+o*o)*Math.cos(r/180*Math.PI)))},Et:function(t,r){return Math.abs(t.x-r.x)<zt&&Math.abs(t.y-r.y)<zt},Tt:function(t,r,n,i){var e,o,s,u,f=t.x,a=t.y,h=r.x,c=r.y,l=n.x,v=n.y;return this.Et(t,r)||this.Et(t,n)?(i.x=f,i.y=a,!0):(s=Math.min(r.x,n.x),u=Math.max(r.x,n.x),e=Math.min(r.y,n.y),o=Math.max(r.y,n.y),Math.abs(h-l)<1e-5?(i.x=h,e<=(i.y=a)&&a<=o):Math.abs(c-v)<1e-5?(i.x=f,i.y=c,s<=f&&f<=u):(u=a+(e=-1/((v-c)/(l-h)))*((s=(c-a-((o=(v-c)/(l-h))*h-e*f))/(e-o))-f),i.x=s,i.y=u,!!this.lt(i,r,n)||!(!this.Et(t,r)&&!this.Et(t,n))))},Rt:function(t,r){return{x:t.y*r.z-t.z*r.y,y:t.z*r.x-t.x*r.z,z:t.x*r.y-t.y*r.x}},Mt:function(t,r){return t.x*r.x+t.y*r.y+t.z*r.z},Nt:function(t){return Math.sqrt(t.x*t.x+t.y*t.y+t.z*t.z)},kt:function(t,r){return t.x*r.x+t.y*r.y},At:function(t,r){return t.x*r.y-t.y*r.x},It:function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},Pt:function(t,r){var n,i;return 0==t.x&&0==t.y||0==r.x&&0==r.y?0:(n={x:t.x,y:t.y,z:0},i={x:r.x,y:r.y,z:0},n=this.Rt(n,i),i=this.kt(t,r),i=Math.acos(i/(this.It(t)*this.It(r))),0<n.z?i/Math.PI*180:360-i/Math.PI*180)},Lt:function(t,r,n,i){for(var e=0;e<n.length;e++){var o=n[e],s=n[(e+1)%n.length];if(1==this.jt(t,r,o,s,i))return!0}return!1},Dt:function(t,r,n,i,e){var o=Math.min(t.x,n.x,i.x),s=Math.max(t.x,n.x,i.x),u=Math.min(t.y,n.y,i.y),f=Math.max(t.y,n.y,i.y),s=Math.sqrt((s-o)*(s-o)+(f-u)*(f-u)),o=r/180*Math.PI,f=s*Math.cos(o)+t.x,u=s*Math.sin(o)+t.y;return 1==this.jt(t,{x:f,y:u},n,i,e)},Ft:function(t){for(var r={x:null,y:null},n=0,i=0,e=0;e<t.length;e++)n+=t[e].x,i+=t[e].y;return r.x=n/t.length,r.y=i/t.length,r},Ct:function(t,r,n,i){var e=[],o=t.x-r,s=t.x+r,u=t.y-r,f=t.y+r,a=Math.min(n.x,i.x),h=Math.max(n.x,i.x),c=Math.min(n.y,i.y),l=Math.max(n.y,i.y);return h<o||s<a||l<u||f<c||(o=i.x-n.x,s=i.y-n.y,(u=(t=(o*(u=t.x-n.x)+s*(f=t.y-n.y))/(i=o*o+s*s))*t-(u*u+f*f-r*r)/i)<0)||(f=Math.sqrt(u),i={x:n.x-o*(r=-t+f),y:n.y-s*r},o={x:n.x-o*(u=-t-f),y:n.y-s*u},r!==u&&(a<=i.x&&i.x<=h&&c<=i.y&&i.y<=l&&e.push(i),a<=o.x)&&o.x<=h&&c<=o.y&&o.y<=l&&e.push(o)),e},Ut:function(t,r,n){var i,e={};if(t.x!=r.x)return i=r=(r.y-t.y)/(r.x-t.x),r=t.y-r*t.x,e.x=(+n.x- -1*i*n.y-i*r)/(i*i+1),e.y=(i*i*n.y- -1*i*n.x- -1*r)/(i*i+1),e;e.x=t.x,e.y=n.y},Bt:function(t,r,n,i){var e,o,s,u,f={point:null,isintersect:!1};return t==n||t==i?(f.isintersect=!0,f.point=t):r==n||r==i?(f.isintersect=!0,f.point=r):(e={x:r.x-t.x,y:r.y-t.y},o={x:i.x-n.x,y:i.y-n.y},s={x:n.x-t.x,y:n.y-t.y},i={x:i.x-t.x,y:i.y-t.y},r={x:r.x-n.x,y:r.y-n.y},n={x:-s.x,y:-s.y},u=this.At(o,e),Math.abs(u)<=4e-9||this.At(s,e)*this.At(i,e)<=4e-9&&this.At(n,o)*this.At(r,o)<4e-9&&(i=this.At(o,s)/u,f.point=t+e*i,f.isintersect=!0)),f}});var W=new r;function Qt(t){return(Qt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Kt(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,function(t){t=function(t,r){if("object"!==Qt(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0===n)return("string"===r?String:Number)(t);n=n.call(t,r||"default");if("object"!==Qt(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"===Qt(t)?t:String(t)}(i.key),i)}}var r=function(){function t(){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this.Gt={x:Number.MAX_VALUE,y:Number.MAX_VALUE},this.Wt={x:-Number.MAX_VALUE,y:-Number.MAX_VALUE}}var r,n,i;return r=t,(n=[{key:"min",get:function(){return this.Gt}},{key:"max",get:function(){return this.Wt}},{key:"center",get:function(){var t={x:Number.NaN,y:Number.NaN};return this.valid()&&(t.x=(this.min.x+this.max.x)/2,t.y=(this.min.y+this.max.y)/2),t}},{key:"size",get:function(){var t={x:Number.NaN,y:Number.NaN};return this.valid()&&(t.x=this.max.x-this.min.x,t.y=this.max.y-this.min.y),t}},{key:"copy",value:function(t){return this.Wt.x=t.max.x,this.Wt.y=t.max.y,this.Gt.x=t.min.x,this.Gt.y=t.min.y,this}},{key:"clone",value:function(){return(new t).copy(this)}},{key:"reset",value:function(){this.Gt={x:Number.MAX_VALUE,y:Number.MAX_VALUE},this.Wt={x:-Number.MAX_VALUE,y:-Number.MAX_VALUE}}},{key:"toObject",value:function(){return{min:this.min,max:this.max,center:this.center,size:this.size}}},{key:"expand",value:function(t){this.Zt(t)}},{key:"expandByCoords",value:function(t){this.Vt(t)}},{key:"valid",value:function(){return this.Yt()}},{key:"isCross",value:function(t){var r=!0;return t.max.x<this.min.x&&(r=!1),t.min.x>this.max.x&&(r=!1),t.max.y<this.min.y&&(r=!1),r=t.min.y>this.max.y?!1:r}}])&&Kt(r.prototype,n),i&&Kt(r,i),Object.defineProperty(r,"prototype",{writable:!1}),t}(),Jt=(Object.assign(r.prototype,{Yt:function(){return!(this.min.x>this.max.x||this.min.y>this.max.y)},Zt:function(t){t&&t.valid()&&(t.min.x<this.min.x&&(this.min.x=t.min.x),t.min.y<this.min.y&&(this.min.y=t.min.y),t.max.x>this.max.x&&(this.max.x=t.max.x),t.max.y>this.max.y)&&(this.max.y=t.max.y)},Vt:function(t){var r=this;t&&0!=t.length&&t.forEach(function(t){t.x<r.min.x&&(r.min.x=t.x),t.y<r.min.y&&(r.min.y=t.y),t.x>r.max.x&&(r.max.x=t.x),t.y>r.max.y&&(r.max.y=t.y)})}}),r);function $t(t){return($t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function tr(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,function(t){t=function(t,r){if("object"!==$t(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0===n)return("string"===r?String:Number)(t);n=n.call(t,r||"default");if("object"!==$t(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"===$t(t)?t:String(t)}(i.key),i)}}function rr(t,r){return(rr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t})(t,r)}function nr(n){var i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,r=ir(n),r=(t=i?(t=ir(this).constructor,Reflect.construct(r,arguments,t)):r.apply(this,arguments),this);if(t&&("object"===$t(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==r)return r;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function ir(t){return(ir=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var r=function(){var t=o,r=s;if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&rr(t,r);var n,i,e=nr(o);function o(t,r){if(this instanceof o)return(t=e.call(this,t,r)).zt=t.Y.center,t.Xt=t.Y.radius,t.qt=t.Y.radius*t.Y.radius,t.Ht=new Jt,t.Ht.Vt([{x:t.zt.x-t.Xt,y:t.zt.y-t.Xt},{x:t.zt.x+t.Xt,y:t.zt.y+t.Xt}]),t;throw new TypeError("Cannot call a class as a function")}return t=o,n&&tr(t.prototype,n),i&&tr(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}(),er=(Object.assign(r.prototype,{X:function(t){return t.getType()!=x.MODEL?this.Qt(t):this.Kt(t)},Kt:function(t){var r=t.getBound();if(W.ut(this.Ht.Gt,this.Ht.Wt,r.min,r.max))for(var n=t.getCoordinates(),i=0,e=n.length;i<e;i++)for(var o=1,s=n[i].length;o<s;o++){var u=n[i][o];if(W.dt(u,this.zt)<this.qt)return!0;var f=n[i][o-1];if(1==o&&W.dt(f,this.zt)<this.qt)return!0;if(W.wt(this.zt,f,u)<this.qt)return!0}return!1},Qt:function(t){t=t.getCoordinates()[0];return!!W.ht(t,this.Ht.Gt,this.Ht.Wt)&&W.dt(t,this.zt)<this.qt},H:function(t,r){var n=t.getCoordinates();if(t.getType()!=x.MODEL)r.bt=Math.sqrt(W.dt(n[0],this.zt));else{for(var i=Number.MAX_VALUE,e=0,o=n.length;e<o;e++)for(var s=1,u=n[e].length;s<u;s++){var f=n[e][s-1],a=n[e][s],f=W.wt(this.zt,f,a);f<i&&(i=f)}r.bt=Math.sqrt(i)}}}),r);function or(t){return(or="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function sr(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,function(t){t=function(t,r){if("object"!==or(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0===n)return("string"===r?String:Number)(t);n=n.call(t,r||"default");if("object"!==or(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"===or(t)?t:String(t)}(i.key),i)}}function ur(t,r){return(ur=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t})(t,r)}function fr(n){var i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,r=ar(n),r=(t=i?(t=ar(this).constructor,Reflect.construct(r,arguments,t)):r.apply(this,arguments),this);if(t&&("object"===or(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==r)return r;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function ar(t){return(ar=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var r=function(){var t=o,r=s;if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&ur(t,r);var n,i,e=fr(o);function o(t,r){if(this instanceof o)return(t=e.call(this,t,r)).Jt=t.Y,t.$t=t.Jt.length-1,t.zt=W._t(t.Jt),t.Ht=new Jt,t.Ht.Vt(t.Jt),t;throw new TypeError("Cannot call a class as a function")}return t=o,n&&sr(t.prototype,n),i&&sr(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}(),hr=(Object.assign(r.prototype,{X:function(t){return t.getType()!=x.MODEL?this.Qt(t):this.Kt(t)},Kt:function(t){var r=t.getBound();if(W.ut(this.Ht.Gt,this.Ht.Wt,r.min,r.max)){for(var n=t.getCoordinates(),i=0,e=n.length;i<e;i++)for(var o=0,s=n[i].length-1;o<s;o++)if(W.vt(n[i][o],this.Jt,this.Jt.length))return!0;for(var u=0;u<this.$t;u++){for(var f=!1,a=0,h=n.length;a<h;a++)W.vt(this.Jt[u],n[a],n[a].length-1)&&(f=0==a);if(f)return!0}for(var c=0;c<this.$t;c++)for(var l=this.Jt[c],v=this.Jt[c+1],y=0,b=n.length;y<b;y++)for(var d=0,p=n[y].length-1;d<p;d++){var m=n[y][d],w=n[y][d+1];if(W.ft(l,v,m,w))return!0}for(var x=this.Jt[0],g=this.Jt[this.Jt.length-1],_=0,S=n.length;_<S;_++)for(var j=0,O=n[_].length-1;j<O;j++){var E=n[_][j],T=n[_][j+1];if(W.ft(x,g,E,T))return!0}}return!1},Qt:function(t){t=t.getCoordinates()[0];return!!W.ht(t,this.Ht.Gt,this.Ht.Wt)&&W.vt(t,this.Jt,this.Jt.length-1)},H:function(t,r){var n=t.getCoordinates();if(t.getType()!==x.MODEL)r.bt=Math.sqrt(W.dt(n[0],this.zt));else{for(var i=Number.MAX_VALUE,e=0,o=n.length;e<o;e++)for(var s=1,u=n[e].length;s<u;s++){var f=n[e][s-1],a=n[e][s],f=W.wt(this.zt,f,a);f<i&&(i=f)}r.bt=Math.sqrt(i)}}}),r);function cr(t){return(cr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function lr(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,function(t){t=function(t,r){if("object"!==cr(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0===n)return("string"===r?String:Number)(t);n=n.call(t,r||"default");if("object"!==cr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"===cr(t)?t:String(t)}(i.key),i)}}function vr(t,r){return(vr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t})(t,r)}function yr(n){var i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,r=br(n),r=(t=i?(t=br(this).constructor,Reflect.construct(r,arguments,t)):r.apply(this,arguments),this);if(t&&("object"===cr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==r)return r;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function br(t){return(br=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var r=function(){var t=o,r=s;if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&vr(t,r);var n,i,e=yr(o);function o(t,r){if(this instanceof o)return e.call(this,t,r);throw new TypeError("Cannot call a class as a function")}return t=o,n&&lr(t.prototype,n),i&&lr(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}(),dr=(Object.assign(r.prototype,{X:function(t){return!1}}),r);function pr(t){return(pr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function mr(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,function(t){t=function(t,r){if("object"!==pr(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0===n)return("string"===r?String:Number)(t);n=n.call(t,r||"default");if("object"!==pr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"===pr(t)?t:String(t)}(i.key),i)}}function wr(t,r){return(wr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t})(t,r)}function xr(n){var i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,r=gr(n),r=(t=i?(t=gr(this).constructor,Reflect.construct(r,arguments,t)):r.apply(this,arguments),this);if(t&&("object"===pr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==r)return r;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function gr(t){return(gr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var r=function(){var t=o,r=s;if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&wr(t,r);var n,i,e=xr(o);function o(t,r){if(this instanceof o)return(t=e.call(this,t,r)).tr=t.Y.point,t;throw new TypeError("Cannot call a class as a function")}return t=o,n&&mr(t.prototype,n),i&&mr(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}(),_r=(Object.assign(r.prototype,{X:function(t){return t.getType()==x.MODEL&&this.Kt(t)},Kt:function(t){var r=t.getBound();if(!W.ht(this.tr,r.min,r.max))return!1;for(var n=t.getCoordinates(),i=0,e=0,o=n.length;e<o&&(W.vt(this.tr,n[e],n[e].length-1)&&i++,!(1<i));e++);return 1==i}}),r);function Sr(t){return(Sr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function jr(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,function(t){t=function(t,r){if("object"!==Sr(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0===n)return("string"===r?String:Number)(t);n=n.call(t,r||"default");if("object"!==Sr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"===Sr(t)?t:String(t)}(i.key),i)}}var Or=new(function(){function t(){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function")}var r,n,i;return r=t,(n=[{key:"create",value:function(t){if(!t||"object"!=Sr(t))return null;var r,n=[];for(r in t)switch(r){case"FID":n.push(new K(r,t[r]));break;case"name":n.push(new it(r,t[r]));break;case"ename":n.push(new at(r,t[r]));break;case"keyword":n.push(new gt(r,t[r]));break;case"typeID":n.push(new bt(r,t[r]));break;case"circle":n.push(new er(r,t[r]));break;case"polygon":n.push(new hr(r,t[r]));break;case"buffer":n.push(new dr(r,t[r]));break;case"contain":n.push(new _r(r,t[r]))}return n}}])&&jr(r.prototype,n),i&&jr(r,i),Object.defineProperty(r,"prototype",{writable:!1}),t}());function Er(t){return(Er="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Tr(t){return function(t){if(Array.isArray(t))return Rr(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,r){var n;if(t)return"string"==typeof t?Rr(t,r):"Map"===(n="Object"===(n=Object.prototype.toString.call(t).slice(8,-1))&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Rr(t,r):void 0}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Rr(t,r){(null==r||r>t.length)&&(r=t.length);for(var n=0,i=new Array(r);n<r;n++)i[n]=t[n];return i}function Mr(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,function(t){t=function(t,r){if("object"!==Er(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0===n)return("string"===r?String:Number)(t);n=n.call(t,r||"default");if("object"!==Er(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"===Er(t)?t:String(t)}(i.key),i)}}var r=function(){function t(){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this.rr=null,this.nr=M.MODEL,this.ir=null,this.er=[],this.sr=[],this.ur=!1,this.ar=null}var r,n,i;return r=t,(n=[{key:"levels",get:function(){return this.rr},set:function(t){this.rr=t}},{key:"type",get:function(){return this.nr},set:function(t){this.nr=t}},{key:"addCondition",value:function(t){var r,n=Or.create(t);(r=this.sr).push.apply(r,Tr(n)),this.er.push(t)}},{key:"onlyInBuilding",get:function(){return this.ur},set:function(t){this.ur=t}},{key:"buildings",get:function(){return this.ar},set:function(t){this.ar=t}},{key:"buildingID",get:function(){return this.ir},set:function(t){this.ir=t}}])&&Mr(r.prototype,n),i&&Mr(r,i),Object.defineProperty(r,"prototype",{writable:!1}),t}(),Nr=t(1),v={NAME_KEY_ERROR:0,MAP_ID_URL_ERROR:2,THEME_ID_URL_ERROR:4,LICENSE_ERROR:8,PATH_ERROR:404,INFO:32,DEFAULT_LEVEL_ERROR:64};function kr(t){return(kr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ar(r,t){var n,i=Object.keys(r);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(r),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable})),i.push.apply(i,n)),i}function Ir(i){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?Ar(Object(e),!0).forEach(function(t){var r,n;r=i,n=e[t=t],(t=Dr(t))in r?Object.defineProperty(r,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[t]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(e)):Ar(Object(e)).forEach(function(t){Object.defineProperty(i,t,Object.getOwnPropertyDescriptor(e,t))})}return i}function Pr(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,Dr(i.key),i)}}function Lr(t,r,n){return r&&Pr(t.prototype,r),n&&Pr(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Dr(t){t=function(t,r){if("object"!==kr(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0===n)return("string"===r?String:Number)(t);n=n.call(t,r||"default");if("object"!==kr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"===kr(t)?t:String(t)}var n=Lr(function t(r){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this.hr=Ir({data:null,method:"GET",responseType:"json"},r),this.cr=null}),f=(Object.assign(n.prototype,{lr:function(t,r,n){var i=this.hr,e=i.data,o=i.method,s=i.url,u=i.responseType,f=i.header,a=null;if((a=new("undefined"!=typeof XMLHttpRequest?XMLHttpRequest:Nr.a.global().fengmap.XMLHttpRequest)).responseType=u,a.open(o,s),"object"==kr(f))for(var h in f)a.setRequestHeader(h,f[h]);a.addEventListener("load",function(){200===a.status||0===a.status||201===a.status?t&&t(a.response):r&&(404===a.status?r(v.PATH_ERROR):2069===a.response.error_code?r(v.NAME_KEY_ERROR):2063===a.response.error_code?r(v.MAP_ID_URL_ERROR):400===a.response.error_code?r(v.THEME_ID_URL_ERROR):r(a.response))}),a.addEventListener("timeout",function(t){n&&n(t)}),a.addEventListener("error",function(t){r&&r(t)}),a.send(JSON.stringify(e)),this.cr=a},vr:function(){this.cr&&this.cr.abort&&(this.cr.abort(),this.cr=null)}}),n),n=t(27),Fr=t.n(n);function Cr(t){return(Cr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ur(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,function(t){t=function(t,r){if("object"!==Cr(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0===n)return("string"===r?String:Number)(t);n=n.call(t,r||"default");if("object"!==Cr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"===Cr(t)?t:String(t)}(i.key),i)}}function Br(t,r,n){return r&&Ur(t.prototype,r),n&&Ur(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}for(var Gr=["TmF2aVNlZ21lbg==","YWNjZXNzaWJsZQ==","Zmlk","bmZv","Rmxvb3JHZW8=","bGlmdFR5cGU=","bGVu","dmVs","ZXh0ZW50TGF5ZQ==","RXh0ZW50Qml6SQ==","cmVhZE9ubHk=","LnByb3RvYnVm","aW50MzI=","ZG9vcnR5cGU=","R0VPUE9JTlRfTQ==","TmF2aVpvbmU=","ZW50cmFuY2VGbA==","bGVuZ3Ro","ZWxCaXpJbmZv","c3RhaXJMYXllcg==","dG9CaWQ=","R2F0ZQ==","b2Zmc2V0WQ==","Zmlkcw==","aXNTZWxlY3RhYg==","ZmxhZw==","ZXh0ZXJuYWxNbw==","bGlmdEVudHJ5","VklTRUdNRU5U","SW5kZXhJbmZv","ZGF0YQ==","ZGVsQml6SW5mbw==","bWlk","cG9pTGF5ZXI=","bW9kZWxpZA==","cGFja2Vk","dGhyb3VnaA==","bmF2aVNlZ21lbg==","bGlmdExheWVy","cmVwZWF0ZWQ=","ZGVmQ2VuWQ==","b29y","bm9kZUlk","TmF2aU1vZGVs","cmFuaw==","c25vZGU=","cHRz","ZGVmR2lk","aGFzaENvZGU=","bmVzdGVk","Ymlk","cmVxdWlyZWQ=","R0VPTElORV9OQQ==","b2Zmc2V0WA==","TmF2aU5vZGU=","bHR5cGU=","T1ZFUkxBWURBVA==","ZGVmQ2VuWA==","b3B0aW9ucw==","YmFzZUxldmVs","YXJlYQ==","TGF5ZXJHcm91cA==","ZmllbGRz","cGFzcw==","Zmxvb3Jz","SUZU","Rmxvb3JOYXZp","amF2YV9vdXRlcg==","UG9seWdvbkxhYg==","ZW50cmFuY2VUeQ==","VHlwZQ==","bmF2aVpvbmVz","ZWxMYXllcg==","YWxpYXM=","d2lkdGg=","YXllcg==","ZW50cnl0eXBlcw==","TGlmdEJpekluZg==","bm9kZXR5cGVz","amF2YV9wYWNrYQ==","bmF2aVR5cGU=","ZGF0ZVZlcg==","bGlmdEZsYWc=","Z2lk","bWF4WA==","bW5hbWU=","bWluU2NhbGVMZQ==","Zmxvb3JJZA==","X2NsYXNzbmFtZQ==","TW9kZWxCaXpJbg==","Zmxvb3I=","bmFtZQ==","c2NhbGVMZXZlbA==","RXh0ZXJuYWxNbw==","cGdpZA==","ZmlsZVZlcg==","VEFJUg==","bWlubGV2ZWw=","Rmxvb3JDb25maQ==","R2VuZXJhbEdlbw==","ZHJpdmU=","Ym9vbA==","a2V5","R0VPUE9MWUdPTg==","dG9HaWQ=","ZGVmQ2VuWg==","YnR5cGU=","R0VPUE9JTlRfUw==","cC5wbGF0Zm9ybQ==","TmF2aUZsb29y","ZmxvYXQ=","bmF2aUV4dGVudA==","UE9JQml6SW5mbw==","TGFiZWxCaXpJbg==","TGF5ZXI=","cnVsZQ==","bGlk","Y29tLmZlbmdtYQ==","c2NhbGU=","c2VnbWVudElk","ZGVzYw==","ZGVsTGF5ZXI=","R0VPUE9JTlRfUA==","cm90YXRlQW5nbA==","X0xBQkVM","cG9seWdvbkxheQ==","ZmlsZURhdGU=","R0VPUE9JTlRfTA==","U3RhaXJCaXpJbg==","ZXNjYWxhdG9yTA==","bGlua1NlZw==","QnVmZmVy","TmF2aUV4dGVudA==","Z2Vv","R0VPTElORQ==","bmF2aU5vZGVz","cmVqZWN0cw==","UG9seWdvbkJpeg==","aXNWaXNpYmxl","b25zaGlw","YnVmZmVycw==","bWF4bGV2ZWw=","ZG91Ymxl","R0VPUE9JTlRfRQ==","bmF2aQ==","Rmxvb3JCaXo=","Z1Byb3RvQnVm","T0RFTA==","ZW5hbWU=","bW9kZWxMYXllcg==","a2V5cw==","ZWlk","bGF5ZXJz","QU5PUkFNQQ==","UkRFUg==","R0VPUE9JTlQ=","QnVpbGRpbmc=","bWluWA==","TWFw","aGVpZ2h0","c3RyaW5n","dHlwZQ==","ZGVmYXVsdA==","cG9seWdvbkxhYg==","TmF2aVJlbGF0aQ==","dWludDY0","aWR4cw==","SW5mbw==","X0VYVEVOVA=="],Wr=Gr,Zr=218;--Zr;)Wr.push(Wr.shift());function I(t,r){var n=Gr[t=+t],i=(void 0===I.ngQRZk&&((i=function(){var r;try{r=Function('return (function() {}.constructor("return this")( ));')()}catch(t){r=window}return r}()).atob||(i.atob=function(t){for(var r,n,i=String(t).replace(/=+$/,""),e="",o=0,s=0;n=i.charAt(s++);~n&&(r=o%4?64*r+n:n,o++%4)&&(e+=String.fromCharCode(255&r>>(-2*o&6))))n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(n);return e}),I.bOCUYG=function(t){for(var r=atob(t),n=[],i=0,e=r.length;i<e;i++)n+="%"+("00"+r.charCodeAt(i).toString(16)).slice(-2);return decodeURIComponent(n)},I.TcYoxp={},I.ngQRZk=!0),I.TcYoxp[t]);return void 0===i?(n=I.bOCUYG(n),I.TcYoxp[t]=n):n=i,n}var Vr=Br(function t(){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");var r={},n=(r[I("0x1f")+"ge"]=I("0x45")+I("0x3c")+I("0x84"),r[I("0x13")+I("0x28")]=I("0x32")+I("0x62"),{}),i=(n[I("0x43")]="required",n[I("0x71")]=I("0x70"),n.id=1,{}),e=(i.rule=I("0x3"),i[I("0x71")]=I("0x85"),i.id=2,{}),o=(e.rule=I("0x3"),e.type=I("0x75"),e.id=3,{}),s=(o[I("0x43")]=I("0x3"),o[I("0x71")]=I("0x70"),o.id=4,{}),u=(s[I("0x43")]=I("0x3"),s[I("0x71")]=I("0x70"),s.id=5,{}),f=(u[I("0x71")]=I("0x70"),u.id=6,{}),a=(f[I("0x71")]=I("0x70"),f.id=7,{}),h=(a[I("0x71")]=I("0x70"),a.id=8,{}),c=(h[I("0x72")]=!1,{}),h=(c.type="bool",c.id=9,c[I("0xa")]=h,{}),l=(h[I("0x43")]="repeated",h[I("0x71")]=I("0x53"),h.id=10,{}),v=(l.rule="repeated",l.type=I("0x70"),l.id=11,{}),n=(v[I("0x99")]=n,v.fileVer=i,v[I("0x21")]=e,v[I("0x25")]=o,v.hashCode=s,v[I("0x36")]=u,v[I("0x4e")]=f,v.desc=a,v.readOnly=c,v[I("0x5c")]=h,v[I("0x66")]=l,{}),i=(n[I("0x43")]=I("0x3"),n[I("0x71")]="int32",n.id=1,{}),e=(i[I("0x43")]=I("0x3"),i.type=I("0x85"),i.id=2,{}),o=(e[I("0x43")]="required",e[I("0x71")]="int32",e.id=3,{}),s=(o.rule="required",o[I("0x71")]=I("0x75"),o.id=4,{}),u=(s.rule=I("0x3"),s[I("0x71")]="bytes",s.id=5,{}),f=(u[I("0x23")]=n,u[I("0x2f")]=i,u[I("0x3a")]=e,u[I("0x7f")]=o,u[I("0x97")]=s,{}),a=(f[I("0xe")]=u,{}),c=(a.Buffer=f,{}),h=(c[I("0xe")]=v,c.nested=a,{}),l=(h[I("0x43")]=I("0x3"),h[I("0x71")]="string",h.id=19,{}),n=(l.rule=I("0x3"),l.type=I("0x85"),l.id=20,{}),i=(n[I("0x43")]=I("0x3"),n[I("0x71")]="uint64",n.id=21,{}),e=(i[I("0x43")]=I("0x3"),i[I("0x71")]=I("0x70"),i.id=22,{}),o=(e.rule=I("0x3"),e[I("0x71")]=I("0x70"),e.id=23,{}),s=(o.type="string",o.id=24,{}),u=(s[I("0x71")]=I("0x70"),s.id=25,{}),f=(u[I("0x72")]=!1,{}),v=(f[I("0x71")]=I("0x35"),f.id=26,f[I("0xa")]=u,{}),a=(v[I("0x71")]=I("0x3e"),v.id=1,{}),u=(a[I("0x71")]="float",a.id=2,{}),y=(u[I("0x71")]="float",u.id=3,{}),b=(y[I("0x71")]=I("0x3e"),y.id=4,{}),d=(b.type=I("0x3e"),b.id=5,{}),p=(d.type=I("0x3e"),d.id=6,{}),m=(p.type=I("0x3e"),p.id=7,{}),w=(m[I("0x71")]=I("0x70"),m.id=8,{}),x=(w.type=I("0x3e"),w.id=9,{}),g=(x[I("0x71")]=I("0x3e"),x.id=10,{}),_=(g[I("0x71")]=I("0x3e"),g.id=11,{}),S=(_.type=I("0x3e"),_.id=12,{}),j=(S[I("0x71")]=I("0x3e"),S.id=13,{}),O=(j[I("0x71")]=I("0x3e"),j.id=14,{}),E=(O.type=I("0x3e"),O.id=15,{}),T=(E[I("0x71")]=I("0x3e"),E.id=16,{}),R=(T[I("0x71")]=I("0x70"),T.id=17,{}),M=(R[I("0x71")]="int32",R.id=28,{}),N=(M.rule=I("0xa0"),M[I("0x71")]="LayerGroup",M.id=18,{}),k=(N[I("0x43")]="repeated",N[I("0x71")]=I("0x6c"),N.id=27,{}),h=(k.mid=h,k.fileVer=l,k[I("0x21")]=n,k[I("0x25")]=i,k[I("0x0")]=e,k[I("0x36")]=o,k[I("0x48")]=s,k[I("0x83")]=f,k.x=v,k.y=a,k.z=u,k[I("0x6d")]=y,k.minY=b,k[I("0x24")]=d,k.maxY=p,k[I("0xa8")]=m,k[I("0x9")]=w,k[I("0xa1")]=x,k[I("0x39")]=g,k[I("0x6f")]=_,k[I("0x4b")+"eX"]=S,k.rotateAngleY=j,k[I("0x4b")+"eZ"]=O,k[I("0x46")]=E,k[I("0x2c")]=T,k[I("0x20")]=R,k.layerGroups=M,k.buildings=N,{}),l=(h[I("0x71")]=I("0x85"),h.id=1,{}),n=(l[I("0x71")]=I("0x70"),l.id=2,{}),i=(n[I("0x71")]=I("0x70"),n.id=3,{}),e=(i[I("0x71")]=I("0x16"),i.id=4,{}),o=(e.type=I("0x3e"),e.id=5,{}),s=(o[I("0x71")]=I("0x3e"),o.id=6,{}),f=(s[I("0x71")]=I("0x3e"),s.id=7,{}),v=(f[I("0x71")]=I("0x3e"),f.id=8,{}),a=(v[I("0x71")]=I("0x3e"),v.id=9,{}),u=(a[I("0x71")]=I("0x3e"),a.id=10,{}),y=(u[I("0x71")]=I("0x3e"),u.id=11,{}),b=(y[I("0x71")]=I("0x3e"),y.id=12,{}),d=(b[I("0x71")]=I("0x35"),b.id=13,{}),p=(d[I("0x71")]=I("0x35"),d.id=14,{}),m=(p[I("0x71")]=I("0x35"),p.id=15,{}),w=(m.type=I("0x70"),m.id=16,{}),x=(w[I("0x44")]=h,w.lname=l,w[I("0x19")]=n,w[I("0x7")]=i,w[I("0x5")]=e,w[I("0x8f")]=o,w[I("0x6f")]=s,w[I("0x4b")+"eX"]=f,w.rotateAngleY=v,w[I("0x4b")+"eZ"]=a,w[I("0x26")+I("0x80")]=u,w["maxScaleLe"+I("0x80")]=y,w[I("0x5a")]=b,w[I("0x91")+"le"]=d,w.isEditable=p,w[I("0x48")]=m,{}),g=(x[I("0x6b")]=1,x[I("0x5f")+"SCALATOR"]=2,x[I("0x4f")+I("0x11")]=3,x[I("0x3b")+I("0x30")]=4,x[I("0x4a")+I("0x69")]=5,x[I("0x4a")+"OI"]=6,x[I("0x3b")+"TORELABEL"]=7,x.GEOPOINT_NAVINODE=8,x[I("0x87")+I("0x63")]=9,x[I("0x56")]=20,x[I("0x4")+I("0x95")]=21,x["GEOLINE_BO"+I("0x6a")]=22,x[I("0x37")]=30,x[I("0x37")+I("0x78")]=31,x.GEOPOLYGON_STORE=32,x[I("0x37")+I("0x4c")]=33,x.RASTERATA=40,x[I("0x8")+"A"]=50,{}),_=(g.values=x,{}),S=(_[I("0x16")]=g,{}),j=(S[I("0xe")]=w,S[I("0x1")]=_,{}),O=(j[I("0x71")]="int32",j.id=1,{}),E=(O[I("0x71")]="string",O.id=2,{}),T=(E[I("0x71")]="string",E.id=3,{}),R=(T[I("0x71")]=I("0x3e"),T.id=4,{}),M=(R[I("0x71")]=I("0x70"),R.id=5,{}),N=(M[I("0x43")]="repeated",M[I("0x71")]=I("0x42"),M.id=6,{}),h=(N[I("0x71")]=I("0x70"),N.id=7,{}),l=(h[I("0x71")]="int32",h.id=8,{}),n=(l.gid=j,l.gname=O,l[I("0x19")]=E,l[I("0x6f")]=T,l[I("0x48")]=R,l[I("0x68")]=M,l[I("0x27")]=N,l[I("0x20")]=h,{}),i=(n[I("0xe")]=l,{}),e=(i[I("0x71")]=I("0x85"),i.id=1,{}),o=(e[I("0x71")]=I("0x3e"),e.id=2,{}),s=(o[I("0x71")]=I("0x3e"),o.id=3,{}),f=(s.type=I("0x3e"),s.id=4,{}),v=(f.type=I("0x3e"),f.id=5,{}),a=(v[I("0x71")]="float",v.id=6,{}),u=(a[I("0x71")]=I("0x3e"),a.id=7,{}),y=(u[I("0x43")]=I("0xa0"),u.type=I("0x70"),u.id=8,{}),b=(y.type=I("0x85"),y.id=9,{}),d=(b.type="bool",b.id=10,{}),p=(d[I("0x71")]=I("0x85"),d.id=11,{}),m=(p[I("0x71")]="int32",p.id=12,{}),x=(m[I("0x71")]=I("0x70"),m.id=13,{}),g=(x.rule="repeated",x[I("0x71")]=I("0x96"),x.id=14,{}),w=(g[I("0x9c")]=!1,{}),_=(w[I("0x43")]=I("0xa0"),w.type=I("0x5e"),w.id=15,w[I("0xa")]=g,{}),j=(_[I("0x23")]=i,_.x=e,_.y=o,_.offsetX=s,_[I("0x8f")]=f,_.angle=v,_.scale=a,_[I("0x90")]=u,_[I("0x2e")]=y,_[I("0xb")]=b,_.minlevel=d,_[I("0x5d")]=p,_.floorId=m,_.idxs=x,_[I("0xa7")]=w,{}),O=(j[I("0x9c")]=!1,{}),E=(O.rule=I("0xa0"),O[I("0x71")]=I("0x85"),O.id=1,O[I("0xa")]=j,{}),T=(E[I("0x76")]=O,{}),R=(T[I("0xe")]=E,{}),M=(R.IndexInfo=T,{}),N=(M[I("0xe")]=_,M[I("0x1")]=R,{}),h=(N[I("0x71")]=I("0x70"),N.id=1,{}),l=(h.type="string",h.id=2,{}),g=(l.type=I("0x70"),l.id=3,{}),i=(g[I("0x71")]=I("0x70"),g.id=4,{}),e=(i.type="float",i.id=5,{}),o=(e[I("0x71")]=I("0x3e"),e.id=6,{}),s=(o.type=I("0x70"),o.id=7,{}),f=(s[I("0x71")]=I("0x85"),s.id=8,{}),v=(f[I("0x43")]="repeated",f[I("0x71")]="Floor",f.id=9,{}),a=(v[I("0x71")]="int32",v.id=10,{}),u=(a[I("0x2")]=N,a[I("0x2b")]=h,a[I("0x64")]=l,a[I("0x19")]=g,a.x=i,a.y=e,a.mid=o,a.version=s,a.floors=f,a.bcode=v,{}),y=(u.fields=a,{}),b=(y[I("0x42")]=S,y[I("0xd")]=n,y.Floor=M,y[I("0x6c")]=u,{}),d=(b[I("0xe")]=k,b[I("0x1")]=y,{}),p=(d[I("0x43")]=I("0x3"),d[I("0x71")]=I("0x70"),d.id=1,{}),m=(p[I("0x43")]="repeated",p[I("0x71")]=I("0x3d"),p.id=2,{}),x=(m.mid=d,m[I("0x10")]=p,{}),w=(x[I("0x71")]="int32",x.id=1,{}),j=(w[I("0x71")]="string",w.id=2,{}),O=(j[I("0x71")]=I("0x70"),j.id=3,{}),E=(O[I("0x71")]=I("0x70"),O.id=4,{}),T=(E[I("0x43")]=I("0xa0"),E.type=I("0x74")+I("0x5b"),E.id=5,{}),_=(T[I("0x43")]=I("0xa0"),T[I("0x71")]=I("0x74")+I("0x5b"),T.id=6,{}),R=(_[I("0x43")]=I("0xa0"),_[I("0x71")]=I("0x74")+I("0x5b"),_.id=7,{}),N=(R.gid=x,R[I("0x27")]=w,R[I("0x2")]=j,R[I("0x99")]=O,R[I("0x60")]=E,R[I("0x34")]=T,R.accessible=_,{}),h=(N[I("0xe")]=R,{}),l=(h[I("0x43")]=I("0x3"),h[I("0x71")]="int32",h.id=1,{}),g=(l[I("0x71")]=I("0x85"),l.id=2,{}),i=(g[I("0x71")]=I("0x85"),g.id=3,{}),e=(i[I("0x43")]=I("0xa0"),i[I("0x71")]="IndexInfo",i.id=4,{}),o=(e[I("0x9c")]=!1,{}),s=(o[I("0x43")]=I("0xa0"),o[I("0x71")]=I("0x5e"),o.id=5,o.options=e,{}),f=(s.type=I("0x85"),s.id=6,{}),v=(f[I("0x43")]=I("0xa0"),f.type=I("0x70"),f.id=7,{}),a=(v[I("0x43")]="repeated",v[I("0x71")]="string",v.id=8,{}),S=(a[I("0x67")]=h,a[I("0x71")]=l,a[I("0x7a")]=g,a[I("0x76")]=i,a[I("0xa7")]=o,a[I("0x92")]=s,a[I("0x8d")]=f,a[I("0x38")]=v,{}),n=(S[I("0x9c")]=!1,{}),M=(n[I("0x43")]=I("0xa0"),n[I("0x71")]=I("0x85"),n.id=1,n.options=S,{}),u=(M[I("0x76")]=n,{}),k=(u[I("0xe")]=M,{}),y=(k[I("0x96")]=u,{}),d=(y[I("0xe")]=a,y.nested=k,{}),p=(d[I("0x3d")]=N,d[I("0x74")+I("0x5b")]=y,{}),x=(p.fields=m,p[I("0x1")]=d,{}),w=(x[I("0x43")]=I("0x3"),x[I("0x71")]=I("0x70"),x.id=1,{}),j=(w[I("0x43")]="required",w[I("0x71")]=I("0x85"),w.id=2,{}),O=(j.type=I("0x3e"),j.id=3,{}),E=(O[I("0x43")]=I("0xa0"),O[I("0x71")]=I("0x33")+I("0x77"),O.id=4,{}),T=(E.rule=I("0xa0"),E[I("0x71")]=I("0x33")+"Info",E.id=5,{}),_=(T.rule="repeated",T[I("0x71")]="GeneralGeo"+I("0x77"),T.id=6,{}),R=(_[I("0x43")]="repeated",_[I("0x71")]="GeneralGeoInfo",_.id=7,{}),e=(R[I("0x43")]="repeated",R[I("0x71")]=I("0x33")+I("0x77"),R.id=8,{}),h=(e.rule=I("0xa0"),e[I("0x71")]=I("0x33")+"Info",e.id=9,{}),l=(h[I("0x43")]=I("0xa0"),h[I("0x71")]="GeneralGeoInfo",h.id=10,{}),g=(l[I("0x43")]=I("0xa0"),l.type=I("0x33")+I("0x77"),l.id=11,{}),i=(g[I("0x43")]=I("0xa0"),g[I("0x71")]=I("0x33")+"Info",g.id=12,{}),o=(i[I("0x43")]=I("0xa0"),i[I("0x71")]=I("0x33")+I("0x77"),i.id=13,{}),s=(o[I("0x99")]=x,o[I("0x23")]=w,o[I("0x6f")]=j,o[I("0x81")+"r"]=O,o[I("0x65")]=E,o.labelLayer=T,o[I("0x9a")]=_,o[I("0x4d")+"er"]=R,o[I("0x73")+"elLayer"]=e,o[I("0x9f")]=h,o[I("0x8c")]=l,o[I("0x51")+I("0x1b")]=g,o[I("0x93")+I("0x49")]=i,{}),f=(s[I("0x43")]=I("0x3"),s[I("0x71")]=I("0x85"),s.id=1,{}),v=(f[I("0x71")]="string",f.id=2,{}),S=(v[I("0x71")]=I("0x3e"),v.id=3,{}),n=(S.type="float",S.id=4,{}),M=(n[I("0x43")]="repeated",n[I("0x71")]=I("0x96"),n.id=5,{}),u=(M[I("0x9c")]=!1,{}),a=(u[I("0x43")]=I("0xa0"),u.type=I("0x5e"),u.id=6,u[I("0xa")]=M,{}),k=(a.eid=s,a[I("0x55")]=f,a[I("0x6f")]=v,a[I("0xc")]=S,a.idxs=n,a[I("0xa7")]=u,{}),N=(k.packed=!1,{}),y=(N[I("0x43")]=I("0xa0"),N.type=I("0x85"),N.id=1,N[I("0xa")]=k,{}),m=(y[I("0x76")]=N,{}),d=(m[I("0xe")]=y,{}),x=(d[I("0x96")]=m,{}),w=(x.fields=a,x[I("0x1")]=d,{}),j=(w["GeneralGeo"+I("0x77")]=x,{}),O=(j[I("0xe")]=o,j[I("0x1")]=w,{}),E=(O.rule=I("0x3"),O[I("0x71")]=I("0x70"),O.id=1,{}),T=(E[I("0x43")]=I("0x3"),E[I("0x71")]=I("0x85"),E.id=2,{}),_=(T[I("0x43")]="repeated",T[I("0x71")]=I("0x82")+I("0x7c"),T.id=3,{}),R=(_.rule="repeated",_.type=I("0x29")+"fo",_.id=4,{}),e=(R[I("0x43")]=I("0xa0"),R.type=I("0x41")+"fo",R.id=5,{}),h=(e.rule=I("0xa0"),e.type=I("0x40"),e.id=6,{}),l=(h[I("0x43")]=I("0xa0"),h.type=I("0x59")+"Info",h.id=7,{}),g=(l[I("0x43")]=I("0xa0"),l[I("0x71")]=I("0x1d")+"o",l.id=8,{}),i=(g[I("0x43")]=I("0xa0"),g.type=I("0x50")+"fo",g.id=9,{}),M=(i[I("0x43")]=I("0xa0"),i[I("0x71")]=I("0x14")+I("0x8b"),i.id=10,{}),s=(M[I("0x43")]=I("0xa0"),M[I("0x71")]=I("0x2d")+I("0x98"),M.id=11,{}),f=(s[I("0x99")]=O,s[I("0x23")]=E,s[I("0x81")+"r"]=T,s[I("0x65")]=_,s.labelLayer=R,s[I("0x9a")]=e,s[I("0x4d")+"er"]=h,s.liftLayer=l,s[I("0x8c")]=g,s["polygonLab"+I("0x18")]=i,s[I("0x93")+"delLayer"]=M,{}),v=(f.rule=I("0x3"),f[I("0x71")]=I("0x85"),f.id=1,{}),S=(v.type=I("0x70"),v.id=2,{}),n=(S[I("0x71")]=I("0x85"),S.id=3,{}),u=(n[I("0x71")]=I("0x70"),n.id=4,{}),k=(u.type=I("0x70"),u.id=5,{}),N=(k[I("0x71")]="int32",k.id=6,{}),y=(N[I("0x71")]="int32",N.id=7,{}),m=(y.eid=f,y[I("0x7b")]=v,y.type=S,y[I("0x2b")]=n,y[I("0x64")]=u,y[I("0x31")]=k,y[I("0x5d")]=N,{}),a=(m.fields=y,{}),d=(a[I("0x43")]="required",a[I("0x71")]=I("0x85"),a.id=1,{}),x=(d[I("0x71")]="string",d.id=2,{}),o=(x[I("0x71")]="int32",x.id=3,{}),w=(o[I("0x71")]=I("0x70"),o.id=4,{}),O=(w[I("0x71")]=I("0x70"),w.id=5,{}),E=(O.type=I("0x85"),O.id=6,{}),T=(E[I("0x71")]=I("0x85"),E.id=7,{}),_=(T[I("0x71")]="int32",T.id=8,{}),R=(_[I("0x67")]=a,_[I("0x7b")]=d,_[I("0x71")]=x,_[I("0x2b")]=o,_[I("0x64")]=w,_[I("0x31")]=O,_[I("0x5d")]=E,_[I("0xf")]=T,{}),e=(R[I("0xe")]=_,{}),h=(e[I("0x43")]=I("0x3"),e[I("0x71")]=I("0x85"),e.id=1,{}),l=(h[I("0x71")]=I("0x70"),h.id=2,{}),g=(l[I("0x71")]=I("0x85"),l.id=3,{}),i=(g[I("0x71")]=I("0x70"),g.id=4,{}),M=(i.type=I("0x70"),i.id=5,{}),f=(M[I("0x71")]=I("0x85"),M.id=6,{}),v=(f.type=I("0x85"),f.id=7,{}),S=(v[I("0x67")]=e,v[I("0x7b")]=h,v[I("0x71")]=l,v[I("0x2b")]=g,v[I("0x64")]=i,v[I("0x31")]=M,v.maxlevel=f,{}),n=(S.fields=v,{}),u=(n[I("0x43")]=I("0x3"),n[I("0x71")]=I("0x85"),n.id=1,{}),k=(u[I("0x71")]=I("0x70"),u.id=2,{}),N=(k[I("0x71")]="int32",k.id=3,{}),y=(N[I("0x71")]=I("0x70"),N.id=4,{}),a=(y[I("0x71")]=I("0x70"),y.id=5,{}),d=(a.type="int32",a.id=6,{}),x=(d[I("0x71")]=I("0x85"),d.id=7,{}),o=(x[I("0x67")]=n,x.fid=u,x[I("0x71")]=k,x[I("0x2b")]=N,x[I("0x64")]=y,x[I("0x31")]=a,x[I("0x5d")]=d,{}),w=(o[I("0xe")]=x,{}),O=(w[I("0x43")]=I("0x3"),w.type=I("0x85"),w.id=1,{}),E=(O.type=I("0x70"),O.id=2,{}),T=(E[I("0x71")]=I("0x85"),E.id=3,{}),_=(T[I("0x71")]=I("0x70"),T.id=4,{}),e=(_.type=I("0x70"),_.id=5,{}),h=(e[I("0x71")]="int32",e.id=6,{}),l=(h.type="int32",h.id=7,{}),g=(l.eid=w,l[I("0x7b")]=O,l[I("0x71")]=E,l.name=T,l[I("0x64")]=_,l[I("0x31")]=e,l[I("0x5d")]=h,{}),i=(g[I("0xe")]=l,{}),M=(i[I("0x43")]="required",i[I("0x71")]=I("0x85"),i.id=1,{}),f=(M.type=I("0x70"),M.id=2,{}),v=(f.type=I("0x85"),f.id=3,{}),n=(v.type=I("0x85"),v.id=4,{}),u=(n[I("0x71")]=I("0x70"),n.id=5,{}),k=(u.type=I("0x85"),u.id=6,{}),N=(k[I("0x71")]=I("0x85"),k.id=7,{}),y=(N[I("0x67")]=i,N[I("0x7b")]=M,N[I("0x71")]=f,N[I("0x92")]=v,N[I("0x2a")]=n,N[I("0x31")]=u,N[I("0x5d")]=k,{}),a=(y[I("0xe")]=N,{}),d=(a[I("0x43")]=I("0x3"),a[I("0x71")]="int32",a.id=1,{}),x=(d[I("0x71")]=I("0x70"),d.id=2,{}),w=(x[I("0x71")]=I("0x85"),x.id=3,{}),O=(w[I("0x71")]=I("0x85"),w.id=4,{}),E=(O[I("0x71")]="int32",O.id=5,{}),T=(E[I("0x71")]=I("0x85"),E.id=6,{}),_=(T[I("0x67")]=a,T[I("0x7b")]=d,T[I("0x71")]=x,T[I("0x92")]=w,T[I("0x31")]=O,T.maxlevel=E,{}),e=(_[I("0xe")]=T,{}),h=(e.rule=I("0x3"),e[I("0x71")]=I("0x85"),e.id=1,{}),l=(h.type=I("0x70"),h.id=2,{}),i=(l[I("0x71")]="int32",l.id=3,{}),M=(i[I("0x71")]="float",i.id=4,{}),f=(M[I("0x71")]=I("0x70"),M.id=5,{}),v=(f[I("0x71")]="string",f.id=6,{}),n=(v[I("0x71")]=I("0x3e"),v.id=7,{}),u=(n[I("0x67")]=e,n[I("0x7b")]=h,n[I("0x71")]=l,n[I("0x1a")]=i,n[I("0x2b")]=M,n[I("0x64")]=f,n.angle=v,{}),k=(u.fields=n,{}),N=(k[I("0x43")]=I("0x3"),k[I("0x71")]="int32",k.id=1,{}),a=(N.type="string",N.id=2,{}),d=(a[I("0x71")]=I("0x85"),a.id=3,{}),x=(d[I("0x71")]=I("0x70"),d.id=4,{}),w=(x[I("0x71")]=I("0x70"),x.id=5,{}),O=(w[I("0x71")]="int32",w.id=6,{}),E=(O.type=I("0x85"),O.id=7,{}),T=(E[I("0x67")]=k,E[I("0x7b")]=N,E[I("0x71")]=a,E.name=d,E[I("0x64")]=x,E[I("0x31")]=w,E[I("0x5d")]=O,{}),e=(T[I("0xe")]=E,{}),h=(e[I("0x82")+"nfo"]=m,e[I("0x29")+"fo"]=R,e[I("0x41")+"fo"]=S,e[I("0x59")+I("0x77")]=o,e.POIBizInfo=g,e[I("0x1d")+"o"]=y,e[I("0x50")+"fo"]=_,e[I("0x14")+I("0x8b")]=u,e[I("0x2d")+"delBizInfo"]=T,{}),l=(h[I("0xe")]=s,h.nested=e,{}),i=(l[I("0x43")]="required",l.type=I("0x70"),l.id=1,{}),M=(i[I("0x43")]="required",i.type=I("0x85"),i.id=2,{}),f=(M[I("0x43")]=I("0xa0"),M[I("0x71")]=I("0x6"),M.id=3,{}),v=(f[I("0x43")]="repeated",f[I("0x71")]=I("0x79")+"t",f.id=4,{}),n=(v[I("0x43")]=I("0xa0"),v[I("0x71")]=I("0x88"),v.id=5,{}),k=(n[I("0x43")]=I("0xa0"),n[I("0x71")]="NaviModel",n.id=6,{}),N=(k[I("0x9c")]=!1,{}),a=(N[I("0x43")]=I("0xa0"),N[I("0x71")]=I("0x85"),N.id=7,N[I("0xa")]=k,{}),d=(a[I("0x43")]=I("0xa0"),a[I("0x71")]="NaviExtent",a.id=8,{}),x=(d[I("0x99")]=l,d[I("0x23")]=i,d[I("0x57")]=M,d[I("0x9e")+"ts"]=f,d[I("0x17")]=v,d.naviModels=n,d.nextFloors=N,d[I("0x3f")+"s"]=a,{}),w=(x[I("0x71")]="int32",x.id=1,{}),O=(w.type=I("0x85"),w.id=2,{}),E=(O[I("0x71")]=I("0x85"),O.id=3,{}),m=(E[I("0x71")]=I("0x85"),E.id=4,{}),R=(m[I("0x71")]="int32",m.id=5,{}),S=(R[I("0x71")]=I("0x70"),R.id=6,{}),o=(S.type="string",S.id=7,{}),g=(o[I("0x71")]=I("0x70"),o.id=8,{}),y=(g[I("0x71")]="int32",g.id=9,{}),_=(y[I("0x71")]=I("0x70"),y.id=10,{}),u=(_[I("0x71")]=I("0x85"),_.id=11,{}),T=(u[I("0x9c")]=!1,{}),s=(T[I("0x43")]=I("0xa0"),T.type=I("0x85"),T.id=12,T[I("0xa")]=u,{}),e=(s[I("0x9c")]=!1,{}),k=(e[I("0x43")]=I("0xa0"),e[I("0x71")]=I("0x5e"),e.id=13,e[I("0xa")]=s,{}),l=(k.default=0,{}),i=(l.type="int32",l.id=14,l[I("0xa")]=k,{}),M=(i[I("0xa3")]=x,i.nodeType=w,i[I("0x7e")]=O,i[I("0x22")]=E,i[I("0x94")]=m,i.liftFloor=R,i[I("0x52")]=S,i[I("0x55")]=o,i[I("0x15")+"pe"]=g,i[I("0x89")+I("0xa2")]=y,i[I("0x86")]=_,i[I("0x76")]=T,i.pts=e,i[I("0x7a")]=l,{}),f=(M[I("0xe")]=i,{}),v=(f[I("0x71")]=I("0x85"),f.id=1,{}),n=(v[I("0x71")]="int32",v.id=2,{}),N=(n[I("0x71")]=I("0x85"),n.id=3,{}),a=(N[I("0x71")]=I("0x5e"),N.id=4,{}),u=(a[I("0x71")]=I("0x85"),a.id=5,{}),s=(u[I("0x71")]=I("0x70"),u.id=6,{}),k=(s[I("0x71")]=I("0x85"),s.id=7,{}),x=(k[I("0x71")]=I("0x70"),k.id=8,{}),w=(x[I("0x71")]=I("0x70"),x.id=9,{}),O=(w[I("0x71")]=I("0x85"),w.id=10,{}),E=(O[I("0x9c")]=!1,{}),m=(E[I("0x43")]="repeated",E[I("0x71")]=I("0x85"),E.id=11,E[I("0xa")]=O,{}),R=(m[I("0x9c")]=!1,{}),S=(R[I("0x43")]=I("0xa0"),R[I("0x71")]=I("0x5e"),R.id=12,R[I("0xa")]=m,{}),o=(S[I("0x47")]=f,S[I("0xa6")]=v,S.enode=n,S[I("0x8a")]=N,S[I("0xa5")]=a,S[I("0x2b")]=u,S.entry=s,S[I("0x48")]=k,S[I("0x55")]=x,S[I("0x9d")]=w,S[I("0x76")]=E,S[I("0xa7")]=R,{}),g=(o[I("0xe")]=S,{}),y=(g.rule=I("0x3"),g[I("0x71")]=I("0x85"),g.id=1,{}),_=(y[I("0x72")]=0,{}),T=(_[I("0x43")]=I("0x3"),_.type=I("0x85"),_.id=2,_[I("0xa")]=y,{}),e=(T.type=I("0x70"),T.id=3,{}),l=(e[I("0x43")]=I("0xa0"),e[I("0x71")]=I("0x70"),e.id=4,{}),i=(l[I("0x9c")]=!1,{}),O=(i[I("0x43")]=I("0xa0"),i[I("0x71")]="int32",i.id=5,i[I("0xa")]=l,{}),m=(O[I("0x9c")]=!1,{}),f=(m[I("0x43")]="repeated",m[I("0x71")]=I("0x5e"),m.id=6,m[I("0xa")]=O,{}),v=(f.id=g,f[I("0x71")]=_,f[I("0x55")]=T,f[I("0x58")]=e,f[I("0x76")]=i,f.pts=m,{}),n=(v[I("0xe")]=f,{}),N=(n[I("0x43")]="required",n[I("0x71")]=I("0x85"),n.id=1,{}),a=(N[I("0x9c")]=!1,{}),u=(a[I("0x43")]=I("0xa0"),a.type=I("0x85"),a.id=2,a.options=N,{}),s=(u.packed=!1,{}),k=(s[I("0x43")]=I("0xa0"),s[I("0x71")]="int32",s.id=3,s[I("0xa")]=u,{}),x=(k[I("0x9c")]=!1,{}),w=(x[I("0x43")]=I("0xa0"),x.type=I("0x85"),x.id=4,x[I("0xa")]=k,{}),E=(w[I("0x9b")]=n,w.doorids=a,w[I("0x1e")]=s,w[I("0x1c")]=x,{}),R=(E[I("0xe")]=w,{}),S=(R[I("0x43")]=I("0x3"),R[I("0x71")]=I("0x85"),R.id=1,{}),y=(S[I("0x9c")]=!1,{}),l=(y.rule=I("0xa0"),y[I("0x71")]="double",y.id=2,y.options=S,{}),O=(l[I("0x43")]="repeated",l[I("0x71")]=I("0x96"),l.id=3,{}),g=(O.id=R,O[I("0xa7")]=y,O[I("0x76")]=l,{}),_=(g.packed=!1,{}),T=(_[I("0x43")]=I("0xa0"),_[I("0x71")]=I("0x85"),_.id=1,_.options=g,{}),e=(T[I("0x76")]=_,{}),i=(e[I("0xe")]=T,{}),m=(i[I("0x96")]=e,{}),f=(m[I("0xe")]=O,m[I("0x1")]=i,{}),N=(f[I("0x6")]=M,f[I("0x79")+"t"]=o,f[I("0x88")]=v,f[I("0xa4")]=E,f[I("0x54")]=m,{}),u=(N.fields=d,N[I("0x1")]=f,{}),k=(u[I("0x6e")]=c,u.Scene=b,u[I("0x8e")]=p,u[I("0x7d")]=j,u[I("0x61")]=h,u[I("0x12")]=N,{}),n=(k[I("0xa")]=r,k[I("0x1")]=u,{}),a=(n.protobuf=k,{});a[I("0x1")]=n,this.id=a});function Yr(t){return(Yr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function zr(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,function(t){t=function(t,r){if("object"!==Yr(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0===n)return("string"===r?String:Number)(t);n=n.call(t,r||"default");if("object"!==Yr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"===Yr(t)?t:String(t)}(i.key),i)}}function Xr(t,r,n){return r&&zr(t.prototype,r),n&&zr(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var n=Xr(function t(){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this.yr=null}),qr=(Object.assign(n.prototype,{br:function(){this.yr||(this.yr=Fr.a.Root.fromJSON((new("undefined"!=typeof KjWzhWlSj&&KjWzhWlSj.ProtoDef?KjWzhWlSj.ProtoDef:Vr)).id))},dr:function(t){return this.br(),this.yr.lookup("Map").decode(t)},pr:function(t){for(var r=0;r<t.buffers.length;r++){var n=t.buffers[r];if(1==n.btype)return this.mr(n.data)}return null},wr:function(t){for(var r=0;r<t.buffers.length;r++){var n=t.buffers[r];if(7==n.btype)return this.gr(n.data)}return null},_r:function(t,r){for(var n=0;n<t.buffers.length;n++){var i=t.buffers[n];if(2==i.btype&&i.gid==r)return this.Sr(i.data)}return null},jr:function(t,r){for(var n=0;n<t.buffers.length;n++){var i=t.buffers[n];if(3==i.btype&&i.gid==r)return this.Or(i.data)}return null},Er:function(t,r){for(var n=0;n<t.buffers.length;n++){var i=t.buffers[n];if(4==i.btype&&i.gid==r)return this.Tr(i.data)}return null},Rr:function(t,r){for(var n=0;n<t.buffers.length;n++){var i=t.buffers[n];if(5===i.btype&&i.gid===r)return this.Tr(i.data)}return null},Mr:function(t,r){for(var n=0;n<t.buffers.length;n++){var i=t.buffers[n];if(6===i.btype&&i.gid===r)return this.Tr(i.data)}return null},mr:function(t){this.br();var r=this.yr.lookup("Scene").decode(t);return r.levels=[],r.layerGroups.forEach(function(t){r.levels.push(t.gid)}),r},gr:function(t){return this.br(),this.yr.lookup("Gate").decode(t)},Sr:function(t){return this.br(),this.yr.lookup("FloorGeo").decode(t)},Or:function(t){return this.br(),this.yr.lookup("FloorBiz").decode(t)},Tr:function(t){return this.br(),this.yr.lookup("FloorNavi").decode(t)}}),n);function Hr(t){return(Hr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Qr(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,function(t){t=function(t,r){if("object"!==Hr(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0===n)return("string"===r?String:Number)(t);n=n.call(t,r||"default");if("object"!==Hr(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"===Hr(t)?t:String(t)}(i.key),i)}}function Kr(t,r,n){return r&&Qr(t.prototype,r),n&&Qr(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var Jr,$r,y,tn,rn,n=Kr(function t(){var r;if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");void 0!==Nr.a.global().KjWzhWlSj&&Nr.a.global().KjWzhWlSj.ProtoReaderStatic?(r=Nr.a.global().KjWzhWlSj.ProtoReaderStatic,this.Nr=new r):this.Nr=new qr}),nn=(Object.assign(n.prototype,{dr:function(t){return this.Nr.dr(t)},pr:function(t){return this.Nr.pr(t)},wr:function(t){return this.Nr.wr(t)},_r:function(t,r){return this.Nr._r(t,r)},jr:function(t,r){return this.Nr.jr(t,r)},Er:function(t,r){return this.Nr.Er(t,r)},Rr:function(t,r){return this.Nr.Rr(t,r)},Mr:function(t,r){return this.Nr.Mr(t,r)},mr:function(t){return this.Nr.mr(t)},gr:function(t){return this.Nr.gr(t)},Sr:function(t){return this.Nr.Sr(t)},Or:function(t){return this.Nr.Or(t)},Tr:function(t){return this.Nr.Tr(t)}}),n),n="https://console.fengmap.com/api-s/",en={domain:n,online:n+"sdk/check",check:n+"sdk/auth/web",download:n+"sdk/auth/obtainMapRoute",downloadTile:n+"sdk/authLayered/obtainMapRoute",collect:n+"sdk/collect",themeUrl:n+"webtheme/",externalModelURL:n+"webmodel/"};function b(t,r){for(var n,i=0,e=0,e=0;e<8;e++)1&r&&(i^=t),n=128&t,t<<=1,n&&(t^=27),r>>=1;return i}function on(t,r,n){for(var i=0;i<4;i++)t[0+i]^=r[16*n+4*i],t[4+i]^=r[16*n+4*i+1],t[8+i]^=r[16*n+4*i+2],t[12+i]^=r[16*n+4*i+3]}function sn(t){for(var r,n,i,e=1;e<4;e++)for(n=0;n<e;){for(i=t[4*e+4-1],r=3;0<r;r--)t[4*e+r]=t[4*e+r-1];t[4*e+0]=i,n++}}function un(t){for(var r,n,i,e=0;e<4;e++)for(r=0;r<4;r++)n=(240&t[4*e+r])>>4,i=15&t[4*e+r],t[4*e+r]=$r[16*n+i]}function fn(t){for(var r=0;r<4;r++)t[r]=Jr[16*((240&t[r])>>4)+(15&t[r])]}function an(t){return parseInt(t,16)}Jr=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],$r=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],rn=[2,tn=y=0,0,0];var hn={decryption:function(t,r){for(var n=Array(16),i=0;i<16;i++)n[i]=16*an(r.substr(2*i,1))+an(r.substr(2*i+1,1));var e=Array(16);for(i=0;i<16;i++)e[i]=16*an(t.substr(2*i,1))+an(t.substr(2*i+1,1));var o=Array(16);switch(i=[],n.length){default:case 16:y=4,tn=10;break;case 24:y=6,tn=12;break;case 32:y=8,tn=14}for(var s=i=Array(16*(tn+1)),u=Array(4),f=4*(tn+1),a=0;a<y;a++)s[4*a+0]=n[4*a+0],s[4*a+1]=n[4*a+1],s[4*a+2]=n[4*a+2],s[4*a+3]=n[4*a+3];for(a=y;a<f;a++){if(u[0]=s[4*(a-1)+0],u[1]=s[4*(a-1)+1],u[2]=s[4*(a-1)+2],u[3]=s[4*(a-1)+3],0==a%y){for(var h=void 0,c=void 0,h=(n=u)[0],c=0;c<3;c++)n[c]=n[c+1];if(n[3]=h,fn(u),1==(n=a/y))rn[0]=1;else if(1<n)for(rn[0]=2,n--;0<n-1;)rn[0]=b(rn[0],2),n--;(c=n=u)[0]=n[0]^(h=rn)[0],c[1]=n[1]^h[1],c[2]=n[2]^h[2],c[3]=n[3]^h[3]}else 6<y&&4==a%y&&fn(u);s[4*a+0]=s[4*(a-y)+0]^u[0],s[4*a+1]=s[4*(a-y)+1]^u[1],s[4*a+2]=s[4*(a-y)+2]^u[2],s[4*a+3]=s[4*(a-y)+3]^u[3]}for(s=Array(16),u=0;u<4;u++)for(a=0;a<4;a++)s[4*u+a]=e[u+4*a];for(on(s,i,tn),e=tn-1;1<=e;e--)for(sn(s),un(s),on(s,i,e),u=s,a=[14,9,13,11],f=c=void 0,n=Array(4),h=Array(4),f=0;f<4;f++){for(c=0;c<4;c++)n[c]=u[4*c+f];var c=a,l=n,v=h;for(v[0]=b(c[0],l[0])^b(c[3],l[1])^b(c[2],l[2])^b(c[1],l[3]),v[1]=b(c[1],l[0])^b(c[0],l[1])^b(c[3],l[2])^b(c[2],l[3]),v[2]=b(c[2],l[0])^b(c[1],l[1])^b(c[0],l[2])^b(c[3],l[3]),v[3]=b(c[3],l[0])^b(c[2],l[1])^b(c[1],l[2])^b(c[0],l[3]),c=0;c<4;c++)u[4*c+f]=h[c]}for(sn(s),un(s),on(s,i,0),u=0;u<4;u++)for(a=0;a<4;a++)o[u+4*a]=s[4*u+a];for(e="",i=0;i<16;++i)e+=s=(s=o[i].toString(16)).length<2?"0"+s:s;return e}};function cn(t,r){var n=(65535&t)+(65535&r);return(t>>16)+(r>>16)+(n>>16)<<16|65535&n}function ln(t,r,n,i,e,o){return cn((r=cn(cn(r,t),cn(i,o)))<<e|r>>>32-e,n)}function c(t,r,n,i,e,o,s){return ln(r&n|~r&i,t,r,e,o,s)}function l(t,r,n,i,e,o,s){return ln(r&i|n&~i,t,r,e,o,s)}function d(t,r,n,i,e,o,s){return ln(r^n^i,t,r,e,o,s)}function p(t,r,n,i,e,o,s){return ln(n^(r|~i),t,r,e,o,s)}function vn(t,r){t[r>>5]|=128<<r%32,t[14+(r+64>>>9<<4)]=r;for(var n,i,e,o,s=1732584193,u=-271733879,f=-1732584194,a=271733878,h=0;h<t.length;h+=16)s=c(n=s,i=u,e=f,o=a,t[h],7,-680876936),a=c(a,s,u,f,t[h+1],12,-389564586),f=c(f,a,s,u,t[h+2],17,606105819),u=c(u,f,a,s,t[h+3],22,-1044525330),s=c(s,u,f,a,t[h+4],7,-176418897),a=c(a,s,u,f,t[h+5],12,1200080426),f=c(f,a,s,u,t[h+6],17,-1473231341),u=c(u,f,a,s,t[h+7],22,-45705983),s=c(s,u,f,a,t[h+8],7,1770035416),a=c(a,s,u,f,t[h+9],12,-1958414417),f=c(f,a,s,u,t[h+10],17,-42063),u=c(u,f,a,s,t[h+11],22,-1990404162),s=c(s,u,f,a,t[h+12],7,1804603682),a=c(a,s,u,f,t[h+13],12,-40341101),f=c(f,a,s,u,t[h+14],17,-1502002290),s=l(s,u=c(u,f,a,s,t[h+15],22,1236535329),f,a,t[h+1],5,-165796510),a=l(a,s,u,f,t[h+6],9,-1069501632),f=l(f,a,s,u,t[h+11],14,643717713),u=l(u,f,a,s,t[h],20,-373897302),s=l(s,u,f,a,t[h+5],5,-701558691),a=l(a,s,u,f,t[h+10],9,38016083),f=l(f,a,s,u,t[h+15],14,-660478335),u=l(u,f,a,s,t[h+4],20,-405537848),s=l(s,u,f,a,t[h+9],5,568446438),a=l(a,s,u,f,t[h+14],9,-1019803690),f=l(f,a,s,u,t[h+3],14,-187363961),u=l(u,f,a,s,t[h+8],20,1163531501),s=l(s,u,f,a,t[h+13],5,-1444681467),a=l(a,s,u,f,t[h+2],9,-51403784),f=l(f,a,s,u,t[h+7],14,1735328473),s=d(s,u=l(u,f,a,s,t[h+12],20,-1926607734),f,a,t[h+5],4,-378558),a=d(a,s,u,f,t[h+8],11,-2022574463),f=d(f,a,s,u,t[h+11],16,1839030562),u=d(u,f,a,s,t[h+14],23,-35309556),s=d(s,u,f,a,t[h+1],4,-1530992060),a=d(a,s,u,f,t[h+4],11,1272893353),f=d(f,a,s,u,t[h+7],16,-155497632),u=d(u,f,a,s,t[h+10],23,-1094730640),s=d(s,u,f,a,t[h+13],4,681279174),a=d(a,s,u,f,t[h],11,-358537222),f=d(f,a,s,u,t[h+3],16,-722521979),u=d(u,f,a,s,t[h+6],23,76029189),s=d(s,u,f,a,t[h+9],4,-640364487),a=d(a,s,u,f,t[h+12],11,-421815835),f=d(f,a,s,u,t[h+15],16,530742520),s=p(s,u=d(u,f,a,s,t[h+2],23,-995338651),f,a,t[h],6,-198630844),a=p(a,s,u,f,t[h+7],10,1126891415),f=p(f,a,s,u,t[h+14],15,-1416354905),u=p(u,f,a,s,t[h+5],21,-57434055),s=p(s,u,f,a,t[h+12],6,1700485571),a=p(a,s,u,f,t[h+3],10,-1894986606),f=p(f,a,s,u,t[h+10],15,-1051523),u=p(u,f,a,s,t[h+1],21,-2054922799),s=p(s,u,f,a,t[h+8],6,1873313359),a=p(a,s,u,f,t[h+15],10,-30611744),f=p(f,a,s,u,t[h+6],15,-1560198380),u=p(u,f,a,s,t[h+13],21,1309151649),s=p(s,u,f,a,t[h+4],6,-145523070),a=p(a,s,u,f,t[h+11],10,-1120210379),f=p(f,a,s,u,t[h+2],15,718787259),u=p(u,f,a,s,t[h+9],21,-343485551),s=cn(s,n),u=cn(u,i),f=cn(f,e),a=cn(a,o);return[s,u,f,a]}function yn(t){for(var r="",n=32*t.length,i=0;i<n;i+=8)r+=String.fromCharCode(t[i>>5]>>>i%32&255);return r}function bn(t){var r=[];for(r[(t.length>>2)-1]=void 0,i=0;i<r.length;i+=1)r[i]=0;for(var n=8*t.length,i=0;i<n;i+=8)r[i>>5]|=(255&t.charCodeAt(i/8))<<i%32;return r}function dn(t){for(var r,n="0123456789abcdef",i="",e=0;e<t.length;e+=1)r=t.charCodeAt(e),i+=n.charAt(r>>>4&15)+n.charAt(15&r);return i}function pn(t){return unescape(encodeURIComponent(t))}function mn(t){return yn(vn(bn(t=pn(t)),8*t.length))}function wn(t,r){var n,t=pn(t),r=pn(r),i=bn(t),e=[],o=[];for(e[15]=o[15]=void 0,16<i.length&&(i=vn(i,8*t.length)),n=0;n<16;n+=1)e[n]=909522486^i[n],o[n]=1549556828^i[n];return t=vn(e.concat(bn(r)),512+8*r.length),yn(vn(o.concat(t),640))}function xn(t,r,n){return r?n?wn(r,t):dn(wn(r,t)):n?mn(t):dn(mn(t))}var gn={encryption:function(t){return xn(t)}};function _n(t){return(_n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Sn(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,function(t){t=function(t,r){if("object"!==_n(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0===n)return("string"===r?String:Number)(t);n=n.call(t,r||"default");if("object"!==_n(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"===_n(t)?t:String(t)}(i.key),i)}}function jn(t,r,n){return r&&Sn(t.prototype,r),n&&Sn(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var On="0.0.0.0",n=jn(function t(){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function")});Object.assign(n.prototype,{kr:function(t,r,n,i,e){"undefined"==typeof KjWzhWlSj||!KjWzhWlSj.license||"string"==typeof r&&0!=r.length&&(r=hn.decryption(r,"026685bf295f587b5dffc1f18d5dc27c"),n=gn.encryption(n),r=hn.decryption(r,n),-1!==t.indexOf(r))?i&&i():e&&e()},Ar:function(t,r,n,i){var e;-1!==r.indexOf("")||-1!==r.indexOf("aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa")?n&&n():(e=gn.encryption("fengmap.localhost:"+t.appName),e=hn.decryption(t.key,e),-1!==r.indexOf(e)?this.kr(r,t.license,t.buildingID,function(){n&&n()},function(){i&&i(v.LICENSE_ERROR)}):i&&i(v.NAME_KEY_ERROR))},Ir:function(t,r,n){var i=this;void 0!==t.mapURL?r&&r():(t.enableCollect&&this.Pr(t),this.Lr(function(){new f({method:"POST",url:en.check,header:{"X-Requested-With":"XMLHttpRequest","Content-type":"application/json;charset=utf-8"},data:i.Dr(t)}).lr(function(){r&&r()},function(t){n&&n(t)},function(){r&&r()})},function(){r&&r()}))},Lr:function(t,r){new f({method:"GET",url:en.online}).lr(function(){t&&t()},function(){r&&r()},function(){r&&r()})},Dr:function(t,r){var n=Nr.a.global().location.host,i=n.indexOf(":"),i=(-1!==i&&(n=n.slice(0,i)),{mapId:t.buildingID,appName:t.appName});return r?i.keyValue=t.key:i.appKey=t.key,r?i.webUrl=n||On:i.webURL=n||On,i},Pr:function(t){if("undefined"!=typeof navigator&&"undefined"!=typeof document){var r={};-1!==navigator.userAgent.indexOf("Opera")?r.userAgent="Opera":-1!==navigator.userAgent.indexOf("Firefox")?r.userAgent="FF":-1!==navigator.userAgent.indexOf("Chrome")?r.userAgent="Chrome":-1!==navigator.userAgent.indexOf("Safari")&&0===navigator.userAgent.indexOf("Chrome")?r.userAgent="Safari":-1!==navigator.userAgent.indexOf("compatible")&&-1!==navigator.userAgent.indexOf("MSIE")?r.userAgent="IE":-1!==navigator.userAgent.indexOf("Trident")&&(r.userAgent="Edge"),r.product="JS",r.sdkVersion=T+"."+R,r.appName=t.appName,r.appkey=t.key;for(var t=document.createElement("canvas").getContext("experimental-webgl"),n=t.getExtension("WEBGL_debug_renderer_info"),i=(r.gpu=n?t.getParameter(n.UNMASKED_RENDERER_WEBGL):null,r.os=navigator.platform,!0),e=navigator.userAgent,o=["Android","iPhone","SymbianOS","Windows Phone","iPad","iPod"],s=0;s<o.length;s++)if(0<e.indexOf(o[s])){i=!1;break}r.device=i?"pc":"mobile",new f({method:"POST",url:en.collect,header:{"X-Requested-With":"XMLHttpRequest","Content-type":"application/json;charset=utf-8"},data:r}).lr()}}});var En=new n;function Tn(t){return(Tn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Rn(t){return function(t){if(Array.isArray(t))return Mn(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,r){var n;if(t)return"string"==typeof t?Mn(t,r):"Map"===(n="Object"===(n=Object.prototype.toString.call(t).slice(8,-1))&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Mn(t,r):void 0}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Mn(t,r){(null==r||r>t.length)&&(r=t.length);for(var n=0,i=new Array(r);n<r;n++)i[n]=t[n];return i}function Nn(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,function(t){t=function(t,r){if("object"!==Tn(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0===n)return("string"===r?String:Number)(t);n=n.call(t,r||"default");if("object"!==Tn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"===Tn(t)?t:String(t)}(i.key),i)}}function kn(t,r,n){return r&&Nn(t.prototype,r),n&&Nn(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var n=kn(function t(){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this.Nr=new nn,this.Fr=[]}),An=(Object.assign(n.prototype,{vr:function(){this.Fr.forEach(function(t){t.vr()}),this.Fr.length=0},Cr:function(t,r,n,i){var e;t.mapURL?(e=t.isPreview?t.isOutdoor?t.tile?t.mapURL+t.buildingID+"/separate/"+t.buildingID+r+".fmap":t.mapURL+t.buildingID+"/"+t.buildingID+r+".fmap":t.tile?t.mapURL+t.mapID+"/"+t.bid+"/"+t.buildingID+"/separate/"+t.buildingID+r+".fmap":t.mapURL+t.mapID+"/"+t.bid+"/"+t.buildingID+"/"+t.buildingID+r+".fmap":t.mapURLAbsolute?t.mapURL+t.buildingID+r+".fmap":t.isOutdoor?t.mapURL+t.buildingID+"/"+t.buildingID+r+".fmap":t.mapURL+t.mapID+"/"+t.bid+"/"+t.buildingID+"/"+t.buildingID+r+".fmap",n&&n(e)):(e={newFlag:"2",keyType:3,isSeparate:!1},t.isOutdoor||(e.bId=t.bid,e.rootMid=t.mapID),r=new f({method:"POST",url:""===r?en.download:en.downloadTile+"/"+t.buildingID+r+".fmap",header:{"X-Requested-With":"XMLHttpRequest","Content-type":"application/json;charset=utf-8"},data:Object.assign(e,En.Dr(t,!0))}),this.Fr.push(r),r.lr(function(t){n&&n(t.replace('"',"").replace('"',""))},function(t){i&&i(t)},function(t){i&&i(t)}))},Ur:function(n,i,e){var o=this;n.enableCollect=!0,En.Ir(n,function(){o.Cr(n,"",function(t){t=new f({method:"GET",responseType:"arraybuffer",url:t});o.Fr.push(t),t.lr(function(t){var t=new Uint8Array(t),r=o.Nr.dr(t);!n.isOutdoor||(t=[],r.keys&&0!==r.keys.length?t.push.apply(t,Rn(r.keys)):t.push(r.key),n.isPreview)?i&&i(r):En.Ar(n,t,function(){i&&i(r)},function(t){e&&e(t)})},function(t){e&&e(t===v.PATH_ERROR?v.MAP_ID_URL_ERROR:t)},function(t){e&&e(t)})},function(t){e&&e(t)})},function(t){e&&e(t)})},Br:function(n,i,e){var o=this;n.enableCollect=!0,En.Ir(n,function(){o.Cr(n,".scene",function(t){t=new f({method:"GET",responseType:"arraybuffer",url:t});o.Fr.push(t),t.lr(function(t){var t=new Uint8Array(t),r=o.Nr.mr(t);!n.isOutdoor||(t=[],r.keys&&0!==r.keys.length?t.push.apply(t,Rn(r.keys)):t.push(r.key),n.isPreview)?i&&i(r):En.Ar(n,t,function(){i&&i(r)},function(t){e&&e(t)})},function(t){e&&e(t)},function(t){e&&e(t)})},function(t){e&&e(t)})},function(t){e&&e(t)})},Gr:function(t,r,n){var i=this;this.Cr(t,".gate",function(t){t=new f({method:"GET",responseType:"arraybuffer",url:t});i.Fr.push(t),t.lr(function(t){t=new Uint8Array(t),t=i.Nr.gr(t);r&&r(t)},function(t){n&&n(t)},function(t){n&&n(t)})},function(t){n&&n(t)})},Wr:function(t,r,n,i){var e=this;this.Cr(t,".floor."+r+".geo",function(t){t=new f({method:"GET",responseType:"arraybuffer",url:t});e.Fr.push(t),t.lr(function(t){t=new Uint8Array(t),t=e.Nr.Sr(t);n&&n(t)},function(t){i&&i(t)},function(t){i&&i(t)})},function(t){i&&i(t)})},Zr:function(t,r,n,i){var e=this;this.Cr(t,".floor."+r+".biz",function(t){t=new f({method:"GET",responseType:"arraybuffer",url:t});e.Fr.push(t),t.lr(function(t){t=new Uint8Array(t),t=e.Nr.Or(t);n&&n(t)},function(t){i&&i(t)},function(t){i&&i(t)})},function(t){i&&i(t)})},Vr:function(t,r,n,i){var e=this;this.Cr(t,".floor."+r+".navi",function(t){t=new f({method:"GET",responseType:"arraybuffer",url:t});e.Fr.push(t),t.lr(function(t){t=new Uint8Array(t),t=e.Nr.Tr(t);n&&n(t)},function(t){i&&i(t)})},function(t){i&&i(t)},function(t){i&&i(t)})},Yr:function(t,r,n,i){var e=this;this.Cr(t,".floor."+r+".drive.navi",function(t){t=new f({method:"GET",responseType:"arraybuffer",url:t});e.Fr.push(t),t.lr(function(t){t=new Uint8Array(t),t=e.Nr.Tr(t);n&&n(t)},function(t){i&&i(t)})},function(t){i&&i(t)},function(t){i&&i(t)})},zr:function(t,r,n,i){var e=this;this.Cr(t,".floor."+r+".accessible.navi",function(t){t=new f({method:"GET",responseType:"arraybuffer",url:t});e.Fr.push(t),t.lr(function(t){t=new Uint8Array(t),t=e.Nr.Tr(t);n&&n(t)},function(t){i&&i(t)})},function(t){i&&i(t)},function(t){i&&i(t)})}}),n);function In(t){return(In="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Pn(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,function(t){t=function(t,r){if("object"!==In(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0===n)return("string"===r?String:Number)(t);n=n.call(t,r||"default");if("object"!==In(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"===In(t)?t:String(t)}(i.key),i)}}function Ln(t,r,n){return r&&Pn(t.prototype,r),n&&Pn(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}n=Ln(function t(){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function")});Object.assign(n.prototype,{Xr:function(t,r){for(var n=[],i=0,e=0;e<t.length;e++){var o=t[e].idxs;if("number"==typeof(o=o||t[e]))for(;i<o;)n.push({x:r[i],y:r[i+1]}),i+=2;else for(var s=0;s<o.length;s++)for(var u=o[s];i<u;)n.push({x:r[i],y:r[i+1]}),i+=2}return n},qr:function(t,r){for(var n=[],i=0,e=0;e<t.length;e++){var o=t[e].idxs;if("number"==typeof(o=o||t[e])){for(var s=[];i<o;)s.push({x:r[i],y:r[i+1]}),i+=2;n.push(s)}else for(var u=0;u<o.length;u++){for(var f=o[u],a=[];i<f;)a.push({x:r[i],y:r[i+1]}),i+=2;n.push(a)}}return n},Hr:function(t,r){for(var n=[],i=[],e=0,o=0;o<t.length;o++){var s=t[o].idxs;if("number"==typeof(s=s||t[o]))for(;e<s;)n.push({x:r[e],y:r[e+1]}),e+=2;else for(var u=0;u<s.length;u++)if(0===u)for(var f=s[u];e<f;)n.push({x:r[e],y:r[e+1]}),e+=2;else{for(var a=[],h=s[u];e<h;)a.push({x:r[e],y:r[e+1]}),e+=2;i.push(a)}}var c=[];return c.push(n),c.push.apply(c,i),c},Qr:function(t){for(var r=[],n=t.length,i=0;i<n;i++){for(var e=t[i],o={x:this.Kr(e.x),y:this.Kr(e.y)},s=r.length,u=!1,f=0;f<s;f++){var a=r[f];if(a.x==o.x&&a.y==o.y){u=!0;break}}u||r.push(o)}return r},Kr:function(t){return+t.toFixed(2)}});var Dn=new n;function Fn(t){return(Fn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Cn(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,function(t){t=function(t,r){if("object"!==Fn(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0===n)return("string"===r?String:Number)(t);n=n.call(t,r||"default");if("object"!==Fn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"===Fn(t)?t:String(t)}(i.key),i)}}function Un(t,r,n){return r&&Cn(t.prototype,r),n&&Cn(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var m={G1:"MULTIPOLYGON(((",G2:"POINT(",G3:"MULTILINESTRING(("},n=(m.GLEN1="MULTIPOLYGON(((".length,m.GLEN2="POINT(".length,m.GLEN3="MULTILINESTRING((".length,Un(function t(){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function")}));Object.assign(n.prototype,{Xr:function(t){var r=[];return 0!=t.indexOf(m.G2)?[]:(t=t.substring(m.GLEN2,t.length-1).split(" "),r.push({x:parseFloat(t[0]),y:parseFloat(t[1])}),r)},qr:function(t){if(0!=t.indexOf(m.G3))return[];for(var r=t.substring(m.GLEN3,t.length-2).split(","),n=[],i=0;i<r.length;i++){var e=r[i].split(" ");n.push({x:parseFloat(e[0]),y:parseFloat(e[1])})}return[n]},Hr:function(t){var r=[],n=[];if(0!=t.indexOf(m.G1))return[];for(var i=t.substring(m.GLEN1,t.length-3).split(/\),\(/),e=0;e<i.length;e++){var o=i[e].split(/,/);if(0==e)for(var s=0;s<o.length;s++){var u=o[s].split(" ");r.push({x:parseFloat(u[0]),y:parseFloat(u[1])})}else{for(var f=[],a=0;a<o.length;a++){var h=o[a].split(" ");f.push({x:parseFloat(h[0]),y:parseFloat(h[1])})}n.push(f)}}t=[];return t.push(r),t.push.apply(t,n),t},Qr:function(t){for(var r=[],n=t.length,i=0;i<n;i++){for(var e=t[i],o={x:this.Kr(e.x),y:this.Kr(e.y)},s=r.length,u=!1,f=0;f<s;f++){var a=r[f];if(a.x==o.x&&a.y==o.y){u=!0;break}}u||r.push(o)}return r},Kr:function(t){return+t.toFixed(2)}});var Bn=new n,n={STOP:0,PASS:1,PUSH:2},Gn=(Object.freeze(n),n);function Wn(t,r){var n,i,e,o,s="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(s)return i=!(n=!0),{s:function(){s=s.call(t)},n:function(){var t=s.next();return n=t.done,t},e:function(t){i=!0,e=t},f:function(){try{n||null==s.return||s.return()}finally{if(i)throw e}}};if(Array.isArray(t)||(s=function(t,r){var n;if(t)return"string"==typeof t?Zn(t,r):"Map"===(n="Object"===(n=Object.prototype.toString.call(t).slice(8,-1))&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Zn(t,r):void 0}(t))||r&&t&&"number"==typeof t.length)return s&&(t=s),o=0,{s:r=function(){},n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:r};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Zn(t,r){(null==r||r>t.length)&&(r=t.length);for(var n=0,i=new Array(r);n<r;n++)i[n]=t[n];return i}function Vn(t){return(Vn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Yn(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,function(t){t=function(t,r){if("object"!==Vn(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0===n)return("string"===r?String:Number)(t);n=n.call(t,r||"default");if("object"!==Vn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"===Vn(t)?t:String(t)}(i.key),i)}}var n=function(){function r(t){if(!(this instanceof r))throw new TypeError("Cannot call a class as a function");this.nr=x.GROUP,this.Jr=new Map,this.$r=-1,this.tn=null,this.Ht=null,Object.assign(this,t)}var t,n,i;return t=r,(n=[{key:"getType",value:function(){return this.nr}},{key:"getCoordinates",value:function(){return this.tn}},{key:"getBound",value:function(){return this.Ht||this.rn(),this.Ht}},{key:"getChildren",value:function(){return this.Jr}}])&&Yn(t.prototype,n),i&&Yn(t,i),Object.defineProperty(t,"prototype",{writable:!1}),r}(),zn=(Object.assign(n.prototype,{vr:function(){var t,r=Wn(this.Jr.values());try{for(r.s();!(t=r.n()).done;){var n=t.value;n.vr&&n.vr()}}catch(t){r.e(t)}finally{r.f()}this.Jr.clear()},nn:function(r){var t=r._support(this);t==Gn.PASS?this.Jr.forEach(function(t){t.nn(r)}):t==Gn.PUSH&&r.sn.push(this)},rn:function(){var r=this;this.Ht=new Jt,0!=this.Jr.size&&this.Jr.forEach(function(t){r.Ht.Zt(t.getBound())})}}),n);function Xn(t){return(Xn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function qn(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,function(t){t=function(t,r){if("object"!==Xn(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0===n)return("string"===r?String:Number)(t);n=n.call(t,r||"default");if("object"!==Xn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"===Xn(t)?t:String(t)}(i.key),i)}}var n=function(){function r(t){if(!(this instanceof r))throw new TypeError("Cannot call a class as a function");this.$r=t.eid,this.nr=x.POINT,this.tn=null,this.Ht=null,Object.assign(this,t)}var t,n,i;return t=r,(n=[{key:"getType",value:function(){return this.nr}},{key:"getCoordinates",value:function(){return this.tn}},{key:"getBound",value:function(){return this.Ht||this.rn(),this.Ht}}])&&qn(t.prototype,n),i&&qn(t,i),Object.defineProperty(t,"prototype",{writable:!1}),r}(),Hn=(Object.assign(n.prototype,{rn:function(){this.Ht=new Jt,this.tn&&this.Ht.Vt(this.tn)},nn:function(t){t._support(this)==Gn.PUSH&&t.sn.push(this)}}),n);function Qn(t){return(Qn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Kn(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,function(t){t=function(t,r){if("object"!==Qn(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0===n)return("string"===r?String:Number)(t);n=n.call(t,r||"default");if("object"!==Qn(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"===Qn(t)?t:String(t)}(i.key),i)}}var n=function(){function r(t){if(!(this instanceof r))throw new TypeError("Cannot call a class as a function");this.$r=t.eid,this.nr=x.POLYGON,this.zt=null,this.tn=null,this.Ht=null,Object.assign(this,t)}var t,n,i;return t=r,(n=[{key:"getType",value:function(){return this.nr}},{key:"getCenter",value:function(){return this.zt}},{key:"getCoordinates",value:function(){return this.tn}},{key:"getBound",value:function(){return this.Ht||this.rn(),this.Ht}}])&&Kn(t.prototype,n),i&&Kn(t,i),Object.defineProperty(t,"prototype",{writable:!1}),r}(),Jn=(Object.assign(n.prototype,{rn:function(){var r=this;this.Ht=new Jt,this.tn&&this.tn.forEach(function(t){r.Ht.Vt(t)})},nn:function(t){t._support(this)==Gn.PUSH&&t.sn.push(this)}}),n);function $n(t){return($n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var ti=["layerGroups"],ri=["layers"];function ni(t,r){if(null==t)return{};var n,i=function(t,r){if(null==t)return{};var n,i,e={},o=Object.keys(t);for(i=0;i<o.length;i++)n=o[i],0<=r.indexOf(n)||(e[n]=t[n]);return e}(t,r);if(Object.getOwnPropertySymbols)for(var e=Object.getOwnPropertySymbols(t),o=0;o<e.length;o++)n=e[o],0<=r.indexOf(n)||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n]);return i}function ii(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,function(t){t=function(t,r){if("object"!==$n(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0===n)return("string"===r?String:Number)(t);n=n.call(t,r||"default");if("object"!==$n(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"===$n(t)?t:String(t)}(i.key),i)}}function ei(t,r,n){return r&&ii(t.prototype,r),n&&ii(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var n=ei(function t(){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this.un=[1,2,3,4],this.an=[6,7,9],this.hn=[31,32],this.cn=new Map,this.cn.set(31,x.EXTENTGROUP),this.cn.set(32,x.MODELGROUP),this.cn.set(6,x.FACILITYGROUP),this.cn.set(7,x.LABELGROUP),this.cn.set(9,x.EXTERNALMODELGROUP),this.ln=new Map,this.ln.set(31,["extentLayer",null]),this.ln.set(32,["modelLayer","labelLayer"]),this.ln.set(6,["poiLayer",null]),this.ln.set(7,["labelLayer",null]),this.ln.set(9,["externalModelLayer",null]),this.Nr=new nn}),oi=(Object.assign(n.prototype,{vn:function(t){var r;return t?(r=t.scene,this.yn(r,t)):null},yn:function(t,n){var i=this,r=t.layerGroups,e=ni(t,ti),o=t.fileVer,s=new zn(e);return r.forEach(function(t){var r=i.bn(t,n,o);s.Jr.set(t.gid,r)}),s},bn:function(t,r,n){var i=this,e=t.layers,o=ni(t,ri),s=new zn(o),u=r&&r.floors?r.floors.get(t.gid).geo[0]:null,f=r&&r.floors?r.floors.get(t.gid).biz[0]:null;return e.forEach(function(t){6===t.ltype&&-1!==t.lname.indexOf("storelabel")&&(t.ltype=7);var r=i.dn(t,u,f,n);null!==r&&s.Jr.set(i.cn.get(t.ltype),r)}),this.pn(s),s},pn:function(t){var r=Array.from(t.Jr);r.sort(function(t,r){return t[0]-r[0]}),t.Jr=new Map(r)},dn:function(t,r,n,i){var e;return-1===this.un.indexOf(t.ltype)&&this.ln.get(t.ltype)?(e=new zn(t),this.mn(e,r,n,i),e&&(e.nr=this.cn.get(t.ltype)),e):null},mn:function(t,r,n,i){if(t){var e=this.ln.get(t.ltype);if(e){var o=r?r[e[0]]:[],s=n?n[e[0]]:[];switch(t.ltype){case 6:this.wn(t,o,s,i,x.FACILITY);break;case 7:this.wn(t,o,s,i,x.LABEL);break;case 9:this.wn(t,o,s,i,x.EXTERNALMODEL);break;case 31:this.xn(t,o,s,i,x.EXTENT,null);break;case 32:this.xn(t,o,s,i,x.MODEL,r?r[e[1]]:null)}}}},wn:function(t,r,n,i,e){for(var o=0;o<r.length;o++){var s=this.gn(r[o],n[o],i);s.nr=e,t.Jr.set(r[o].eid,s)}},gn:function(t,r,n){r=Object.assign({},r,{area:t.area,eid:t.eid,height:t.height}),r=new Hn(r);return t.coordinates?r.tn=t.coordinates:(r.tn=1==n?Bn.Xr(t.geo):Dn.Xr(t.idxs,t.pts),t.coordinates=r.tn),r},xn:function(t,r,n,i,e,o){for(var s=0;s<r.length;s++){var u=this._n(r[s],n[s],i,o?o[s]:null);u.nr=e,t.Jr.set(r[s].eid,u)}},_n:function(t,r,n,i){r=Object.assign({},r,{area:t.area,eid:t.eid,height:t.height}),r=new Jn(r);return r.tn=1===n?Bn.Hr(t.geo):Dn.Hr(t.idxs,t.pts),i&&(i.coordinates||(i.coordinates=1===n?Bn.Xr(i.geo):Dn.Xr(i.idxs,i.pts)),r.zt=i.coordinates[0]),r}}),n),si={NONE_RODE_NETWORK:1,WALK_RODE_NETWORK:2,DRIVE_RODE_NETWORK:4,ACCESSIBLE_RODE_NETWORK:8};function ui(t){return(ui="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function fi(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,function(t){t=function(t,r){if("object"!==ui(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0===n)return("string"===r?String:Number)(t);n=n.call(t,r||"default");if("object"!==ui(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"===ui(t)?t:String(t)}(i.key),i)}}function ai(t,r,n){return r&&fi(t.prototype,r),n&&fi(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}for(var n=ai(function t(){var r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=this,i=t;if(!(n instanceof i))throw new TypeError("Cannot call a class as a function");this.Sn=r.disposeCallback,this.jn=!1,this.On=!1,this.En=void 0!==r.enable&&r.enable,this.name=void 0!==r.name?r.name:"",this.Tn=new Map,this.Rn=r.mapCreateTime}),hi=(Object.assign(n.prototype,{Mn:function(){!this.En||this.On||this.jn&&0===this.Tn.size&&(this.Sn({mapCreateTime:this.Rn}),this.On=!0)},Nn:function(t){this.En&&(this.jn=t,this.Mn())},kn:function(t){this.En&&(this.Tn.has(t)&&console.warn("添加的引用已经存在..."),this.Tn.set(t,0))},An:function(t){this.En&&(this.Tn.has(t)?(this.Tn.delete(t),this.Mn()):console.warn("移除的引用不存在"))}}),n),e=[],ci=0;ci<256;ci++)e[ci]=(ci<16?"0":"")+ci.toString(16);var a={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){var t=4294967295*Math.random()|0,r=4294967295*Math.random()|0,n=4294967295*Math.random()|0,i=4294967295*Math.random()|0;return(e[255&t]+e[t>>8&255]+e[t>>16&255]+e[t>>24&255]+"-"+e[255&r]+e[r>>8&255]+"-"+e[r>>16&15|64]+e[r>>24&255]+"-"+e[63&n|128]+e[n>>8&255]+"-"+e[n>>16&255]+e[n>>24&255]+e[255&i]+e[i>>8&255]+e[i>>16&255]+e[i>>24&255]).toUpperCase()},clamp:function(t,r,n){return Math.max(r,Math.min(n,t))},euclideanModulo:function(t,r){return(t%r+r)%r},mapLinear:function(t,r,n,i,e){return i+(t-r)*(e-i)/(n-r)},lerp:function(t,r,n){return(1-n)*t+n*r},smoothstep:function(t,r,n){return t<=r?0:n<=t?1:(t=(t-r)/(n-r))*t*(3-2*t)},smootherstep:function(t,r,n){return t<=r?0:n<=t?1:(t=(t-r)/(n-r))*t*t*(t*(6*t-15)+10)},randInt:function(t,r){return t+Math.floor(Math.random()*(r-t+1))},randFloat:function(t,r){return t+Math.random()*(r-t)},randFloatSpread:function(t){return t*(.5-Math.random())},degToRad:function(t){return t*a.DEG2RAD},radToDeg:function(t){return t*a.RAD2DEG},isPowerOfTwo:function(t){return 0==(t&t-1)&&0!==t},ceilPowerOfTwo:function(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))},floorPowerOfTwo:function(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))},setQuaternionFromProperEuler:function(t,r,n,i,e){var o=Math.cos,s=Math.sin,u=o(n/2),n=s(n/2),f=o((r+i)/2),a=s((r+i)/2),h=o((r-i)/2),c=s((r-i)/2),o=o((i-r)/2),s=s((i-r)/2);"XYX"===e?t.set(u*a,n*h,n*c,u*f):"YZY"===e?t.set(n*c,u*a,n*h,u*f):"ZXZ"===e?t.set(n*h,n*c,u*a,u*f):"XZX"===e?t.set(u*a,n*s,n*o,u*f):"YXY"===e?t.set(n*o,u*a,n*s,u*f):"ZYZ"===e?t.set(n*s,n*o,u*a,u*f):console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order.")}};function li(t){return(li="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function vi(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,function(t){t=function(t,r){if("object"!==li(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0===n)return("string"===r?String:Number)(t);n=n.call(t,r||"default");if("object"!==li(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"===li(t)?t:String(t)}(i.key),i)}}var n=function(){function r(t){if(!(this instanceof r))throw new TypeError("Cannot call a class as a function");this.In=new Map,this.Pn=new Map,this.hr=new Map,this.Ln=new Map,this.Dn=new Map,this.Fn=new Map,this.Cn=[2,3],this.Un=!1,this.Nr=new nn,this.Bn=new oi,this.Gn=new An,this.Wn=null,this.Zn=this.Zn.bind(this),this.Vn=new hi({disposeCallback:this.Zn,enable:!0,name:"DataManager",mapCreateTime:(null==t?void 0:t.mapCreateTime)||(new Date).getTime()})}var t,n,i;return t=r,(n=[{key:"load",value:function(t,r){this.Yn(t,r)}},{key:"loadWhole",value:function(t,r){this.zn(t,r)}},{key:"getDecode",value:function(t){t=void 0!==t.buildingID?t.buildingID:t.mapID;return this.Xn({buildingID:t})}},{key:"getData",value:function(t){t=void 0!==t.buildingID?t.buildingID:t.mapID;return this.In.get(t)}},{key:"setCache",value:function(t){this.In=t[0],this.Pn=t[1]}},{key:"getCache",value:function(){return[this.In,this.Pn]}}])&&vi(t.prototype,n),i&&vi(t,i),Object.defineProperty(t,"prototype",{writable:!1}),r}(),yi=(Object.assign(n.prototype,{vr:function(t){this.Wn=t,this.Gn.vr(),this.Vn.Nn(!0)},Zn:function(){this.In.clear(),this.In=null,this.Pn.clear(),this.Pn=null,this.hr.clear(),this.hr=null,this.Ln.clear(),this.Ln=null,this.Dn.clear(),this.Dn=null,this.Fn.clear(),this.Fn=null,this.Wn&&this.Wn({name:"DataManager"})},qn:function(t){this.Ln.set(t.buildingID+t.uuid,null),this.Dn.set(t.buildingID+t.uuid,null),this.Fn.set(t.buildingID+t.uuid,0)},Yn:function(u,f){var a=this;this.qn(u),this.Br(u,function(r,t){f&&f(r,t);var s=a.Hn(u),t=u.loadNavi&&s.buildings&&0<s.buildings.length;a.Gr(u,t,function(t,r){f&&f(t,r);for(var n=void 0!==u.level?u.level:parseInt(s.defGid),i=(a.Qn(u,n,f),u.visibleLevels||s.levels),e=0;e<i.length;e++)i[e]===n||s.levels.indexOf(i[e])<0||a.Qn(u,i[e],f);if(u.preLoad)for(var o=0;o<s.levels.length;o++)s.levels[o]!==n&&-1===i.indexOf(s.levels[o])&&a.Qn(u,s.levels[o],f)},function(t){f&&f(r,t)})},function(t,r){f&&f(t,r)})},Gr:function(n,t,i,e){var o,s=this;t?(t=this.Kn(n))?i&&i("gate",t):(o="_sendGate"+a.generateUUID(),this.Vn.kn(o),this.Gn.Gr(n,function(t){s.Pn.get(n.buildingID).gate=t,i&&i("gate",t),s.Vn.An(o)},function(t){var r;n.navigationData?((r=s.Pn.get(n.buildingID)).gate=n.navigationData,i&&i("gate",r.gate)):e("error",t),s.Vn.An(o)})):i&&i("gate",null)},Br:function(n,i,r){var e,o=this,t=this.Hn(n);t?(i&&i("scene",t),n.justDecode||(t=this.In.get(n.buildingID),i&&i("building",t))):(e="_sendScene"+a.generateUUID(),this.Vn.kn(e),this.Gn.Br(n,function(t){var r;n.isOutdoor&&(r=t.fileVer,t.buildings)&&1<r&&t.buildings.forEach(function(r){r.floors&&(r.levelChart=[],r.fids=[],r.floors.forEach(function(t){t.tn=Dn.Hr(t.idxs,t.pts),t.pgid&&r.levelChart.push(t.pgid,t.gid),t.baseLevel&&(r.minlevel=t.minlevel,r.maxlevel=t.maxlevel),t.fids&&r.fids.push.apply(r.fids,t.fids)}))}),o.Pn.set(n.buildingID,{scene:t}),i&&i("scene",t),n.justDecode||(r=o.Bn.yn(t),o.In.set(n.buildingID,r),i&&i("building",r)),o.Vn.An(e)},function(t){r&&r("error",t===v.PATH_ERROR?v.MAP_ID_URL_ERROR:t),o.Vn.An(e)}))},Qn:function(t,r,n,i){var e=this.Ln.get(t.buildingID+t.uuid);e||this.Ln.set(t.buildingID+t.uuid,e=[]),i?e.unshift(r):e.push(r),this.Un&&1!==e.length||this.Jn(t,n)},Jn:function(i,e){var o,t,s,u=this,f=this.Hn(i);f&&(o=this.Ln.get(i.buildingID+i.uuid))&&0!==o.length&&((t=this.Dn.get(i.buildingID+i.uuid))||this.Dn.set(i.buildingID+i.uuid,t=[]),s=o[0],-1!==t.indexOf(s)?(o.splice(o.indexOf(s),1),this.Jn(i,e)):(t.push(s),this.$n(i,s,function(t,r){var n=u.Fn.get(i.buildingID+i.uuid);"layerGroup"===t&&(e&&e(t,r),u.Fn.set(i.buildingID+i.uuid,++n),n===f.layerGroups.length&&e&&e("decode",u.Xn(i)),o.splice(o.indexOf(s),1),u.Jn(i,e)),"layer"===t&&e&&e(t,r),"floor"===t&&(e&&e(t,r),n===f.layerGroups.length)&&e&&e("complete",u.ti(i))},function(t,r){e&&e(t,r)})))},$n:function(e,o,s,r){var t,u,f,a,h,n,i=this,c=this.Hn(e),l=this.ri(c,o);l?(t=l.gname,l=l.naviType||0,u=this.Cn[0],f=0,a=new Map,h=e.merge,n=function(r){var n,i,t;u===++f&&(n=a.get("geo"),i=a.get("biz"),h&&h.merge(o,n,i,c.fileVer),s&&s("layerGroup",a),e.justDecode||((t=r.ni(e,o)).Jr.forEach(function(t){r.Bn.mn(t,n,i,c.fileVer),s&&s("layer",t)}),s&&s("floor",t)))},e.loadNavi&&((0!=(l&si.WALK_RODE_NETWORK)||c.fileVer<3)&&(u++,this.Vr(e,o,t,function(t,r){a.set(t,r),s&&s(t,r),n(i)},function(t){r&&r(t)})),0!=(l&si.DRIVE_RODE_NETWORK)&&(u++,this.Yr(e,o,t,function(t,r){a.set(t,r),s&&s(t,r),n(i)},function(t){r&&r(t)})),0!=(l&si.ACCESSIBLE_RODE_NETWORK))&&(u++,this.zr(e,o,t,function(t,r){a.set(t,r),s&&s(t,r),n(i)},function(t){r&&r(t)})),this.Wr(e,o,t,function(t,r){a.set(t,r),s&&s(t,r),n(i)},function(t){r&&r(t)}),this.Zr(e,o,t,function(t,r){a.set(t,r),s&&s(t,r),n(i)},function(t){r&&r(t)})):r&&r("error",v.DEFAULT_LEVEL_ERROR)},Wr:function(r,n,t,i,e){var o,s=this,u=this.ii(r,n,"geo");u?i&&i("geo",u):(o="_sendFloorGeo"+a.generateUUID(),this.Vn.kn(o),this.Gn.Wr(r,t,function(t){s.ei(r,n,"geo",t),i&&i("geo",t),s.Vn.An(o)},function(t){e&&e("error",t),s.Vn.An(o)}))},Zr:function(r,n,t,i,e){var o,s=this,u=this.ii(r,n,"biz");u?i&&i("biz",u):(o="_sendFloorBiz"+a.generateUUID(),this.Vn.kn(o),this.Gn.Zr(r,t,function(t){s.ei(r,n,"biz",t),i&&i("biz",t),s.Vn.An(o)},function(t){e&&e("error",t),s.Vn.An(o)}))},Vr:function(r,n,t,i,e){var o,s=this,u=this.ii(r,n,"navi");u?i&&i("navi",u):(o="_sendFloorNavi"+a.generateUUID(),this.Vn.kn(o),this.Gn.Vr(r,t,function(t){s.ei(r,n,"navi",t),i&&i("navi",t),s.Vn.An(o)},function(t){e&&e("error",t),s.Vn.An(o)}))},Yr:function(r,n,t,i,e){var o,s=this,u=this.ii(r,n,"drive_navi");u?i&&i("drive_navi",u):(o="_sendFloorNaviDrive"+a.generateUUID(),this.Vn.kn(o),this.Gn.Yr(r,t,function(t){s.ei(r,n,"drive_navi",t),i&&i("drive_navi",t),s.Vn.An(o)},function(t){e&&e("error",t),s.Vn.An(o)}))},zr:function(r,n,t,i,e){var o,s=this,u=this.ii(r,n,"accessible_navi");u?i&&i("drive_navi",u):(o="_sendFloorNaviAccessible"+a.generateUUID(),this.Vn.kn(o),this.Gn.zr(r,t,function(t){s.ei(r,n,"accessible_navi",t),i&&i("accessible_navi",t),s.Vn.An(o)},function(t){e&&e("error",t),s.Vn.An(o)}))},zn:function(t,n){this.Ur(t,function(t,r){n&&n(t,r)},function(t,r){n&&n(t,r)})},Ur:function(r,n,i){var e,o=this,s=this.Xn(r);s?n&&n("decode",s):(e="_sendWhole"+a.generateUUID(),this.Vn.kn(e),this.Gn.Ur(r,function(t){o.oi(r,t),s=o.Xn(r),n&&n("decode",s),r.justDecode||(t=o.Bn.vn(s),o.In.set(r.buildingID,t),n&&n("complete",t)),o.Vn.An(e)},function(t){i&&i("error",t),o.Vn.An(e)}))},ti:function(t){if(this.In)return this.In.get(t.buildingID)||null},ni:function(t,r){t=this.In.get(t.buildingID);return t?t.Jr.get(r):null},oi:function(t,r){var n,i={scene:null,floors:new Map},e=this.Nr.pr(r);t.isOutdoor&&(n=e.fileVer,e.buildings)&&1<n&&e.buildings.forEach(function(r){r.floors&&(r.levelChart=[],r.fids=[],r.floors.forEach(function(t){t.tn=Dn.Hr(t.idxs,t.pts),t.pgid&&r.levelChart.push(t.pgid,t.gid),t.baseLevel&&(r.minlevel=t.minlevel,r.maxlevel=t.maxlevel),t.fids&&r.fids.push.apply(r.fids,t.fids)}))}),i.scene=e,i.gate=this.Nr.wr(r);for(var o=0;o<e.layerGroups.length;o++){var s=e.layerGroups[o],u=this.Nr._r(r,s.gid),f=this.Nr.jr(r,s.gid),a=this.Nr.Er(r,s.gid),h=this.Nr.Rr(r,s.gid),c=this.Nr.Mr(r,s.gid),l=(t.merge&&t.merge.merge(s.gid,u,f,e.fileVer),new Map);l.set("geo",u),l.set("biz",f),l.set("navi",a),l.set("drive_navi",h),l.set("accessible_navi",c),i.floors.set(s.gid,l)}this.Pn.set(t.buildingID,i)},Xn:function(t){var r=this.Pn.get(t.buildingID);if(!r)return null;for(var n=r.scene,r=r.gate,i=new Map,r={scene:n,floors:i,gate:r},e=0;e<n.layerGroups.length;e++){var o=n.layerGroups[e],s=o.gid,u={gid:s,gname:o.gname,level:s,geo:[],biz:[],navi:[],naviDrive:[],naviAccessible:[]},f=(u.geo.push(this.ii(t,s,"geo")),u.biz.push(this.ii(t,s,"biz")),this.ii(t,s,"navi")),f=(f&&u.navi.push(f),this.ii(t,s,"drive_navi")),f=(f&&u.naviDrive.push(f),this.ii(t,s,"accessible_navi"));f&&u.naviAccessible.push(f),i.set(o.gid,u)}return r},Hn:function(t){t=this.Pn.get(t.buildingID);return t?t.scene:null},Kn:function(t){t=this.Pn.get(t.buildingID);return t?t.gate:null},ei:function(t,r,n,i){var e,t=this.Pn.get(t.buildingID);t&&((e=t.floors)||(e=new Map,t.floors=e),(t=e.get(r))||(t=new Map,e.set(r,t)),t.set(n,i))},ii:function(t,r,n){var t=this.Pn.get(t.buildingID);return(t=t&&t.floors)&&(t=t.get(r))?t.get(n):null},ri:function(t,r){if(null!=t)for(var n=t.layerGroups,i=0;i<n.length;i++)if(n[i].gid==r)return n[i];return null}}),n),bi={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},i={h:0,s:0,l:0},di={h:0,s:0,l:0};function pi(t,r,n){return void 0===r&&void 0===n?this.set(t):this.setRGB(t,r,n)}function mi(t,r,n){return n<0&&(n+=1),1<n&&--n,n<1/6?t+6*(r-t)*n:n<.5?r:n<2/3?t+6*(r-t)*(2/3-n):t}function wi(t){return t<.04045?.0773993808*t:Math.pow(.9478672986*t+.0521327014,2.4)}function xi(t){return t<.0031308?12.92*t:1.055*Math.pow(t,.41666)-.055}function gi(t){return(gi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _i(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,function(t){t=function(t,r){if("object"!==gi(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0===n)return("string"===r?String:Number)(t);n=n.call(t,r||"default");if("object"!==gi(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"===gi(t)?t:String(t)}(i.key),i)}}Object.assign(pi.prototype,{isColor:!0,r:1,g:1,b:1,set:function(t){return t&&t.isColor?this.copy(t):"number"==typeof t?this.setHex(t):"string"==typeof t&&this.setStyle(t),this},setScalar:function(t){return this.r=t,this.g=t,this.b=t,this},setHex:function(t){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(255&t)/255,this},setRGB:function(t,r,n){return this.r=t,this.g=r,this.b=n,this},setHSL:function(t,r,n){return t=a.euclideanModulo(t,1),r=a.clamp(r,0,1),n=a.clamp(n,0,1),0===r?this.r=this.g=this.b=n:(this.r=mi(r=2*n-(n=n<=.5?n*(1+r):n+r-n*r),n,t+1/3),this.g=mi(r,n,t),this.b=mi(r,n,t-1/3)),this},setStyle:function(r){function t(t){void 0!==t&&parseFloat(t)<1&&console.warn("THREE.Color: Alpha component of "+r+" will be ignored.")}if(f=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(r)){var n,i,e,o,s=f[1],u=f[2];switch(s){case"rgb":case"rgba":if(n=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(u))return this.r=Math.min(255,parseInt(n[1],10))/255,this.g=Math.min(255,parseInt(n[2],10))/255,this.b=Math.min(255,parseInt(n[3],10))/255,t(n[5]),this;if(n=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(u))return this.r=Math.min(100,parseInt(n[1],10))/100,this.g=Math.min(100,parseInt(n[2],10))/100,this.b=Math.min(100,parseInt(n[3],10))/100,t(n[5]),this;break;case"hsl":case"hsla":if(n=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(u))return i=parseFloat(n[1])/360,e=parseInt(n[2],10)/100,o=parseInt(n[3],10)/100,t(n[5]),this.setHSL(i,e,o)}}else if(f=/^\#([A-Fa-f0-9]+)$/.exec(r)){var s=f[1],f=s.length;if(3===f)return this.r=parseInt(s.charAt(0)+s.charAt(0),16)/255,this.g=parseInt(s.charAt(1)+s.charAt(1),16)/255,this.b=parseInt(s.charAt(2)+s.charAt(2),16)/255,this;if(6===f)return this.r=parseInt(s.charAt(0)+s.charAt(1),16)/255,this.g=parseInt(s.charAt(2)+s.charAt(3),16)/255,this.b=parseInt(s.charAt(4)+s.charAt(5),16)/255,this}return r&&0<r.length?this.setColorName(r):this},setColorName:function(t){var r=bi[t];return void 0!==r?this.setHex(r):console.warn("THREE.Color: Unknown color "+t),this},clone:function(){return new this.constructor(this.r,this.g,this.b)},copy:function(t){return this.r=t.r,this.g=t.g,this.b=t.b,this},copyGammaToLinear:function(t,r){return void 0===r&&(r=2),this.r=Math.pow(t.r,r),this.g=Math.pow(t.g,r),this.b=Math.pow(t.b,r),this},copyLinearToGamma:function(t,r){r=0<(r=void 0===r?2:r)?1/r:1;return this.r=Math.pow(t.r,r),this.g=Math.pow(t.g,r),this.b=Math.pow(t.b,r),this},convertGammaToLinear:function(t){return this.copyGammaToLinear(this,t),this},convertLinearToGamma:function(t){return this.copyLinearToGamma(this,t),this},copySRGBToLinear:function(t){return this.r=wi(t.r),this.g=wi(t.g),this.b=wi(t.b),this},copyLinearToSRGB:function(t){return this.r=xi(t.r),this.g=xi(t.g),this.b=xi(t.b),this},convertSRGBToLinear:function(){return this.copySRGBToLinear(this),this},convertLinearToSRGB:function(){return this.copyLinearToSRGB(this),this},getHex:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0},getHexString:function(){return("000000"+this.getHex().toString(16)).slice(-6)},getHSL:function(t){void 0===t&&(console.warn("THREE.Color: .getHSL() target is now required"),t={h:0,s:0,l:0});var r,n=this.r,i=this.g,e=this.b,o=Math.max(n,i,e),s=Math.min(n,i,e),u=(s+o)/2;if(s===o)a=r=0;else{var f=o-s,a=u<=.5?f/(o+s):f/(2-o-s);switch(o){case n:r=(i-e)/f+(i<e?6:0);break;case i:r=(e-n)/f+2;break;case e:r=(n-i)/f+4}r/=6}return t.h=r,t.s=a,t.l=u,t},getStyle:function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"},offsetHSL:function(t,r,n){return this.getHSL(i),i.h+=t,i.s+=r,i.l+=n,this.setHSL(i.h,i.s,i.l),this},add:function(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this},addColors:function(t,r){return this.r=t.r+r.r,this.g=t.g+r.g,this.b=t.b+r.b,this},addScalar:function(t){return this.r+=t,this.g+=t,this.b+=t,this},sub:function(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this},multiply:function(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this},multiplyScalar:function(t){return this.r*=t,this.g*=t,this.b*=t,this},lerp:function(t,r){return this.r+=(t.r-this.r)*r,this.g+=(t.g-this.g)*r,this.b+=(t.b-this.b)*r,this},lerpHSL:function(t,r){this.getHSL(i),t.getHSL(di);var t=a.lerp(i.h,di.h,r),n=a.lerp(i.s,di.s,r),r=a.lerp(i.l,di.l,r);return this.setHSL(t,n,r),this},equals:function(t){return t.r===this.r&&t.g===this.g&&t.b===this.b},fromArray:function(t,r){return this.r=t[r=void 0===r?0:r],this.g=t[r+1],this.b=t[r+2],this},toArray:function(t,r){return(t=void 0===t?[]:t)[r=void 0===r?0:r]=this.r,t[r+1]=this.g,t[r+2]=this.b,t}}),pi.NAMES=bi;var Si=function(){function t(){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function")}var r,n,i;return r=t,i=[{key:"round",value:function(t){return 0<t.toFixed(2)?Math.ceil(t.toFixed(2)):Math.floor(t.toFixed(2))}},{key:"generateUUID",value:function(){for(var t=[],r=0;r<256;r++)t[r]=(r<16?"0":"")+r.toString(16);var n=4294967295*Math.random()|0,i=4294967295*Math.random()|0,e=4294967295*Math.random()|0,o=4294967295*Math.random()|0,n=t[255&n]+t[n>>8&255]+t[n>>16&255]+t[n>>24&255]+"-"+t[255&i]+t[i>>8&255]+"-"+t[i>>16&15|64]+t[i>>24&255]+"-"+t[63&e|128]+t[e>>8&255]+"-"+t[e>>16&255]+t[e>>24&255]+t[255&o]+t[o>>8&255]+t[o>>16&255]+t[o>>24&255];return t.length=0,n.toUpperCase()}},{key:"findNearNthPowerOfTwo",value:function(t){t-=1;return(t=(t=(t=(t=(t|=t>>1)|t>>2)|t>>4)|t>>8)|t>>16)<0?1:1+t}},{key:"rgbToArray",value:function(t){var r=new pi;return r.setStyle(t),[r.r,r.g,r.b]}},{key:"toRgba",value:function(t){var r;return void 0===t?t:"number"!=typeof t?3<=(r=t.split(",")).length?"rgba("+parseInt(r[0])+","+parseInt(r[1])+","+parseInt(r[2])+",1)":t:"rgba("+parseInt(255*new pi(t).r)+","+parseInt(255*new pi(t).g)+","+parseInt(255*new pi(t).b)+",1)"}},{key:"toColor",value:function(t){var r;return"number"==typeof t?t:3<=(r=t.split(",")).length?parseInt(r[0])<<16|parseInt(r[1])<<8|parseInt(r[2]):(console.error("color format error",t),0)}}],(n=null)&&_i(r.prototype,n),i&&_i(r,i),Object.defineProperty(r,"prototype",{writable:!1}),t}();function ji(t,r){var n,i,e,o,s="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(s)return i=!(n=!0),{s:function(){s=s.call(t)},n:function(){var t=s.next();return n=t.done,t},e:function(t){i=!0,e=t},f:function(){try{n||null==s.return||s.return()}finally{if(i)throw e}}};if(Array.isArray(t)||(s=function(t,r){var n;if(t)return"string"==typeof t?Oi(t,r):"Map"===(n="Object"===(n=Object.prototype.toString.call(t).slice(8,-1))&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Oi(t,r):void 0}(t))||r&&t&&"number"==typeof t.length)return s&&(t=s),o=0,{s:r=function(){},n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:r};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Oi(t,r){(null==r||r>t.length)&&(r=t.length);for(var n=0,i=new Array(r);n<r;n++)i[n]=t[n];return i}function Ei(t){return(Ei="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ti(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,function(t){t=function(t,r){if("object"!==Ei(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0===n)return("string"===r?String:Number)(t);n=n.call(t,r||"default");if("object"!==Ei(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"===Ei(t)?t:String(t)}(i.key),i)}}var n=function(){function i(t,r,n){if(!(this instanceof i))throw new TypeError("Cannot call a class as a function");this.hr=Object.assign({tile:!0,isPreview:!1},t),this.hr.buildingID=t.mapID,this.si=!!t.map,this.ui=t.map?t.map.getDataManager():new yi,this.ar=[],this.fi={},this.ai=t.statistics||null,this.ci=r,this.li=n,this.vi=Si.generateUUID(),this.yi()}var t,r,n;return t=i,(r=[{key:"dispose",value:function(){this.hr=null,this.si||this.ui.vr(),this.ui=null,this.ci=null,this.li=null}},{key:"query",value:function(t,r){if(this.bi(),null===t.buildings){for(var n=[],i=0;i<this.ar.length;i++)n.push({buildingID:this.ar[i].bid});t.buildings=n}var e=[];if(!t.onlyInBuilding){t.buildingID=this.hr.mapID,null===t.buildingID&&(t.buildingID=this.hr.mapID);for(var o=this.di(t),s=0;s<o.length;s++)o[s].buildingID=t.buildingID,e.push(o[s])}for(var u=t.buildings,f=0;f<u.length;f++)for(var a=this.pi(u[f].buildingID),h=(t.buildingID=a,t.levels=u[f].levels,this.di(t)),c=0;c<h.length;c++)h[c].buildingID=u[f].buildingID,e.push(h[c]);r&&r(e)}}])&&Ti(t.prototype,r),n&&Ti(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(),P=(Object.assign(n.prototype,{yi:function(){this.ar=[],this.si&&(t=this.hr.map.getMapOptions(),this.hr.mapID=t.mapID,this.hr.buildingID=t.mapID,this.hr.appName=t.appName,this.hr.key=t.key,this.hr.license=t.license,this.hr.mapURL=t.mapURL,this.hr.mapURLAbsolute=t.mapURLAbsolute,this.hr.buildings=t.buildings,this.hr.buildingOptions=t.buildingOptions,this.hr.isPreview="undefined"!=typeof KjWzhWlSj&&!!KjWzhWlSj.ProtoDef,this.hr.tile=t.tile);var t={mapID:this.hr.mapID,buildingID:this.hr.mapID,appName:this.hr.appName,key:this.hr.key,buildings:this.hr.buildings,license:this.hr.license,mapURL:this.hr.mapURL,mapURLAbsolute:this.hr.mapURLAbsolute,merge:this.hr.merge,tile:this.hr.tile,preLoad:!0,isPreview:"undefined"!=typeof KjWzhWlSj&&!!KjWzhWlSj.ProtoDef,uuid:this.vi,bid:this.hr.buildingID||null,isOutdoor:!0};this.mi(t)},mi:function(n){var i=this;setTimeout(function(){i.hr.tile?i.ui.load(n,function(t,r){i.wi(t,r,n.isOutdoor),i.ai&&i.ai._analyse(t,r,n)}):i.ui.loadWhole(n,function(t,r){i.wi(t,r,n.isOutdoor),i.ai&&i.ai._analyse(t,r,n)})},0)},bi:function(){if(!(0<this.ar.length)){var t=this.hr.mapID,r=this.ui.getData({buildingID:t});if(r&&r.buildings)for(var n=0;n<r.buildings.length;n++)this.ar.push(r.buildings[n])}},wi:function(t,r,n){if("error"==t&&this.li&&this.li(r),"decode"===t){if(n&&(this.fi[""+r.scene.mid]=!1,r.scene.buildings)&&0<r.scene.buildings.length)for(var i=0;i<r.scene.buildings.length;i++){var e=r.scene.buildings[i],o={mapID:this.hr.mapID,buildingID:null,appName:this.hr.appName,key:this.hr.key,license:this.hr.license,mapURL:this.hr.mapURL,mapURLAbsolute:this.hr.mapURLAbsolute,merge:this.hr.merge,loadNavi:!0,preLoad:!0,isPreview:"undefined"!=typeof KjWzhWlSj,tile:this.hr.tile,type:this.hr.type,bid:null,isOutdoor:!1,uuid:this.vi},o=(o.buildingID=e.mid,o.bid=e.bid,Object.assign({},o));this.fi[""+e.mid]=!1,this.mi(o)}if(this.si&&!this.hr.tile){var s,u=this.fi[""+r.scene.mid]=!0;for(s in this.fi)this.fi[s]||(u=!1);u&&this.ci&&this.ci()}}if("complete"==t){var f,a=this.fi[""+r.mid]=!0;for(f in this.fi)this.fi[f]||(a=!1);a&&this.ci&&this.ci()}},xi:function(t){var r=x.NONE;return 0!=(t.nr&x.MODEL)&&(r|=x.MODELGROUP),0!=(t.nr&x.LABEL)&&(r|=x.LABELGROUP),0!=(t.nr&x.FACILITY)&&(r|=x.FACILITYGROUP),0!=(t.nr&x.EXTERNALMODEL)&&(r|=x.EXTERNALMODELGROUP),r},gi:function(t){if(Array.isArray(t.rr))return t.rr;var r=this.hr,t=(null!==t.buildingID&&(r={buildingID:t.buildingID,mapID:t.buildingID}),this.ui.getData(r));if(!t)return[];var n,i=[],e=ji(t.getChildren());try{for(e.s();!(n=e.n()).done;){var o=n.value;i.push(o[1].gid)}}catch(t){e.e(t)}finally{e.f()}return i},_i:function(t,r,n,i){if(0!=r)for(var e=0;e<r;e++){if(!t[e].X(n))return!1;t[e].H(n,i)}return!0},Si:function(t,r,n){return{level:t,type:r.getType(),FID:r.fid,name:r.name,ename:r.ename,eid:r.eid,typeID:r.type,center:void 0!==r.getCenter?Object.assign({z:r.height},r.getCenter()):Object.assign({z:r.height},r.getCoordinates()[0]),distance:n.bt}},ji:function(t){t.sort(function(t,r){return t.level==r.level&&t.type==r.type&&t.distance&&r.distance?t.distance-r.distance:0})},di:function(t,r,n){var i=this.hr,i=(null!==t.buildingID&&(i={buildingID:t.buildingID,mapID:t.buildingID}),this.ui.getData(i));if(!i)return[];var e=this.gi(t),o=this.xi(t);if(o===x.NONE)return[];var s,u=t.sr,f=u.length,a=[],h=ji(i.getChildren());try{for(h.s();!(s=h.n()).done;){var c=s.value,l=c[0];if(-1!==e.indexOf(l)){var v,y=ji(c[1].getChildren());try{for(y.s();!(v=y.n()).done;){var b=v.value[1];if(0!=(b.getType()&o)){var d,p=ji(b.getChildren());try{for(p.s();!(d=p.n()).done;){var m=d.value[1],w={bt:void 0};this._i(u,f,m,w)&&a.push(this.Si(l,m,w))}}catch(t){p.e(t)}finally{p.f()}}}}catch(t){y.e(t)}finally{y.f()}}}}catch(t){h.e(t)}finally{h.f()}return a},pi:function(t){for(var r=null,n=this.ar,i=0;i<n.length;i++)if(n[i].bid===t){r=n[i].mid;break}return r}}),{NaviNodeType_NULL:-1,NaviNodeType_COMMON:0,NaviNodeType_SIDE:1,NaviNodeType_FLOOR:2,NaviNodeType_EXTENT:3,NaviLiftType_NULL:0,NaviLiftType_Lift:1,NaviLiftType_Stair:2,NaviLiftType_Escalator:3,NaviLiftType_Accessible:4,NaviLiftType_Ramp:5,NaviLiftEntry_BOTH:0,NaviLiftEntry_UP:1,NaviLiftEntry_DOWN:2,NaviLiftEntry_FORBID:3,NaviEntranceType_NULL:0,NaviEntranceType_EXIT:1,NaviEntranceType_ENTRANCE:2,NaviEntranceType_ACCESS:3,NaviRoadRank_MAIN:1,NaviRoadRank_MINOR:2,NaviRoadRank_NARROW:3,NaviRoadEntry_BOTH:0,NaviRoadEntry_FORWARD:1,NaviRoadEntry_BACK:2,NaviRoadEntry_FORBID:3,NaviRoadPass_NULL:-1,NaviRoadPass_NOT_THROUGH:0,NaviRoadPass_THROUGH:1,NaviZoneType_NULL:-1,NaviZoneType_PASS_UNRESTRAINT:0,NaviZoneType_PASS_THROUGH:1,NaviZoneType_PASS_NOT_THROUGH:2,NaviZoneType_NO_ENTRY:3,NaviZoneType_CORRIDOR:4,NaviModelPassType_PASS_THROUGH:0,NaviModelPassType_PASS_NOT_THROUGH:1,NaviModelPassType_NOT_PASS:2,NaviModelPassType_DECORATE:3,NaviRoadHinderType_HINDER_GENERAL:0,NaviRoadHinderType_HINDER_HIGH:1,NaviObstructType_MODEL:0,NaviObstructType_EXTENT:1}),j={Drive:1,Walk:0},Ri={Entry_BOTH:0,Entry_FORWARD:1,Entry_BACK:2,Entry_FORBID:3};function Mi(t){return(Mi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ni(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,function(t){t=function(t,r){if("object"!==Mi(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0===n)return("string"===r?String:Number)(t);n=n.call(t,r||"default");if("object"!==Mi(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"===Mi(t)?t:String(t)}(i.key),i)}}var o=function(){function e(t,r,n,i){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.Oi=t,this.Ei=r,this.Ti=n||[],this.Ri=i||[]}var t,r,n;return t=e,(r=[{key:"level",get:function(){return this.Oi}},{key:"length",get:function(){return this.Ei}},{key:"pointList",get:function(){for(var t=[],r=0,n=this.Ti.length;r<n;r++)t.push({x:this.Ti[r].x,y:this.Ti[r].y,level:this.Oi});return t}}])&&Ni(t.prototype,r),n&&Ni(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),ki=(Object.assign(o.prototype,{vr:function(){this.Ti=[],this.Ri=[]}}),o);function Ai(t){return(Ai="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ii(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,function(t){t=function(t,r){if("object"!==Ai(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0===n)return("string"===r?String:Number)(t);n=n.call(t,r||"default");if("object"!==Ai(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"===Ai(t)?t:String(t)}(i.key),i)}}var Z=function(){function o(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,i=this,e=o;if(!(i instanceof e))throw new TypeError("Cannot call a class as a function");Object.defineProperty(this,"isVector3",{value:!0}),this.x=t,this.y=r,this.z=n}var t,r,n;return t=o,(r=[{key:"set",value:function(t,r,n){return void 0===n&&(n=this.z),this.x=t,this.y=r,this.z=n,this}},{key:"clone",value:function(){return new this.constructor(this.x,this.y,this.z)}},{key:"copy",value:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this}},{key:"sub",value:function(t,r){return void 0!==r?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,r)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this)}},{key:"subVectors",value:function(t,r){return this.x=t.x-r.x,this.y=t.y-r.y,this.z=t.z-r.z,this}},{key:"multiplyScalar",value:function(t){return this.x*=t,this.y*=t,this.z*=t,this}},{key:"dot",value:function(t){return this.x*t.x+this.y*t.y+this.z*t.z}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y+this.z*this.z}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}},{key:"cross",value:function(t,r){return void 0!==r?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(t,r)):this.crossVectors(this,t)}},{key:"crossVectors",value:function(t,r){var n=t.x,i=t.y,t=t.z,e=r.x,o=r.y,r=r.z;return this.x=i*r-t*o,this.y=t*e-n*r,this.z=n*o-i*e,this}},{key:"angleTo",value:function(t){var r=Math.sqrt(this.lengthSq()*t.lengthSq());return 0===r?Math.PI/2:(t=this.dot(t)/r,r=Math.max(-1,Math.min(1,t)),Math.acos(r))}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"divideScalar",value:function(t){return this.multiplyScalar(1/t)}}])&&Ii(t.prototype,r),n&&Ii(t,n),Object.defineProperty(t,"prototype",{writable:!1}),o}();function Pi(t){return(Pi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Li(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,function(t){t=function(t,r){if("object"!==Pi(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0===n)return("string"===r?String:Number)(t);n=n.call(t,r||"default");if("object"!==Pi(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"===Pi(t)?t:String(t)}(i.key),i)}}function Di(t,r,n){return r&&Li(t.prototype,r),n&&Li(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var o=Di(function t(){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this.$r=0,this.tr={},this.nr=0,this.Mi=[],this.Ni=[],this.ki=0,this.Ai=[],this.Ii=!1,this.Pi=!1,this.Li=0,this.Di=!1,this.Fi=[]}),L=(Object.assign(o.prototype,{set Ci(t){-1!=t&&(this.nr|=t)},get Ci(){return 3&this.nr},set Ui(t){this.nr|=t<<2},get Ui(){return this.nr>>2&7},set Bi(t){this.nr|=t<<5},get Bi(){return this.nr>>5&3},yi:function(t){this.$r=t,this.tr={x:0,y:0},this.nr=0,this.ki=0,this.Ii=!1,this.Pi=!1},Gi:function(t){return this.$r==t.$r},Wi:function(t){this.$r=t.$r,this.tr=Object.assign({},t.tr),this.nr=t.nr,this.Mi=[];for(var r=0;r<t.Mi.length;r++)this.Mi[r]=t.Mi[r];this.Ni=[];for(var n=0;n<t.Ni.length;n++)this.Ni[n]=t.Ni[n];this.ki=t.ki,this.Ai=[];for(var i=0;i<t.Ai.length;i++)this.Ai[i]=t.Ai[i];this.Ii=t.Ii,this.Pi=t.Pi}}),o);function Fi(t){return(Fi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ci(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,function(t){t=function(t,r){if("object"!==Fi(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0===n)return("string"===r?String:Number)(t);n=n.call(t,r||"default");if("object"!==Fi(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"===Fi(t)?t:String(t)}(i.key),i)}}function Ui(t,r){return(Ui=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t})(t,r)}function Bi(n){var i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,r=Gi(n),r=(t=i?(t=Gi(this).constructor,Reflect.construct(r,arguments,t)):r.apply(this,arguments),this);if(t&&("object"===Fi(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==r)return r;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function Gi(t){return(Gi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Wi=function(){var t=o,r=L;if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&Ui(t,r);var n,i,e=Bi(o);function o(){var t;if(this instanceof o)return(t=e.call(this)).Zi=0,t.Oi=0,t.Vi=null,t.Li=0,t.Yi=null,t.Ui=null,t;throw new TypeError("Cannot call a class as a function")}return t=o,n&&Ci(t.prototype,n),i&&Ci(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}();function Zi(t){return(Zi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Vi(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,function(t){t=function(t,r){if("object"!==Zi(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0===n)return("string"===r?String:Number)(t);n=n.call(t,r||"default");if("object"!==Zi(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"===Zi(t)?t:String(t)}(i.key),i)}}function Yi(t,r,n){return r&&Vi(t.prototype,r),n&&Vi(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var o=Yi(function t(){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this.$r=0,this.zi=-1,this.Xi={},this.qi=-1,this.Hi={},this.Ei=0,this.nr=0,this.Qi=[],this.Ki=-1,this.Ji=!1,this.$i=0}),D=(Object.assign(o.prototype,{set te(t){this.nr|=t},get te(){return 3&this.nr},set re(t){this.nr|=t<<2},get re(){return this.nr>>2&3},set ne(t){this.nr|=t<<4},get ne(){return this.nr>>4&3},set ie(t){t?this.nr|=16:this.nr&=-17},get ie(){return 16&this.nr?1:0},ee:function(t){this.$r=t.$r,this.zi=t.zi,this.Xi=Object.assign({},t.Xi),this.qi=t.qi,this.Hi=Object.assign({},t.Hi),this.Ei=t.Ei,this.nr=t.nr,this.Qi=[],this.Ki=t.Ki;for(var r=0;r<t.Qi.Ei;r++)this.Qi[r]=t.Qi[r]},oe:function(){this.Ei=W.distanceOfTwoPoints(this.Xi,this.Hi)},se:function(){var t=this.Xi.x-this.Hi.x,r=this.Xi.y-this.Hi.y;this.Ei=Math.abs(t)+Math.abs(r)},ue:function(){var t={};return t.x=(this.Xi.x+this.Hi.x)/2,t.y=(this.Xi.y+this.Hi.y)/2,t}}),o);function zi(t){return(zi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Xi(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,function(t){t=function(t,r){if("object"!==zi(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0===n)return("string"===r?String:Number)(t);n=n.call(t,r||"default");if("object"!==zi(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"===zi(t)?t:String(t)}(i.key),i)}}var o=function(){function e(t,r,n,i){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.$r=t,this.Oi=r||-1,this.nr=n,this.fe=i,this.ae=i&&i.length?i.length-1:0,this.he=0,this.ce=null,this.le=null,this.ve=[],this.ye=[],this.be=null,this.Ht=new Jt,this.Ht.Vt(this.fe)}var t,r,n;return t=e,(r=[{key:"_pass",get:function(){return 3&this.nr},set:function(t){this.nr|=t}},{key:"_area",get:function(){return null==this.be&&(this.be=W.St(this.fe,this.ae)),this.be}}])&&Xi(t.prototype,r),n&&Xi(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),qi=(Object.assign(o.prototype,{de:function(t){return!!W.ht(t,this.Ht.Gt,this.Ht.Wt)&&W.vt(this.fe,t,this.ae)},jt:function(t,r){for(var n={},i=0;i<this.ae;i++){var e=this.fe[i],o=this.fe[(i+1)%this.ae];if(1==W.jt(e,o,t,r,n))break}return n}}),o);function Hi(t){return(Hi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Qi(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,function(t){t=function(t,r){if("object"!==Hi(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0===n)return("string"===r?String:Number)(t);n=n.call(t,r||"default");if("object"!==Hi(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"===Hi(t)?t:String(t)}(i.key),i)}}var o=function(){function s(t,r,n,i,e,o){if(!(this instanceof s))throw new TypeError("Cannot call a class as a function");this.$r=t,this.pe="",this.fe=i,this.ae=i&&i.length?i.length-1:0,this.zt=e,this.me=o,this.nr=n,this.Oi=r,this.we=[],this.xe=[],this.ge=[],this.ce=null,this.le=null,this.ve=[],this._e=0,this.he=0,this.be=null,this.Se=!1,this.Ht=new Jt,this.Ht.Vt(this.fe)}var t,r,n;return t=s,(r=[{key:"pass",get:function(){return 3&this.nr},set:function(t){this.nr|=t}},{key:"area",get:function(){return null==this.be&&(this.be=W.St(this.fe,this.ae)),this.be}}])&&Qi(t.prototype,r),n&&Qi(t,n),Object.defineProperty(t,"prototype",{writable:!1}),s}(),Ki=(Object.assign(o.prototype,{de:function(t){if(this.me)for(var r=0;r<this.me.length;r++)if(W.vt(t,this.me[r],this.me[r].length-1))return!1;return W.vt(t,this.fe,this.ae)}}),o);function Ji(t){return(Ji="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function $i(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,function(t){t=function(t,r){if("object"!==Ji(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0===n)return("string"===r?String:Number)(t);n=n.call(t,r||"default");if("object"!==Ji(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"===Ji(t)?t:String(t)}(i.key),i)}}function te(t,r){return(te=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t})(t,r)}function re(n){var i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,r=ne(n),r=(t=i?(t=ne(this).constructor,Reflect.construct(r,arguments,t)):r.apply(this,arguments),this);if(t&&("object"===Ji(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==r)return r;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function ne(t){return(ne=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var o=function(){var t=o,r=L;if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&te(t,r);var n,i,e=re(o);function o(){var t;if(this instanceof o)return(t=e.call(this)).Oi=0,t.Ki=-1,t.je=[],t.Vi=null,t;throw new TypeError("Cannot call a class as a function")}return t=o,n&&$i(t.prototype,n),i&&$i(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}(),ie=(Object.assign(o.prototype,{Oe:function(t,r,n){if(!t)return[];var i=[];n=n||this.je;for(var e=0;e<n.length;e++){var o=n[e];t==o.Ui&&(r&&(o.Li=o.Li+r),i.push(o))}return i}}),o);function ee(t){return(ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function oe(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,function(t){t=function(t,r){if("object"!==ee(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0===n)return("string"===r?String:Number)(t);n=n.call(t,r||"default");if("object"!==ee(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"===ee(t)?t:String(t)}(i.key),i)}}var se=function(){function e(t,r,n,i){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.Oi=0,this.nr=i,this.Ee=t,this.Te=r,this.Re=[],this.Me=[],this.Ne=[],this.ke=[],this.Ae=new Map,this.Ie=new Map,this.Pe=[],this.Le=new Map,this.De=new Map,this.Fe=0,this.Ce=0,this.Ue()}var t,r,n;return t=e,(r=[{key:"queryContainIdOfExtent",value:function(t){return this.Be(t)}},{key:"queryContainExtentID",value:function(t){return this.Ge(t)}}])&&oe(t.prototype,r),n&&oe(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),F=(Object.assign(se.prototype,{vr:function(){this.Ee=null,this.Te=null,this.Re=null,this.Me=null,this.Ne=null,(this.ke=null)!=this.Ae&&(this.Ae.clear(),this.Ae=null),null!=this.Ie&&(this.Ie.clear(),this.Ie=null),(this.Pe=null)!=this.Le&&(this.Le.clear(),this.Le=null),null!=this.De&&(this.De.clear(),this.De=null)},We:function(){this.ke=[];for(var t=0;t<this.Me.length;t++){var r=this.Me[t].toZone();this.ke.push(r)}for(var n=0;n<this.Re.length;n++){var i=this.Me[n].toZone();this.ke.push(i)}},Ze:function(t){for(var r=0;r<this.ke.length;r++){var n=this.ke[r];if(n&&n.$r==t)return n}return null},Ve:function(t){for(var r=0;r<this.ke.length;r++){var n=this.ke[r];if(n&&1==n.contain(t))return n}return null},Be:function(t){if(0!==this.Me.length&&t)for(var r=0,n=this.Me.length;r<n;r++){var i=this.Me[r];if(i.de(t))return i.$r}return 0},Ge:function(t){if(0!==this.Me.length&&t)for(var r=0,n=this.Me.length;r<n;r++){var i=this.Me[r];if(i.de(t))return i.Ki}return 0},Ye:function(t,r){if(0!=this.Ne.length&&t&&r)for(var n=0;n<this.Ne.length;n++)if(this.Ne[n].isCross(t,r))return!0;return!1},Ue:function(){this.Fe=0;for(var t=this.Ce=0;t<this.Te.length;)null==this.Te[t]?this.Te.splice(t,1):(this.Te[t].$r>this.Ce&&(this.Ce=this.Te[t].$r),t++);for(var r=0;r<this.Ee.length;)null==this.Ee[r]?this.Ee.splice(r,1):(this.Ee[r].$r>this.Fe&&(this.Fe=this.Ee[r].$r),r++)},ze:function(t){t=this.Le.get(t);return void 0===t?null:t},Xe:function(t){t=this.De.get(t);return void 0===t?null:t},qe:function(t){for(var r=Number.MAX_VALUE,n=null,i=0;i<this.Me.length;++i){var e=this.Me[i];e.contain(t)&&e.area<r&&(r=cur_area,n=e)}for(var o=0;o<this.Re.size();++o){var s=this.Re[o];s.contain(t)&&s.area<r&&(r=cur_area,n=s)}return n||null},He:function(t){for(var r=Number.MAX_VALUE,n=null,i=0;i<this.Re.length;++i){var e=this.Re[i];e.de(t)&&e.area<r&&(r=e.area,n=e)}return n||null},Qe:function(){return++this.Fe},Ke:function(){return++this.Ce},Je:function(t){this.Fe=t},$e:function(t){this.Ce=t},ro:function(){for(var t=0;t<this.Ee.length;t++){var r=this.Ee[t];r&&(r instanceof ie?this.Le.set(r.Ki,t):this.Le.set(r.$r,t))}},no:function(){for(var t=0;t<this.Te.length;t++){var r=this.Te[t];r&&this.De.set(r.$r,t)}},io:function(){for(var e=this,o=(this.Ie.clear(),0);o<this.Te.length;o++)!function(){var r=e.Te[o];if(null==r)return;var t,n,i=r.re;P.NaviRoadEntry_BOTH!=i&&P.NaviRoadEntry_FORWARD!=i||(t=r.zi,(n=e.Ie.get(t))||e.Ie.set(t,n=[]),null==n.find(function(t){return t.eo==r.qi})&&n.push({eo:r.qi,Ei:r.Ei})),P.NaviRoadEntry_BOTH!=i&&P.NaviRoadEntry_BACK!=i||(t=r.qi,(n=e.Ie.get(t))||e.Ie.set(t,n=[]),null==n.find(function(t){return t.eo==r.zi})&&n.push({eo:r.zi,Ei:r.Ei}))}()},oo:function(t){for(var r=0;r<this.Ee.length;r++)if(this.Ee[r].$r==t)return r;return-1},so:function(t){for(var r=9;r<this.Te.length;r++)if(this.Te[r].$r==t)return r;return-1},uo:function(t){for(var r=[],n=this.Te,i=0;i<n.length;i++){var e=n[i],o=e.Xi,s=e.Hi,u=[];t.fo([o,s],u)?r.push({road:e,crss:u,index:i}):t.ao(o)&&r.push({road:e,crss:[],index:i})}return r},ho:function(t){for(var r=null,n=Number.MAX_VALUE,i=0;i<this.Re.length;i++){var e=this.Re[i];W.vt(t,e.fe,e.ae)&&n>e.area&&(n=(r=e).area)}return r},co:function(t){for(var r=-1,n=0;n<this.ke.length;n++){var i=this.ke[n];if(W.vt(t,i.fe,i.ae)){r=i.$r;break}}return r},vo:function(){var t=this.Re.length,t=parseInt(Math.random()*t);return this.Re[t]},yo:function(){for(var t=0;t<this.Pe.length;t++)this.Pe[t]=!1},bo:function(){for(var t=[],r=0;r<this.Ee.length;r++){var n=this.Ee[r];n.Ui!=P.NaviLiftType_NULL&&t.push(n)}return t},do:function(t){for(var r=null,n=0;n<this.Me.length;n++)if(t==this.Me[n].$r){r=this.Me[n];break}if(!r)return null;for(var i=[],e=0;e<this.Ee.length;e++){var o=this.Ee[e];W.vt(o.tr,r.fe,r.ae)&&i.push(o)}for(var s=[],u=0;u<this.Te.length;u++){var f=this.Te[u];W.vt(f.Xi,r.fe,r.ae)&&s.push(f)}for(var a=[],h=0;h<this.Re.length;h++){var c=this.Re[h];W.vt(c.zt,r.fe,r.ae)&&a.push(c)}var l=new se(i,s,!0,1);return l.Re=a,l.Me=[r],l}}),se);function ue(t){return(ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function fe(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,function(t){t=function(t,r){if("object"!==ue(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0===n)return("string"===r?String:Number)(t);n=n.call(t,r||"default");if("object"!==ue(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"===ue(t)?t:String(t)}(i.key),i)}}function ae(t,r,n){return r&&fe(t.prototype,r),n&&fe(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var o=ae(function t(){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this.po=null}),he=(Object.assign(o.prototype,{vr:function(){this.po=null},mo:function(t){this.po=t},wo:function(t,r){var n=null;return 0==r?n=Bn.Xr(t):1==r?n=Bn.qr(t):2==r&&(n=Bn.Hr(t)),{points:n[0],holes:n.slice(1)}},xo:function(t,r,n){var i=null;return 0==n?i=Dn.Xr(t,r):1==n?i=Dn.qr(t,r):2==n&&(i=Dn.Hr(t,r)),{points:i[0],holes:i.slice(1)}},_o:function(t){if(t&&"string"!=typeof t)for(var r in t){var n=t[r];if("vertices"==r||"vertex"==r)for(var i in n)i%2==0&&(n[i]=-n[i]);else"scene_data"==r?(n.x=-n.x,n.defCenX=-n.defCenX):this._o(n)}},So:function(t){var r,n;return""!=t&&t?(r=[],n=[],0<=(t=t).indexOf("|")||0<=t.indexOf("-")||0<=t.indexOf(",")?(n=t.split(/[|,-]/),r.push.apply(r,n)):r.push(t),r):[]},jo:function(t,r,n,i){for(var e={},o=[],s=[],u=[],f=[],a=[],h=this.po.fileVer,c=i.naviExtents&&0<i.naviExtents.length?i.naviExtents:r.extentLayer,l=0,v=c.length;l<v;l++){var y=c[l],b=null,b=1===h?this.wo(y.geo,2):this.xo(y.idxs,y.pts,2),y={eid:y.id||y.eid,geoArr:b.points,holes:b.holes};s.push(y)}for(var d=0,p=r.labelLayer.length;d<p;d++)e[r.labelLayer[d].eid]=r.labelLayer[d];for(var m=0,w=r.modelLayer.length;m<w;m++){var x=r.modelLayer[m],g=n.modelLayer[m],_={},g=(_.fid=g.fid,_.eid=x.eid,_.pass=g.pass,_.zt=(1===h?this.wo(e[x.eid].geo,0):this.xo(e[x.eid].idxs,e[x.eid].pts,0)).points,null),g=1===h?this.wo(x.geo,2):this.xo(x.idxs,x.pts,2);_.geoArr=g.points,_.holes=g.holes,o.push(_)}if(i&&i.naviNodes)for(var S=0,j=i.naviNodes.length;S<j;S++){var O=i.naviNodes[S];O.geoArr=(1===h?this.wo(O.geo,0):this.xo(O.idxs,O.pts,0)).points,O.linkSegArr=this.So(O.linkSeg),O.liftFloorArr=this.So(O.liftFloor),u.push(O)}if(i&&i.naviSegments)for(var E=0,T=i.naviSegments.length;E<T;E++){var R=i.naviSegments[E];R.geoArr=(1===h?this.wo(R.geo,1):this.xo(R.idxs,R.pts,1)).points,R.m_Id=i.mid,f.push(R)}if(i&&i.naviZones)for(var M=0,N=i.naviZones.length;M<N;M++){var k=i.naviZones[M],A=null,A=1===h?this.wo(k.geo,2):this.xo(k.idxs,k.pts,2);k.geoArr=A.points,k.holes=A.holes,k.m_Id=i.mid,a.push(k)}return{level:t,extentLayer:s,modelLayer:o,naviSegments:f,naviNodes:u,naviZones:a}}}),o);function ce(t){return(ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function le(t,r){var n,i,e,o,s="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(s)return i=!(n=!0),{s:function(){s=s.call(t)},n:function(){var t=s.next();return n=t.done,t},e:function(t){i=!0,e=t},f:function(){try{n||null==s.return||s.return()}finally{if(i)throw e}}};if(Array.isArray(t)||(s=function(t,r){var n;if(t)return"string"==typeof t?ve(t,r):"Map"===(n="Object"===(n=Object.prototype.toString.call(t).slice(8,-1))&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ve(t,r):void 0}(t))||r&&t&&"number"==typeof t.length)return s&&(t=s),o=0,{s:r=function(){},n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:r};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function ve(t,r){(null==r||r>t.length)&&(r=t.length);for(var n=0,i=new Array(r);n<r;n++)i[n]=t[n];return i}function ye(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,function(t){t=function(t,r){if("object"!==ce(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0===n)return("string"===r?String:Number)(t);n=n.call(t,r||"default");if("object"!==ce(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"===ce(t)?t:String(t)}(i.key),i)}}function be(t,r,n){return r&&ye(t.prototype,r),n&&ye(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var o=be(function t(r){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this.Oo=r,this.Eo=null,this.To=null,this.Ro=-1,this.Mo=-1,this.No=_.MODULE_SHORTEST,this.ko=[],this.Oo.ro(),this.Oo.no(),this.Oo.io(),this.Ao=5e-4,this.Io=0}),de=(Object.assign(o.prototype,{Po:function(t,r){if(null!=this.Oo.Ee&&0!=this.Oo.Ee.length&&this.Oo.Ee[0]instanceof ie){this.Io=10;for(var i={},n=0;n<this.Oo.Ee.length;n++){var e=this.Oo.Ee[n],o=e.Lo.fe,s=o.length-1,u=this.Oo.Ee[n].Ki,s=(i[u]=[1,1,Number.MAX_VALUE],W.vt(t,o,s)&&(i[u][0]=0,t.level==e.Oi)&&e.Ki,W.vt(r,o,s)&&(i[u][1]=0,r.level==e.Oi)&&e.Ki,W.Ft(o)),e=W.bt(t,s)+W.bt(r,s);i[u][2]=e}var f,a=this.Oo.Ie,h=le(a.keys());try{for(h.s();!(f=h.n()).done;){var c=f.value;a.get(c).sort(function(t,r){var n=i[t.eo][0]+i[t.eo][1]-(i[r.eo][0]+i[r.eo][1]);return 0==n?i[t.eo][2]-i[r.eo][2]:n})}}catch(t){h.e(t)}finally{h.f()}}},Do:function(t,r,n,i,e){this.Fo(n),this.Eo=t,this.To=r,this.Po(i,e),this.Ro=t.$r,this.Mo=r.$r;n=this.Oo.ze(this.Ro);return null!=n&&null!=(i=this.Oo.ze(r.$r))&&((e=[]).push(i),this.Co(this.Oo,n,e))?A.ROUTE_SUCCESS:A.ROUTE_FAILED_CANNOT_ARRIVE},Uo:function(t,r,n,i){n&&i&&this.Po(n,i),this.Ro=t,this.Mo=r;n=this.Oo.ze(t);return null!=n&&null!=(i=this.Oo.ze(r))&&((t=[]).push(i),this.Co(this.Oo,n,t))?A.ROUTE_SUCCESS:A.ROUTE_FAILED_CANNOT_ARRIVE},Bo:function(){var t=[],r=this.Oo.ze(this.Mo),n=[],r=(n.push(r),[]);return this.Go(n,this.Oo.Ee,r,[]),t.push.apply(t,r),t},vr:function(){this.Oo.vr(),this.Oo=null,this.Eo=null,this.To=null},Co:function(t,r,n){if(null==t)return!1;var i=t.Ee.length;if(r<0||i<=r)return!1;this.Wo(n,r);for(var e=0;e<i;++e)t.Ee[e].Li=Number.MAX_VALUE,t.Ee[e].Di=!1,t.Ee[e].Fi=[];t.Ee[r].Li=0;for(var o=n.length,s=0,u=[],f=(u.push(t.Ee[r]),this.Zo.bind(this));0<u.length;){var a=null,a=u[0]instanceof ie?u[0].Ki:u[0].$r,h=(u.splice(0,1),t.ze(a));if(null!=h){var c=t.Ee[h];if(!c.Di){c.Di=!0;var l=n.indexOf(h);if(-1!=l&&++s==o)return!0;if(0!=t.Ie.size){var v=t.Ie.get(a);if(v)for(var y=0;y<v.length;y++){var b,d,p=v[y],m=p.eo,m=t.ze(m);null==m||(p=p.Ei,b=t.Ee[m],d=this.Io+p+c.Li,d=Number(d.toFixed(3)),b.Di)||(b.Li>d?(b.Li=d,b.Fi=[],b.Fi.push(h),u.push(t.Ee[m]),u.sort(f)):Math.abs(b.Li-(p+c.Li))<1e-12&&-1==b.Fi.indexOf(h)&&b.Fi.push(h))}}}}}return!(s<o)},Zo:function(t,r){return t.Li-r.Li},Wo:function(t,r){for(var n=t.indexOf(r);-1!=n;)t.splice(n,1),n=t.indexOf(r)},Fo:function(t){if(this.No!=t){for(var r={},n=0;n<this.Oo.Te.length;n++){var i=this.Oo.Te[n],e=i.zi,o=i.qi,i=i.te;r.hasOwnProperty(e)||(r[e]={}),r[e][o]=i,r.hasOwnProperty(o)||(r[o]={}),r[o][e]=i}if(_.MODULE_SHORTEST==t){var s,u=le(this.Oo.Ie.keys());try{for(u.s();!(s=u.n()).done;){var f,a=s.value,h=le(this.Oo.Ie.get(a));try{for(h.s();!(f=h.n()).done;){var c=f.value,l=c.eo,v=r[a][l];c.Ei=c.Ei/v}}catch(t){h.e(t)}finally{h.f()}}}catch(t){u.e(t)}finally{u.f()}}else if(_.MODULE_BEST==t){var y,b=le(this.Oo.Ie.keys());try{for(b.s();!(y=b.n()).done;){var d,p=y.value,m=le(this.Oo.Ie.get(p));try{for(m.s();!(d=m.n()).done;){var w=d.value,x=w.eo,g=r[p][x];w.Ei=w.Ei*g}}catch(t){m.e(t)}finally{m.f()}}}catch(t){b.e(t)}finally{b.f()}}this.No=t}},Vo:function(t,r,n,i){0!=r[t].Fi.length&&(t=r[t].Fi[0],n.push(r[t]),i.count++,this.Vo(t,r,n,i))},Go:function(t,r,n,i){for(var e=0;e<t.length;e++){var o=t[e],s=(n.push(r[o]),{count:1});this.Vo(o,r,n,s),i.push(s.count)}}}),o);function pe(t){return(pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function me(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,function(t){t=function(t,r){if("object"!==pe(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0===n)return("string"===r?String:Number)(t);n=n.call(t,r||"default");if("object"!==pe(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"===pe(t)?t:String(t)}(i.key),i)}}function we(t,r){return(we=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t})(t,r)}function xe(n){var i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,r=ge(n),r=(t=i?(t=ge(this).constructor,Reflect.construct(r,arguments,t)):r.apply(this,arguments),this);if(t&&("object"===pe(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==r)return r;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function ge(t){return(ge=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var _e=function(){var t=o,r=Ki;if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&we(t,r);var n,i,e=xe(o);function o(){var t;if(this instanceof o)return(t=e.call(this)).$r=-1,t.Yo=[],t;throw new TypeError("Cannot call a class as a function")}return t=o,n&&me(t.prototype,n),i&&me(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}();function Se(t){return(Se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function je(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,function(t){t=function(t,r){if("object"!==Se(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0===n)return("string"===r?String:Number)(t);n=n.call(t,r||"default");if("object"!==Se(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"===Se(t)?t:String(t)}(i.key),i)}}function Oe(t,r,n){return r&&je(t.prototype,r),n&&je(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var Ee=Oe(function t(){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this.st=null,this.zo=null,this.Xo=null,this.bt=0,this.qo=!1,this.Ho=P.NaviObstructType_MODEL});function C(t,r){var n,i,e,o,s="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(s)return i=!(n=!0),{s:function(){s=s.call(t)},n:function(){var t=s.next();return n=t.done,t},e:function(t){i=!0,e=t},f:function(){try{n||null==s.return||s.return()}finally{if(i)throw e}}};if(Array.isArray(t)||(s=Te(t))||r&&t&&"number"==typeof t.length)return s&&(t=s),o=0,{s:r=function(){},n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:r};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function U(t){return function(t){if(Array.isArray(t))return Re(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Te(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Te(t,r){var n;if(t)return"string"==typeof t?Re(t,r):"Map"===(n="Object"===(n=Object.prototype.toString.call(t).slice(8,-1))&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Re(t,r):void 0}function Re(t,r){(null==r||r>t.length)&&(r=t.length);for(var n=0,i=new Array(r);n<r;n++)i[n]=t[n];return i}function Me(t){return(Me="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ne(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,function(t){t=function(t,r){if("object"!==Me(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0===n)return("string"===r?String:Number)(t);n=n.call(t,r||"default");if("object"!==Me(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"===Me(t)?t:String(t)}(i.key),i)}}var o=function(){function r(t){if(!(this instanceof r))throw new TypeError("Cannot call a class as a function");this.$r=null,this.Qo=null,this.Ko=null,this.Oo=t,this.Jo=new Map,this.$o=new Map,this.ts=new Map,this.rs=new Map,this.ns=new Map,this.es=[],this.ss=Number.INT_MIN,this.us=Number.INT_MIN,this.hs=-1,this.Eo=null,this.To=null,this.No=_.MODULE_SHORTEST,this.cs=new Map,this.ls=new Map,this.vs=new Map,this.ys=[],this.bs=[],this.ds=[],this.ps=[],this.ws=100,this.xs=-1,this.gs=15,this._s=.1,this.Ss=[],this.js=[],this.Os=[],this.Es=[],this.Ts=!0,this.Rs=[],this.nr=null,this.Ms(),this.Ns(),this.ks(),this.As(),this.Is(),this.Di=!1,this.Ps=[],this.nr=null}var t,n,i;return t=r,(n=[{key:"assignedPts",get:function(){return this.js},set:function(t){this.js=t}},{key:"obstruct",get:function(){return this.Ts},set:function(t){this.Ts=t}},{key:"level",get:function(){return this.Oi},set:function(t){this.Oi=t}}])&&Ne(t.prototype,n),i&&Ne(t,i),Object.defineProperty(t,"prototype",{writable:!1}),r}(),ke=(Object.assign(o.prototype,{Ls:function(t){var r,n=null==t.Ds?null:t.Ds;t instanceof L?this.Eo=t:(r=new L,this.Fs(t,r,n)||this._failedInsertPts.push(t),this.Eo=r)},Cs:function(t){var r,n=null==t.Ds?null:t.Ds;t instanceof L?this.To=t:(r=new L,this.Fs(t,r,n)||this._failedInsertPts.push(t),this.To=r)},Us:function(t){var r=this.Oo.Me[0].fe;return!!W.vt(t,r,r.length-1)},Do:function(t,r,n){if(this.ss=t instanceof L?this.Bs(t.tr):this.Bs(t),this.us=r instanceof L?this.Bs(r.tr):this.Bs(r),n&&(this.No=n),t instanceof L)if(null!=t.Gs){if(t=t.tr,A.ROUTE_FAILED_NO_START_ARRIVAL==this.Ws(t))return A.ROUTE_FAILED_NO_START_ARRIVAL}else this.Eo=t;else if(A.ROUTE_FAILED_NO_START_ARRIVAL==this.Ws(t))return A.ROUTE_FAILED_NO_START_ARRIVAL;if(r instanceof L)if(null!=r.Gs){if(r=r.tr,A.ROUTE_FAILED_NO_DEST_ARRIVAL==this.Zs(r))return A.ROUTE_FAILED_NO_DEST_ARRIVAL}else this.To=r;else if(A.ROUTE_FAILED_NO_DEST_ARRIVAL==this.Zs(r))return A.ROUTE_FAILED_NO_DEST_ARRIVAL;return null==this.Eo?A.ROUTE_FAILED_NO_DATA_START:null==this.To?A.ROUTE_FAILED_NO_DATA_DEST:this.Vs()},Ys:function(){var t;this.Es=[];for(var r=0;r<this.js.length;r++){var n={x:(n=this.js[r])[0],y:n[1]},i=this.Bs(n),i=this.zs(i,n);this.Es.push(i)}(t=this.es).push.apply(t,U(this.Es))},Bo:function(){return this.es},vr:function(){this.Qo=null,this.Ko=null,this.Oo.vr(),this.Oo=null,this.Jo.clear(),this.Jo=null;var t,r=C(this.$o);try{for(r.s();!(t=r.n()).done;)t.value[1].vr()}catch(t){r.e(t)}finally{r.f()}this.$o.clear(),this.$o=null;var n,i=C(this.rs);try{for(i.s();!(n=i.n()).done;)n.value[1].vr()}catch(t){i.e(t)}finally{i.f()}this.rs.clear(),this.rs=null;var e,o=C(this.ts);try{for(o.s();!(e=o.n()).done;)e.value[1].vr()}catch(t){o.e(t)}finally{o.f()}this.ts.clear(),this.ts=null;var s,u=C(this.ns);try{for(u.s();!(s=u.n()).done;)s.value[1].vr()}catch(t){u.e(t)}finally{u.f()}this.ns.clear(),this.ns=null,this.es=[],this.Eo=null,this.To=null,this.cs.clear(),this.cs=null,this.ls.clear(),this.ls=null,this.vs.clear(),this.ys=[],this.bs=[],this.ds=[],this.ps=[],this.Rs=[],this.Ts=!1},qn:function(){this.es=[],this.Xs(-1),this.Xs(this.ss),this.ss=Number.INT_MIN,this.Xs(this.us),this.us=Number.INT_MIN,this.qs(),this.Ss=[];var t=this.Oo.Te.length;this.hs<-2*t&&(this.hs=-1);for(var r=0;r<this.ys.length;r++){var n=this.ys[r];this.Hs(n.Qs,n.Xo,P.NaviRoadHinderType_HINDER_HIGH)}this.ys=[],this.bs=[],this.ds=[],this.ps=[]},Ks:function(t){this.Rs=t,this.ts.clear(),this.ns.clear();for(var r=0;r<this.Rs.length;r++)for(var n=this.Rs[r],i=this.Js(n),e=0;e<i.length;e++){var o=i[e],s=this.ts.get(o);s||(s=this.$s(this.$o.get(o)),this.ts.set(o,s)),this.tu(s,n)}var u,f=C(this.ts);try{for(f.s();!(u=f.n()).done;){var a=u.value;this.ns.set(a[0],new de(a[1]))}}catch(t){f.e(t)}finally{f.f()}},tu:function(t,r){for(var n=t.uo(r),i=0;i<n.length;i++){var e=n[i],o=new D,s=(o.ee(e.road),o.re);o.re=P.NaviRoadEntry_FORBID,t.Te[e.index]=o,1==e.crss.length&&(r.ao(o.Xi)?this.ru(e.crss[0],this.Qe(),o.Hi,this.Qe(),s,t):this.ru(o.Xi,this.Qe(),e.crss[0],this.Qe(),s,t)),2<=e.crss.length&&(this.ru(o.Xi,this.Qe(),e.crss[0],this.Qe(),s,t),this.ru(e.crss[e.crss.length-1],this.Qe(),o.Hi,this.Qe(),s,t))}var u=new _e;u.$r=this.nu(),u.fe=r.fe,u.pass=P.NaviModelPassType_NOT_PASS,t.Re.push(u)},ru:function(t,r,n,i,e,o){t instanceof L?s=t:((s=new L).$r=r,s.tr=t,o.Ee.push(s)),n instanceof L?u=n:((u=new L).$r=i,u.tr=n,o.Ee.push(u));var s,u,r=new D;r.$r=this.Ke(),r.zi=s.$r,r.Xi=s.tr,r.qi=u.$r,r.Hi=u.tr,r.re=e,r.$r,r.zi,r.Xi.x.toFixed(3),r.Xi.y.toFixed(3),r.qi,r.Hi.x.toFixed(3),r.Hi.y.toFixed(3),o.Te.push(r)},nu:function(){return this.hs--},iu:function(t){var r={Xo:null};if(1!==this.nr){var n=this.Bs(t),i=this.eu(n).He(t,-0);if(i&&(r.Xo=i).pass!=P.NaviModelPassType_NOT_PASS&&(i.pass===P.NaviModelPassType_PASS_THROUGH||i.pass===P.NaviModelPassType_PASS_NOT_THROUGH)){if(0<i.we.length)return r;for(var e={},o=[],s=[],u=this.eu(n).Te,f=!0,a=0;a<i.ae;a++)for(var h=i.fe[a],c=i.fe[a+1],l=0;l<u.length;l++){var v=u[l];1===W.jt(h,c,v.Xi,v.Hi,e)&&P.NaviRoadEntry_FORBID!==v.re&&(f=!1,(v={}).x=e.x,v.y=e.y,o.push(v),s.push(u[l]))}if(!f){i.we=[],i.ge=[],i.xe=[];for(var y=0;y<o.length;y++){var b=s[y],d=this.ou(n,o[y],b);d.su.push(b.$r),d.Ci=P.NaviNodeType_COMMON,b.re===P.NaviRoadEntry_BOTH?d.entranceType=P.NaviEntranceType_ACCESS:W.vt(b.Xi,i.fe,i.ae)?(b.re===P.NaviRoadEntry_FORWARD&&(d.entranceType=P.NaviEntranceType_EXIT),b.re===P.NaviRoadEntry_BACK&&(d.entranceType=P.NaviEntranceType_ENTRANCE)):(b.re===P.NaviRoadEntry_FORWARD&&(d.entranceType=P.NaviEntranceType_ENTRANCE),b.re===P.NaviRoadEntry_BACK&&(d.entranceType=P.NaviEntranceType_EXIT)),i.we.push(d),i.ge.push(d.entranceType),i.xe.push(d.Ci)}}}}return r},uu:function(t){var r,n=null,i=Number.MAX_VALUE,e=C(t.values());try{for(e.s();!(r=e.n()).done;){var o=r.value;0<o.length&&o[0].bt<i&&(n=o[0],i=o[0].bt)}}catch(t){e.e(t)}finally{e.f()}return n},Ws:function(t){for(var r=this,n=0;n<this.Rs.length;n++)if(W.vt(t,this.Rs[n].fe,this.Rs[n].fu))return A.ROUTE_FAILED_NO_DEST_ARRIVAL;if(1===this.nr)return i=this.$o.get(this.ss),(i=this.au(t,i)).road?(i=this.hu(this.ss,i.coords,i.road),void(this.Eo=i)):A.ROUTE_FAILED_NO_START_ARRIVAL;var i=null,e=!0,i=null!=this.Qo&&this.Qo.pass==P.NaviModelPassType_PASS_THROUGH&&0==this.Qo.we.length?this.cu(this.ss,t,30,this.Qo):this.cu(this.ss,t);if(this.Eo=this.zs(this.ss,t),null==this.Qo&&(e=!1),null!=i&&0<i.size){var o,s=!1,u=[],e=!1,f=C(i);try{for(f.s();!(o=f.n()).done;)for(var a=o.value[1],h=0;h<a.length;h++)0!=a[h].zo.re&&(e=!0)}catch(t){f.e(t)}finally{f.f()}var c,l=C(i);try{for(l.s();!(c=l.n()).done;){var v,y=c.value[1],b=y[0].zo,d=this.lu(this.ss,t,b,y,this.Qo);if(0==d.length){var p,m=C(y);try{for(m.s();!(p=m.n()).done;){var w=p.value,x=this.hu(this.ss,w.st,w.zo);this.vu(this.ss,this.Eo,x)}}catch(t){m.e(t)}finally{m.f()}}else Math.abs(d[0].yu)>W.tt()?u.push.apply(u,U(d)):(s=!0,v=this.hu(this.ss,d[0].st,d[0].zo),this.vu(this.ss,this.Eo,v))}}catch(t){l.e(t)}finally{l.f()}s||u.forEach(function(t){t=r.hu(r.us,t.st,t.zo);r.vu(r.ss,r.Eo,t)})}if(e&&null!=this.Qo&&this.Qo.we&&0<this.Qo.we.length)for(var g=null,_=this.$o.get(this.ss),S=0;S<this.Qo.we.length;S++){var g=this.Qo.we[S],j=this.Qo.ge[S];if(j==P.NaviEntranceType_EXIT||j==P.NaviEntranceType_ACCESS){for(var O=this.Qo.me,E=!0,T=0;T<O.length;T++){for(var R=O[T],M=0;M<R.length-1;M++)if(W.ft(t,g.tr,R[M],R[M+1])){E=!1;break}if(0==E)break}if(0!=E){for(var N=0;N<_.Te.length;N++){var k=_.Te[N];if(0!=k.re)if(W.ft(t,g.tr,k.Xi,k.Hi)&&0<k.$r&&0==g.su.includes(k.$r)){E=!1;break}}0!=E&&this.vu(this.ss,this.Eo,g)}}}},Zs:function(t){for(var r=this,n=0;n<this.Rs.length;n++)if(W.vt(t,this.Rs[n].fe,this.Rs[n].fu))return A.ROUTE_FAILED_NO_DEST_ARRIVAL;if(1===this.nr)return i=this.$o.get(this.us),(i=this.au(t,i)).road?(i=this.hu(this.us,i.coords,i.road),void(this.To=i)):A.ROUTE_FAILED_NO_DEST_ARRIVAL;var i=null,e=!0,i=null!=this.Ko&&this.Ko.pass==P.NaviModelPassType_PASS_THROUGH&&0==this.Ko.we.length?this.cu(this.us,t,30,this.Ko):this.cu(this.us,t);if(this.To=this.zs(this.us,t),null==this.Ko&&(e=!1),null!=i&&0<i.size){var o,s=!1,u=[],e=!1,f=C(i);try{for(f.s();!(o=f.n()).done;)for(var a=o.value[1],h=0;h<a.length;h++)0!=a[h].zo.re&&(e=!0)}catch(t){f.e(t)}finally{f.f()}var c,l=C(i);try{for(l.s();!(c=l.n()).done;){var v,y=c.value[1],b=y[0].zo,d=this.lu(this.us,t,b,y,this.Ko);if(0==d.length){var p,m=C(y);try{for(m.s();!(p=m.n()).done;){var w=p.value,x=this.hu(this.us,w.st,w.zo);this.vu(this.us,this.To,x)}}catch(t){m.e(t)}finally{m.f()}}else Math.abs(d[0].yu)>W.tt()?u.push.apply(u,U(d)):(s=!0,v=this.hu(this.us,d[0].st,d[0].zo),this.vu(this.us,this.To,v))}}catch(t){l.e(t)}finally{l.f()}s||u.forEach(function(t){t=r.hu(r.us,t.st,t.zo);r.vu(r.us,r.To,t)})}if(e&&null!=this.Ko&&this.Ko.we&&0<this.Ko.we.length)for(var g=null,_=this.$o.get(this.us),S=0;S<this.Ko.we.length;S++){var g=this.Ko.we[S],j=this.Ko.ge[S];if(j==P.NaviEntranceType_ENTRANCE||j==P.NaviEntranceType_ACCESS){for(var O=this.Ko.me,E=!0,T=0;T<O.length;T++){for(var R=O[T],M=0;M<R.length-1;M++)if(W.ft(t,g.tr,R[M],R[M+1])){E=!1;break}if(0==E)break}if(0!=E){for(var N=0;N<_.Te.length;N++){var k=_.Te[N];if(0!=k.re)if(W.ft(t,g.tr,k.Xi,k.Hi)&&0<k.$r&&0==g.su.includes(k.$r)){E=!1;break}}0!=E&&this.vu(this.us,this.To,g)}}}},Fs:function(t,r,n){var i,e,o=this,s=(t instanceof Array&&2==t.length&&(t={x:t[0],y:t[1]}),null),u=!0,f=this.Oo.ho(t),a=this.Oo.co(t),s=null!=f&&f.pass==P.NaviModelPassType_PASS_THROUGH&&0==f.we.length?this.cu(a,t,30,f):this.cu(a,t);if(1===this.nr)return(h=this.uu(s))?(i=h.zo,e=null,(e=0==(i=this.lu(a,t,i,[h],f)).length?this.hu(a,h.st,h.zo):this.hu(a,i[0].st,i[0].zo)).Ds=void 0!==n&&n,n&&(Object.assign(t,e.tr),e.tr=t),Object.assign(r,e),!0):void 0;var h=this.zs(a,t);if(h.Ds=void 0!==n&&n,Object.assign(r,h),null==f&&(u=!1),0<s.size){var c,u=!1,l=C(s);try{for(l.s();!(c=l.n()).done;)for(var v=c.value[1],y=0;y<v.length;y++)0!=v[y].zo.re&&(u=!0)}catch(t){l.e(t)}finally{l.f()}var b,d=!1,p=[],m=C(s);try{for(m.s();!(b=m.n()).done;){var w,x=b.value[1],g=x[0].zo,_=this.lu(a,t,g,x,f);if(0==_.length){var S,j=C(x);try{for(j.s();!(S=j.n()).done;){var O=S.value,E=this.hu(a,O.st,O.zo);this.vu(a,r,E)}}catch(t){j.e(t)}finally{j.f()}}else Math.abs(_[0].yu)>W.tt()?p.push.apply(p,U(_)):(d=!0,w=this.hu(a,_[0].st,_[0].zo),this.vu(a,r,w))}}catch(t){m.e(t)}finally{m.f()}d||p.forEach(function(t){t=o.hu(a,t.st,t.zo);o.vu(a,r,t)})}if(u&&null!=f&&0<f.we.length){for(var T=!1,R=0;R<f.we.length;R++){var M=f.we[R],N=f.ge[R];N!=P.NaviEntranceType_EXIT&&N!=P.NaviEntranceType_ACCESS||(this.vu(a,r,M),T=!0)}if(!T)return!1}return!0},Vs:function(){var t=this.bu(this.Eo.tr),t=(t&&(this.Hs(this.ss,t,P.NaviRoadHinderType_HINDER_GENERAL),this.ys.push({Qs:this.ss,Xo:t})),this.bu(this.To.tr));if(t&&(this.Hs(this.us,t,P.NaviRoadHinderType_HINDER_GENERAL),this.ys.push({Qs:this.us,Xo:t})),this.es=[],this.ss===this.us){var t=this.du(this.ss),r=t.Do(this.Eo,this.To,this.No);if(r!==A.ROUTE_SUCCESS)return r;r=t.Bo();this.es=[],r.reverse(),(t=this.es).push.apply(t,U(r))}else{if(-1!==this.ss&&-1===this.us){var t=this.pu(this.Eo.tr,this.ss,P.NaviEntranceType_EXIT),r=this.rs.get(this.ss),n=r.Do(this.Eo,t,this.No);if(n!=A.ROUTE_SUCCESS)return n;var i=r.Bo(i),r=this._contain_zoneIdDijkstras.get(-1);if((n=r.Do(t,this.To,this.No))!=A.ROUTE_SUCCESS)return n;t=r.Bo();i.reverse(),t.reverse(),(n=this.es).push.apply(n,U(i)),(r=this.es).push.apply(r,U(t))}if(-1===this.ss&&-1!==this.us){var n=this.pu(this.To.tr,this.us,P.NaviEntranceType_ENTRANCE),i=this.rs.get(this.us),r=i.Do(n,this.To,this.No);if(r!=A.ROUTE_SUCCESS)return r;t=i.Bo(),i=this.rs.get(-1);if((r=i.Do(this.Eo,n,this.No))!=A.ROUTE_SUCCESS)return r;n=i.Bo();n.reverse(),t.reverse(),(r=this.es).push.apply(r,U(n)),(i=this.es).push.apply(i,U(t))}if(-1!==this.ss&&-1!==this.us){r=this.pu(this.Eo.tr,this.ss,P.NaviEntranceType_EXIT),n=this.rs.get(this.ss),i=n.Do(this.Eo,r,this.No);if(i!=A.ROUTE_SUCCESS)return i;var e=n.Bo(e),t=this.pu(this.To.tr,this.us,P.NaviEntranceType_ENTRANCE),n=this.rs(this.us);if((i=n.Do(t,this.To,this.No))!=A.ROUTE_SUCCESS)return i;var o=n.Bo(o),n=this.rs(-1);if((i=n.Do(r,t,this.No))!=A.ROUTE_SUCCESS)return i;r=n.Bo();e.reverse(),r.reverse(),o.reverse(),(t=this.es).push.apply(t,U(e)),(i=this.es).push.apply(i,U(r)),(n=this.es).push.apply(n,U(o))}}return A.ROUTE_SUCCESS},mu:function(t,r,n){for(var i=0;i<r;i++)if(null!=t[i]&&t[i].$r==n)return i;return-1},Bs:function(t){for(var r=this.Oo.ke,n=0;n<r.length;n++){var i=r[n];if(i.de(t))return i.$r}return-1},Ms:function(){for(var t=this.Oo.ke,r=0;r<t.length;r++){var n=t[r],i=this.wu(this.Oo,n);this.$o.set(n.$r,i)}this.$o.set(-1,this.Oo);var e,o=C(this.$o);try{for(o.s();!(e=o.n()).done;){var s=e.value;s[1].Ue(),this.rs.set(s[0],new de(s[1]))}}catch(t){o.e(t)}finally{o.f()}},wu:function(t,r){if(t&&r){for(var n,i=0,e=0,o=t.Te.length,s=t.Ee.length,u=t.Te,f=t.Ee,a=0,h=new Int8Array(o),c=0;c<o;c++)u[c]&&u[c].re!=P.NaviRoadEntry_FORBID&&(n=u[c],i=r.contain(n.Xi),e=r.contain(n.Hi),0==i&&0==e||(a=!0),1==i&&1==e&&(h[c]=1),1==i&&0==e&&(h[c]=2),0==i&&1==e&&(h[c]=3),0==i&&0==e&&(h[c]=4),2==i&&0==e&&(h[c]=6),2==i&&1==e&&(h[c]=7),0==i&&2==e&&(h[c]=8),1==i)&&2==e&&(h[c]=9);if(0==a)return null;for(var l,v,y,b,d,p,m=new Array(s),w=new Array(o),x=0,g=new Int8Array(s),_=h.length,S=0,j=_;S<j;S++)0!=h[S]&&6!=h[S]&&8!=h[S]&&1!=h[S]&&u[S]&&(p=(l=u[S]).re,d=[l.$r],2==h[S]||9==h[S]?(v=null,v=2==h[S]?r.jt(l.Xi,l.Hi):Object.assign({},l.Hi),(y=new L).$r=this.Qe(),y.Ci=P.NaviNodeType_COMMON,y.Ui=P.NaviLiftType_NULL,y.entranceType=P.NaviEntranceType_ACCESS,y.tr=Object.assign({},v),(v=new D).setRoad(l),v.$r=this.Ke(),d.push(v.$r),y.segLinks=d,(b=new L).setNode(y),p==P.NaviRoadEntry_FORWARD?b.entranceType=P.NaviEntranceType_EXIT:p==P.NaviRoadEntry_BACK&&(b.entranceType=P.NaviEntranceType_ENTRANCE),r.ye.push(b),x=this.mu(f,s,v.qi),v.Hi=Object.assign({},b.tr),v.Qi[1]=Object.assign({},b.tr),v.qi=b.$r,v.oe(),w[S]=v,m[x]=b,m[x=this.mu(f,s,v.zi)]=f[x],m[x].segLinks.splice(m[x].segLinks.indexOf(l.$r),1,v.$r),(b=new L).setNode(y),l.zi=b.$r,l.Xi=Object.assign({},b.tr),l.Qi[0]=Object.assign({},b.tr),l.oe(),f[x].segLinks.splice(f[x].segLinks.indexOf(l.$r),1),f.push(b),g[x]=2):3!=h[S]&&7!=h[S]||(v=null,v=3==h[S]?r.jt(l.Xi,l.Hi):Object.assign({},l.Xi),(y=new L).$r=this.Qe(),y.Ci=P.NaviNodeType_COMMON,y.Ui=P.NaviLiftType_NULL,y.entranceType=P.NaviEntranceType_ACCESS,y.tr=Object.assign({},v),(b=new D).setRoad(l),b.$r=this.Ke(),d.push(b.$r),y.segLinks=d,(d=new L).setNode(y),p==P.NaviRoadEntry_FORWARD?d.entranceType=P.NaviEntranceType_ENTRANCE:p==P.NaviRoadEntry_BACK&&(d.entranceType=P.NaviEntranceType_EXIT),r.ye.push(d),x=this.mu(f,s,b.zi),b.Xi=Object.assign({},d.tr),b.Qi[0]=Object.assign({},d.tr),b.zi=d.$r,b.oe(),w[S]=b,m[x]=d,m[x=this.mu(f,s,b.qi)]=f[x],m[x].segLinks.splice(m[x].segLinks.indexOf(l.$r),1,b.$r),(p=new L).setNode(y),l.qi=p.$r,l.Hi=Object.assign({},p.tr),l.Qi[1]=Object.assign({},p.tr),l.oe(),f[x].segLinks.splice(f[x].segLinks.indexOf(l.$r),1),f.push(p),g[x]=2));for(var O,E=0,T=_;E<T;E++)1==h[E]&&(O=u[E])&&(w[E]=O,2!=g[x=this.mu(f,s,O.zi)]&&(m[x]=f[x],g[x]=1),2!=g[x=this.mu(f,s,O.qi)]&&(m[x]=f[x],g[x]=1),u[E]=null);for(var R=0;R<s;R++)1==g[R]&&(f[R]=null);for(var _=new F(m,w,!0,1),M=[],N=t.Re,k=0;k<N.length;k++){var A=N[k];A&&this.xu(A,r)&&M.push(A)}return(t=_.Re).push.apply(t,M),_}},Ns:function(){var t,r=C(this.$o);try{for(r.s();!(t=r.n()).done;)for(var n=t.value,i=n[0],e=n[1].Re,o=0;o<e.length;o++){var s,u=e[o];P.NaviModelPassType_PASS_NOT_THROUGH==u.pass&&((s=this.cs.get(i))||(s=[],this.cs.set(i,s)),s.push(u))}}catch(t){r.e(t)}finally{r.f()}},ks:function(){var t,r=C(this.$o);try{for(r.s();!(t=r.n()).done;)for(var n=t.value,i=n[0],e=n[1].Re,o=0;o<e.length;o++){var s,u=e[o];P.NaviModelPassType_NOT_PASS==u.pass&&((s=this.ls.get(i))||(s=[],this.ls.set(i,s)),s.push(u))}}catch(t){r.e(t)}finally{r.f()}},As:function(){var t,r=C(this.cs);try{for(r.s();!(t=r.n()).done;)for(var n=t.value,i=n[0],e=n[1],o=this.eu(i).Te,s=0;s<e.length;s++){for(var u=e[s],f=0;f<o.length;f++){var a,h=o[f].ue();W.vt(h,u.fe,u.ae)&&(o[f].Ei=o[f].Ei*this.ws,(a=this.vs.get(u.$r))||(a=[],this.vs.set(u.$r,a)),a.push(o[f]))}this.Hs(i,u,P.NaviRoadHinderType_HINDER_HIGH)}}catch(t){r.e(t)}finally{r.f()}},Is:function(){var t,r=C(this.ls);try{for(r.s();!(t=r.n()).done;)for(var n=t.value,i=n[0],e=n[1],o=this.eu(i).Te,s=0;s<e.length;s++)for(var u=e[s],f=0;f<o.length;f++){var a=o[f],h=a.re,c=a.ue();if(W.vt(c,u.fe,u.ae)){if(a.Ei=Number.MAX_VALUE,h==P.NaviRoadEntry_BOTH||h==P.NaviRoadEntry_FORWARD){var l=this.eu(i).Ie.get(a.zi);if(l)for(var v=0;v<l.length;v++)l[v].eo==a.qi&&(l[v].Ei=a.Ei)}if(a.re==P.NaviRoadEntry_BOTH||a.re==P.NaviRoadEntry_BACK){var y=this.eu(i).Ie.get(a.qi);if(y)for(var b=0;b<y.length;b++)y[b].eo==a.zi&&(y[b].Ei=a.Ei)}}}}catch(t){r.e(t)}finally{r.f()}},Hs:function(t,r,n){var i=this.vs.get(r.$r);if(i){if(P.NaviRoadHinderType_HINDER_HIGH==n)for(var e=0;e<i.length;e++){var o=i[e];if(o.oe(),o.Ei=i.length*this.ws,o.re==P.NaviRoadEntry_BOTH||o.re==P.NaviRoadEntry_FORWARD){var s=this.eu(t).Ie.get(o.zi);if(s)for(var u=0;u<s.length;u++)s[u].eo==o.qi&&(s[u].Ei=o.Ei)}if(o.re==P.NaviRoadEntry_BOTH||o.re==P.NaviRoadEntry_BACK){var f=this.eu(t).Ie.get(o.qi);if(f)for(var a=0;a<f.length;a++)f[a].eo==o.zi&&(f[a].Ei=o.Ei)}}if(P.NaviRoadHinderType_HINDER_GENERAL==n)for(var h=0;h<i.length;h++){var c=i[h];if(c.oe(),c.re==P.NaviRoadEntry_BOTH||c.re==P.NaviRoadEntry_FORWARD){var l=this.eu(t).Ie.get(c.zi);if(l)for(var v=0;v<l.length;v++)l[v].eo==c.qi&&(l[v].Ei=c.Ei)}if(c.re==P.NaviRoadEntry_BOTH||c.re==P.NaviRoadEntry_BACK){var y=this.eu(t).Ie.get(c.qi);if(y)for(var b=0;b<y.length;b++)y[b].eo==c.zi&&(y[b].Ei=c.Ei)}}}},pu:function(t,r,n){var i=this.Oo.Ze(r);if(null==i)return null;for(var e=this.eu(r).He(t,void 0),o=(e.area,Number.MAX_VALUE),s=null,u=0;u<i.ye.length;u++){var f,a=i.ye[u],h=W.bt(a.tr,t);a.entranceType!=P.NaviEntranceType_ACCESS&&a.entranceType!=n||h<o&&((f=this.gu(r,a.tr))==e||f.pass!=P.NaviModelPassType_PASS_NOT_THROUGH)&&(o=h,s=a)}return s},gu:function(t,r){for(var n=null,t=this.eu(t),i=Number.MAX_VALUE,e=Number.MAX_VALUE,o=null,s=t.Re,u=0;u<s.length;u++){var f,a=s[u];(f=W._pointToPolygon2d(a.fe,r,a.fe.length-1))<e&&(e=f,o=a),this._s>f&&(f=a.area)<i&&(i=f,n=a)}return null==n?o:n},xu:function(t,r){return!t.bb.isSeparate(r.bb)&&(t=t.zt,!!W.vt(t,r.fe,r.ae))},hu:function(t,r,n){for(var i=this.Ss.find(function(t){return t==n.zi}),e=this.Ss.find(function(t){return t==n.qi}),o=(null==i&&this.Ss.push(n.zi),null==e&&this.Ss.push(n.qi),this.ps),s=null,u=0;u<o.length;u++)if(o[u]._u==n){s=o[u];break}if(null==s)(s={})._u=n,o.push(s);else for(;null!=s.Su;)var f=s.Su._u,s=W.ct(r,f.Xi,f.Hi)?s.Su:s.ju;n=s._u;var i=new L,e=(i.$r=this.nu(),i.tr=r,new D),a=(e.$r=this.nu(),e.zi=n.zi,e.Xi=n.Xi,e.qi=i.$r,e.Hi=i.tr,e.Qi=[n.Xi,i.tr],e.te=n.te,new D),h=(a.$r=this.nu(),a.zi=i.$r,a.Xi=i.tr,a.qi=n.qi,a.Hi=n.Hi,a.Qi=[i.tr,n.Hi],a.te=n.te,this.bs.push(e),this.bs.push(a),{}),c=(h._u=e,{}),h=(c._u=a,s.Su=h,s.ju=c,i.tempType=1,e.tempType=1,a.tempType=1,e.oe(),a.oe(),e.re=n.re,a.re=n.re,this.eu(t)),c=(h.Ee.push(i),h.Te.push(e),h.Te.push(a),this.du(t).Oo);return c.Le.set(i.$r,h.Ee.length-1),n.re==P.NaviRoadEntry_BOTH&&((t=[]).push({eo:n.zi,Ei:e.Ei}),t.push({eo:n.qi,Ei:a.Ei}),c.Ie.set(i.$r,t),(t=c.Ie.get(n.zi))||c.Ie.set(n.zi,t=[]),t.push({eo:i.$r,Ei:e.Ei}),(t=c.Ie.get(n.qi))||c.Ie.set(n.qi,t=[]),t.push({eo:i.$r,Ei:a.Ei})),n.re==P.NaviRoadEntry_FORWARD&&((h=[]).push({eo:n.qi,Ei:a.Ei}),c.Ie.set(i.$r,h),(h=c.Ie.get(n.zi))||c.Ie.set(n.zi,h=[]),h.push({eo:i.$r,Ei:e.Ei})),n.re==P.NaviRoadEntry_BACK&&((t=[]).push({eo:n.zi,Ei:e.Ei}),c.Ie.set(i.$r,t),(t=c.Ie.get(n.qi))||c.Ie.set(n.qi,t=[]),t.push({eo:i.$r,Ei:a.Ei})),i},Ou:function(t,r){for(var n=r.length-1;0<=n;n--)if(r[n].$r&&0<r[n].$r)return r.splice(n+1,0,t),n+1;return-1},ou:function(t,r,n,i){var e,o,s;return i?this.hu(t,r,n):(i=this.eu(t),(t=new L).$r=this.Qe(),t.tr=r,(r=new D).$r=this.Ke(),r.zi=n.zi,r.Xi=n.Xi,r.qi=t.$r,r.Hi=t.tr,r.te=n.te,r.Qi=[n.Xi,t.tr],(e=new D).$r=this.Ke(),e.zi=t.$r,e.Xi=t.tr,e.qi=n.qi,e.Hi=n.Hi,e.te=n.te,e.Qi=[t.tr,n.Hi],(o=[]).push(r.$r),o.push(e.$r),t.segLinks=o,r.oe(),e.oe(),r.re=n.re,e.re=n.re,o=i.Ee,s=i.Te,o=this.Ou(t,o),this.Ou(r,s),this.Ou(e,s),i.Le.set(t.$r,o),n.re==P.NaviRoadEntry_BOTH&&((s=[]).push({eo:n.zi,Ei:r.Ei}),s.push({eo:n.qi,Ei:e.Ei}),i.Ie.set(t.$r,s),(s=i.Ie.get(n.zi))||i.Ie.set(n.zi,s=[]),s.push({eo:t.$r,Ei:r.Ei}),(s=i.Ie.get(n.qi))||i.Ie.set(n.qi,s=[]),s.push({eo:t.$r,Ei:e.Ei})),n.re==P.NaviRoadEntry_FORWARD&&((o=[]).push({eo:n.qi,Ei:e.Ei}),i.Ie.set(t.$r,o),(o=i.Ie.get(n.zi))||i.Ie.set(n.zi,o=[]),o.push({eo:t.$r,Ei:r.Ei})),n.re==P.NaviRoadEntry_BACK&&((s=[]).push({eo:n.zi,Ei:r.Ei}),i.Ie.set(t.$r,s),(s=i.Ie.get(n.qi))||i.Ie.set(n.qi,s=[]),s.push({eo:t.$r,Ei:e.Ei})),t.su=[],t.su.push(r.$r),t.su.push(e.$r),t)},Eu:function(t){if(null!=t){for(var r=this.eu(t),n=r.Ee.length-1;0<=n;n--){var i=r.Ee[n];if(null==i||0<=i.$r)break;r.Ee.splice(n,1)}for(var e=r.Te.length-1;0<=e;e--){var o=r.Te[e];if(null==o||0<=o.$r)break;r.Te.splice(e,1)}}},Tu:function(t,r){var n=t.get(r);if(n)for(var i=0;i<n.length;i++)n[i].eo<0&&(n.splice(i,1),i--)},Ru:function(t,r){for(var n=t.get(r),i=0;i<n.length;i++)this.Tu(t,n[i].eo);t.delete(r)},Mu:function(t,r,n,i,e){i.Nu=Number.MAX_VALUE,i.qo=!1,i.yu=n;for(var o=Number.MAX_VALUE,s={},u=this.eu(t),f=Number.MAX_VALUE,a=0;a<u.Te.length;a++){var h,c=u.Te[a];null==c||c.$r<0||(c.re==P.NaviRoadEntry_FORBID?W.Ot(r,n,c.Xi,c.Hi,s)&&(h=W.bt(r,s))<=f&&(f=h):W.Ot(r,n,c.Xi,c.Hi,s)&&(h=W.bt(r,s))<o&&(o=h,i.st=Object.assign({},s),i.bt=o,i.zo=c,i.qo=!0))}if(i.bt>=f)return i.bt=Number.MAX_VALUE,i.qo=!1;if(!i.qo)return!1;if(1!=this.nr)for(var l={},v=0;v<u.Re.length;v++){var y=u.Re[v];if(null!=y&&y!=e&&(P.NaviModelPassType_DECORATE!=y.pass&&(null==e||e.pass==P.NaviModelPassType_DECORATE||!W.vt(e.zt,y.fe,y.fe.length-1))))for(var b=y.fe.length,d=0;d<b-1;d++)if(W.Ot(r,n,y.fe[d],y.fe[d+1],l)){var p=W.bt(r,l);if(p<o)return o=p,i.Xo=y,i.bt=Number.MAX_VALUE,i.qo=!1,i.Ho=P.NaviObstructType_MODEL,!1}}for(var m={},w=u.Me,x=0;x<w.length;x++){for(var g=w[x],_=w[x].me,S=0;S<_.length;S++)for(var j=_[S],O=0;O<j.length-1;O++)if(W.Ot(r,n,j[O],j[O+1],m)){var E=W.bt(r,m);if(E<o)return o=E,i.Xo=g,i.bt=Number.MAX_VALUE,i.qo=!1,i.Ho=P.NaviObstructType_EXTENT,!1}for(var T=w[x].fe,R=0;R<T.length-1;R++)if(W.Ot(r,n,T[R],T[R+1],m)){var M=W.bt(r,m);if(M<o)return o=M,i.Xo=g,i.bt=Number.MAX_VALUE,i.qo=!1,i.Ho=P.NaviObstructType_EXTENT,!1}}return!0},ku:function(t,r){return t.bt-r.bt},Au:function(t,r){return r.yu-t.yu},Xs:function(t){t=this.eu(t);if(t){for(var r=t.Ee,n=t.Le,i=r.length-1;0<=i;i--){var e=r[i];if(null==e||0<=e.$r)break;n.delete(e.$r),r.splice(i,1)}for(var o=t.Te,s=t.De,u=o.length-1;0<=u;u--){var f=o[u];if(null==f||0<=f.$r)break;s.delete(f.$r),o.splice(u,1)}}},qs:function(){this.Iu(this.ns),this.Iu(this.rs)},Iu:function(t){var r,n=C(t);try{for(n.s();!(r=n.n()).done;){var i,e=r.value[1],o=[],s=e.Oo.Ie,u=C(s);try{for(u.s();!(i=u.n()).done;){var f=i.value;f[0]<0&&o.push(f[0])}}catch(t){u.e(t)}finally{u.f()}for(var a=0;a<o.length;a++)this.Ru(e.Oo.Ie,o[a]);for(var h=0;h<this.Ss.length;h++)this.Tu(s,this.Ss[h])}}catch(t){n.e(t)}finally{n.f()}},lu:function(t,r,n,i,e){var o=[],s={x:0,y:0};if(W.Tt(r,n.Xi,n.Hi,s)&&this.Pu(r,s,{},e))(e={}).st=s,e.qo=!0,e.zo=n,e.yu=0,e.bt=W.bt(r,s),o.push(e);else{for(var u={x:s.x-r.x,y:s.y-r.y},f=0;f<i.length;f++){var a=i[f],h={x:a.st.x-r.x,y:a.st.y-r.y},h=W.Pt(h,u);a.yu=270<h?h-360:h}i.sort(this.Au);var c,l=null;if(i[i.length-1].yu<0)l=i[i.length-1],o.push(l);else for(var v=0;v<i.length;v++)if(0<i[v].yu)return l=i[v],0==v?o.push(l):(c=i[v-1],W.bt(l.st,n.Xi)>W.bt(c.st,n.Xi)?(o.push(c),o.push(l)):(o.push(l),o.push(c))),o}return o},Lu:function(t,r,n,i,e){for(var o=i||30,s=0;s<360;s+=o){var u=new Ee;this.Mu(t,r,s,u,e),1==u.qo&&n.push(u)}n.sort(this.ku)},cu:function(t,r,n,i){var e=new Map,o=[];for(this.Lu(t,r,o,n,i);0!=o.length;){var s=o[0],u=e.get(s.zo.$r);u?u.push(s):((u=[]).push(s),e.set(s.zo.$r,u)),o.splice(0,1)}return e},zs:function(t,r){var n=new L,r=(n.$r=this.nu(),n.tr=Object.assign({},r),this.eu(t));return r.Ee.push(n),r.Le.set(n.$r,r.Ee.length-1),this.du(t).Oo=r,n},Du:function(t,r,n){return n?this.zs(t,r):((n=new L).$r=this.Qe(),n.tr=Object.assign({},r),t=(r=this.eu(t)).Ee,t=this.Ou(n,t),r.Le.set(n.$r,t),n)},Pu:function(t,r,n,i){for(var e,o=this.eu(-1),s=0;s<o.Re.length;s++)if(null!=(e=o.Re[s])&&e!=i&&P.NaviModelPassType_DECORATE!=e.pass)for(var u=e.fe,f=0;f<u.length-1;f++)if(W.jt(t,r,u[f],u[f+1],n)){var a=W.bt(t,n),h=W.bt(r,n);if(!(a<=W.tt()||h<=W.tt()))return!1}for(var c=o.Me,l=0;l<c.length;l++){for(var v=c[l],y=v.me,b=0;b<y.length;b++)for(var d=y[b],p=0;p<d.length-1;p++)if(W.jt(t,r,d[p],d[p+1],n))return!1;for(var m=v.fe,w=0;w<m.length-1;w++)if(W.jt(t,r,m[w],m[w+1],n))return!1}return!0},vu:function(t,r,n,i,e,o){for(var s=0;s<this.ds.length;s++){var u=this.ds[s],f={};if(1==W.jt(u.Xi,u.Hi,r.tr,n.tr,f)&&W.bt(r.tr,f)>W.tt()&&W.bt(n.tr,f)>W.tt())return null}void 0===i&&(i=P.NaviRoadEntry_BOTH),void 0===e&&(e=!0),void 0===o&&(o=!0);var a=new D;a.zi=r.$r,a.Xi=r.tr,a.qi=n.$r,a.Hi=n.tr,a.Qi=[r.tr,n.tr],a.te=1,this.Ss.push(r.$r),this.Ss.push(n.$r),a.$r=e?this.nu():this.Ke(),a.re=i,a.oe(),o&&this.ds.push(a);this.eu(t).Te.push(a);e=this.du(t);return P.NaviRoadEntry_BOTH==i&&(o={eo:n.$r,Ei:a.Ei},(t=e.Oo.Ie.get(r.$r))?t.push(o):((t=[]).push(o),e.Oo.Ie.set(r.$r,t)),o={eo:r.$r,Ei:a.Ei},(t=e.Oo.Ie.get(n.$r))?t.push(o):((t=[]).push(o),e.Oo.Ie.set(n.$r,t))),P.NaviRoadEntry_FORWARD==i&&(o={eo:n.$r,Ei:a.Ei},(t=e.Oo.Ie.get(r.$r))?t.push(o):((t=[]).push(o),e.Oo.Ie(r.$r,t))),P.NaviRoadEntry_BACK==i&&(o={eo:r.$r,Ei:a.Ei},(t=e.Oo.Ie.get(n.$r))?t.push(o):((t=[]).push(o),e.Oo.Ie.set(n.$r,t))),a},bu:function(t){var r=this.Bs(t),n=this.cs.get(r);if(n)for(var i=0;i<n.length;i++){var e=n[i];if(W.vt(t,e.fe,e.ae))return e}return null},eu:function(t){var r=null;return r=(r=this.Ts?this.ts.get(t):r)||this.$o.get(t)},du:function(t){var r=null;return r=(r=this.Ts?this.ns.get(t):r)||this.rs.get(t)},Fu:function(){return this.Ts?this.ns:this.rs},Qe:function(){return this.Oo.Qe()},Ke:function(){return this.Oo.Ke()},$s:function(t){var r=[],n=(r.push.apply(r,U(t.Ee)),[]),r=(n.push.apply(n,U(t.Te)),new F(r,n,!0,1));return(n=r.Re).push.apply(n,U(t.Re)),r},Js:function(t){for(var r=[-1],n=this.Oo.ke,i=0;i<n.length;i++){var e=n[i];t.Cu(e.Ht.Gt,e.Ht.Wt)&&r.push(e.$r)}return r},au:function(t,r,n){var i=null,e=r.Te;if(!e||e.length<=0)return null;var o=r.Be(t);if(o<=0)return null;var s,u,f={},i={distance:Number.MAX_VALUE,road:null,coords:{level:t.level}},a=C(e);try{for(a.s();!(u=a.n()).done;){var h=u.value;h.re===P.NaviRoadEntry_FORBID||o!==h.Ki||n&&n.indexOf(h.te)<0||(s=W.xt(t,h.Xi,h.Hi,f))<i.distance&&(i.distance=s,i.road=h,Object.assign(i.coords,f))}}catch(t){a.e(t)}finally{a.f()}return i},Uu:function(t){for(var r=this.Oo.ke,n=0;n<r.length;n++){var i=r[n];if(i.de(t))return i.$r}return-1}}),o);function Ae(t){return(Ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ie(t,r){var n,i,e,o,s="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(s)return i=!(n=!0),{s:function(){s=s.call(t)},n:function(){var t=s.next();return n=t.done,t},e:function(t){i=!0,e=t},f:function(){try{n||null==s.return||s.return()}finally{if(i)throw e}}};if(Array.isArray(t)||(s=function(t,r){var n;if(t)return"string"==typeof t?Pe(t,r):"Map"===(n="Object"===(n=Object.prototype.toString.call(t).slice(8,-1))&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Pe(t,r):void 0}(t))||r&&t&&"number"==typeof t.length)return s&&(t=s),o=0,{s:r=function(){},n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:r};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Pe(t,r){(null==r||r>t.length)&&(r=t.length);for(var n=0,i=new Array(r);n<r;n++)i[n]=t[n];return i}function Le(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,function(t){t=function(t,r){if("object"!==Ae(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0===n)return("string"===r?String:Number)(t);n=n.call(t,r||"default");if("object"!==Ae(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"===Ae(t)?t:String(t)}(i.key),i)}}function De(t,r,n){return r&&Le(t.prototype,r),n&&Le(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var o=De(function t(r,n){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this.Bu=[],this.Gu=new Map,this.nr=n||null,this.Wu(r)}),Fe=(Object.assign(o.prototype,{Wu:function(t){var r,n=Ie(t);try{for(n.s();!(r=n.n()).done;)for(var i=r.value,e=i[1],o=e.Me,s=0;s<o.length;s++){var u=o[s].$r,f=e.do(u),a=o[s].Ki,h=new ke(f);h.$r=a,h.nr=this.nr,h.Oi=i[0],this.Bu.push(h),this.Gu.set(a,h)}}catch(t){n.e(t)}finally{n.f()}},Ei:function(){return this.Bu.length},Zu:function(t){if(this.Bu)for(var r=this.Bu,n=0;n<r.length;n++){var i=r[n];if(t.level==i.Oi&&i.Us(t))return i}return null},Vu:function(t){var r,n=Ie(this.Bu);try{for(n.s();!(r=n.n()).done;){var i=r.value;if(i.$r==t)return i}}catch(t){n.e(t)}finally{n.f()}return null}}),o);function Ce(t){return function(t){if(Array.isArray(t))return Be(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Ue(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(t,r){var n,i,e,o,s="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(s)return i=!(n=!0),{s:function(){s=s.call(t)},n:function(){var t=s.next();return n=t.done,t},e:function(t){i=!0,e=t},f:function(){try{n||null==s.return||s.return()}finally{if(i)throw e}}};if(Array.isArray(t)||(s=Ue(t))||r&&t&&"number"==typeof t.length)return s&&(t=s),o=0,{s:r=function(){},n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:r};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ue(t,r){var n;if(t)return"string"==typeof t?Be(t,r):"Map"===(n="Object"===(n=Object.prototype.toString.call(t).slice(8,-1))&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Be(t,r):void 0}function Be(t,r){(null==r||r>t.length)&&(r=t.length);for(var n=0,i=new Array(r);n<r;n++)i[n]=t[n];return i}function Ge(t){return(Ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function We(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,function(t){t=function(t,r){if("object"!==Ge(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0===n)return("string"===r?String:Number)(t);n=n.call(t,r||"default");if("object"!==Ge(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"===Ge(t)?t:String(t)}(i.key),i)}}var o=function(){function r(t){if(!(this instanceof r))throw new TypeError("Cannot call a class as a function");this.hr=t,this.Xi=null,this.Hi=null,this.No=_.MODULE_SHORTEST,this.Yu=w.PRIORITY_DEFAULT,this.zu=new Map,this.Xu=new Map,this.qu=null,this.Hu=null,this.Qu=[],this.Ku=[],this.Ju=[],this.$u=[],this.tf=[],this.rf=[],this.sn=[],this.nf=.1,this.if=1,this.ef=10,this.sf=.1,this.uf=1,this.ff=10,this.af=.1,this.hf=1,this.cf=10,this.lf=1,this.vf=10,this.po=null,this.yf=null,this.bf=null,this.df=null,this.Qo=null,this.Ko=null,this.pf=null,this.mf=!1,this.wf=[],this.Ts=!0,this.Rs=new Map,this.xf=null,this.nr=t.type,this.barrierFree=!1,this.gf=!1,this.Gs=0,this._f=0,this.Sf=[]}var t,n,i;return t=r,(n=[{key:"assginedInfos",get:function(){return this.wf},set:function(t){this.wf=t}},{key:"passPts",set:function(t){this.jf=t}},{key:"failedInsertedPts",get:function(){return this._failedInsertedPts}},{key:"toDoors",get:function(){return this.mf},set:function(t){this.mf=t}},{key:"obstruct",get:function(){return this.Ts},set:function(t){this.Ts=t}}])&&We(t.prototype,n),i&&We(t,i),Object.defineProperty(t,"prototype",{writable:!1}),r}(),Ze=(Object.assign(o.prototype,{yi:function(t){if(t&&t.scene&&t.floors){this.po=t.scene,this.yf=new he;t=t.floors;if(0!=t.size){this.Of(t),this.Ef(),this.bf=new Fe(this.zu,this.nr),this.bf.nr=this.nr;var r,n=g(t);try{for(n.s();!(r=n.n()).done;){var i=r.value,e=i[1].gid;if(null!=e){var o=i[1].naviAccessible;if(o&&o[0]&&0<o[0].naviNodes.length){this.gf=!0;break}}}}catch(t){n.e(t)}finally{n.f()}this.gf&&(this.Of(t),this.Ef(),this.df=new Fe(this.Xu,this.nr),this.df.nr=this.nr)}}},vr:function(){this.hr=null,this.po=null,this.yf&&(this.yf.vr(),this.yf=null);var t,r=g(this.zu);try{for(r.s();!(t=r.n()).done;)t.value[1].vr()}catch(t){r.e(t)}finally{r.f()}if(this.zu.clear(),this.zu=null,this.qu.vr(),this.qu=null,this.Qu=null,this.Ju=null,this.gf){var n,i=g(this.Xu);try{for(i.s();!(n=i.n()).done;)n.value[1].vr()}catch(t){i.e(t)}finally{i.f()}this.Xu.clear(),this.Xu=null,this.Hu.vr(),this.Hu=null,this.Ku=null,this.$u=null}this.tf=null,this.rf=null,this.sn=null},Tf:function(t,r){this.qn();var n=this.Rf([t]);if(n.length<1)return A.ROUTE_FAILED_NO_DATA_START;var n=n[0],i=(t.extentID=n,this.Rf([r]));if(i.length<1)return A.ROUTE_FAILED_NO_DATA_DEST;for(var i=i[0],e=(r.endExtentID=i,this.jf),o=0;o<e.length;o++)e[o].Ds=!0;var s=this.Rf(e),n=this.Mf(n,i,s);if(n.rst!=A.ROUTE_SUCCESS)return n.rst;for(var u=new Map,f=0;f<s.length;f++)u.has(s[f])?u.get(s[f]).push(e[f]):u.set(s[f],[e[f]]);i=n.extentPath,n=this.Nf(t,r,u,i);return this.kf(n.nodePath),n.rst},Af:function(t,r,n,i){this.qn();var e=null,o=(e=this.gf&&this.barrierFree?this.df:this.bf).Zu(t);if(!o)return A.ROUTE_FAILED_NO_DATA_START;var s=o.iu(t);if(s&&s.Xo&&s.Xo.pass==P.NaviModelPassType_NOT_PASS)return A.ROUTE_FAILED_NO_START_ARRIVAL;var u=e.Zu(r);if(!u)return A.ROUTE_FAILED_NO_DATA_DEST;var f=u.iu(r);if(f&&f.Xo&&f.Xo.pass==P.NaviModelPassType_NOT_PASS)return A.ROUTE_FAILED_NO_DEST_ARRIVAL;this.No=n,this.Xi=t,this.Qo=s.Xo,this.Hi=r,this.Ko=f.Xo;var a=o.$r,h=u.$r,u=s.Xo,s=f.Xo,f=A.ROUTE_FAILED_CANNOT_ARRIVE;if(this.sn=[],1!==this.nr&&this.If(i),a===h){i=t.level;o.Qo=u,o.Ko=s,(f=o.Do(t,r,n))===A.ROUTE_SUCCESS&&(u=o.Bo(),this.sn.push({Oi:i,sn:u}))}else{this.Pf(a,h,t,r)!=A.ROUTE_SUCCESS&&(f=A.ROUTE_FAILED_OUTLINE),this.tf.reverse();s=this.Lf(e,t,r);if(s==A.ROUTE_SUCCESS)return s;f=s}if(f!=A.ROUTE_SUCCESS)for(;2<this.Df(a,h,t,r).length;){if(this.Lf(e,t,r)===A.ROUTE_SUCCESS)return this.Ff(),A.ROUTE_SUCCESS;a===h&&0<this.tf.length&&(h=this.tf[this.tf.length-1].Ki)}return this.Ff(),f},Df:function(t,r,n,i){var e=null;if(e=this.gf&&this.barrierFree?this.Hu:this.qu,t===r){var o=this.Qu.length+1,s=new ie,u=e.Oo.ze(t),u=e.Oo.Ee[u],u=(s.$r=u.$r,s.Oi=u.Oi,s.Ki=o,s.Lo=u.Lo,s.je=u.je,s.ki=u.ki,s.Mi=u.Mi,this.Qu.push(s),this.Cf(),new F(this.Qu,this.Ju)),e=new de(u);r=o}else for(var f=0;f<this.Sf.length;f++){var a,h=this.Sf[f].from.Ki,c=this.Sf[f].to.Ki,l=g(e.Oo.Ie.get(h).values());try{for(l.s();!(a=l.n()).done;){var v=a.value;v.eo===c&&(v.Ei=Number.MAX_VALUE)}}catch(t){l.e(t)}finally{l.f()}}return this.qu=e,this.Pf(t,r,n,i)!=A.ROUTE_SUCCESS&&(this.tf=[]),this.tf.reverse(),this.tf},Ff:function(){var t;this.gf?(this.Uf(),this.Cf(),t=new F(this.Ku,this.$u),this.Hu=new de(t)):(this.Uf(),this.Cf(),t=new F(this.Qu,this.Ju),this.qu=new de(t)),this.Sf=[]},Lf:function(t,r,n){this.sn=[];for(var i=[],e=[this.Xi],o=A.ROUTE_FAILED_CANNOT_ARRIVE,s=0;s<this.tf.length-1;s++){var u=[],f=[];if(null==this.nr||0===this.nr){if(!this.Bf(this.tf[s],this.tf[s+1],e[e.length-1],u,f))return this.Sf.push({from:this.tf[s],to:this.tf[s+1]}),A.ROUTE_FAILED_CANNOT_ARRIVE}else if(!this.Gf(this.tf[s],this.tf[s+1],e[e.length-1],u,f))return this.Sf.push({from:this.tf[s],to:this.tf[s+1]}),A.ROUTE_FAILED_CANNOT_ARRIVE;for(var a=!1,h=0;h<u.length;h++){var c=u[h].Yi,l=f[h].Yi,v=u[h].Oi,y=f[h].Oi,b={x:c.tr.x,y:c.tr.y,level:v},d={x:l.tr.x,y:l.tr.y,level:y},b=t.Zu(b),o=0==s?(b.Qo=this.Qo,b.Do(r,c,this.No)):b.Do(i[i.length-1],c,this.No);if(A.ROUTE_SUCCESS==o){c=b.Bo();if(this.sn.push({Oi:v,sn:c}),i.push(l),e.push(l.tr),a=!0,this.tf.length-2==s){b=t.Zu(d);if(b.Ko=this.Ko,o=b.Do(l,n,this.No),A.ROUTE_SUCCESS!=o){this.sn.splice(this.sn.length-1,1),a=!1,e.splice(e.length-1,1),i.splice(i.length-1,1);continue}v=b.Bo();this.sn.push({Oi:y,sn:v})}if(A.ROUTE_SUCCESS==o)break}}if(!a)return 0==s?this.Sf.push({from:this.tf[s],to:this.tf[s+1]}):this.Sf.push({from:this.tf[s-1],to:this.tf[s]}),A.ROUTE_FAILED_CANNOT_ARRIVE;o!==A.ROUTE_SUCCESS&&this.Sf.push({from:this.tf[s],to:this.tf[s+1]})}return o},Wf:function(){if(this.mf&&(this.pf=null,this.Ko)&&0<this.sn.length){for(var t,r=this.sn[this.sn.length-1].sn,n=null,i={x:-1,y:-1},e=r.length-1;0<e;e--){var o=r[e],s=r[e-1];if(W.Lt(o.tr,s.tr,this.Ko.fe,i)){n=e;break}}null!=n&&(r.splice(n),(t=new L).$r=-1,t.tr=i,r.push(t),this.pf=i)}for(var u=[],f=0;f<this.sn.length;f++)1<this.sn[f].sn.length&&u.push(this.sn[f]);for(var a=[],h=0;h<u.length;h++){this.Zf(u[h]);for(var c=u[h],l=c.Oi,v=c.sn,y=[],b=0,d=0;d<v.length;d++)y.push(v[d].tr),d!=v.length-1&&(b+=W.bt(v[d].tr,v[d+1].tr));var c=new ki;c.Oi=l,c.Ri=v,c.Ti=y,c.Ei=b,a.push(c),h!=u.length-1&&(l=this.Vf(u[h]),c=this.Yf(u[h+1]),a.push(l),a.push(c))}return a},Zf:function(t){if(null!=t&&t.sn){var r=t.sn,n=r.length;if(n&&!(n<2)){var i=[],e=(i.push(r[0]),r[0]),o=r[n-1];W.bt(e.tr,o.tr),W.tt();for(var s=1;s<n-1;s++){var u=r[s];null!=e&&W.bt(e.tr,u.tr)<W.tt()||null!=o&&W.bt(o.tr,u.tr)<W.tt()||i.push(u)}i.push(o);for(var n=i.length,f=new Array(n),a=0;a<n;a++)f[a]=0;for(var h=1;h<n-1;h++){for(var c=i[h],l=h-1;0!=f[l];)l--;!W.yt(c.tr,i[l].tr,i[h+1].tr)||c.Ds||(f[h]=1)}for(var v=[],y=0;y<n;y++)0==f[y]&&v.push(i[y]);t.sn=v}}},qn:function(){this.tf=[],this.rf=[];var t,r=this.bf.Gu,n=g(r.keys());try{for(n.s();!(t=n.n()).done;){var i=t.value,e=r.get(i);e.qn(),e.obstruct=this.Ts}}catch(t){n.e(t)}finally{n.f()}var o,s=this.bf.Gu,u=g(s.keys());try{for(u.s();!(o=u.n()).done;){var f=o.value,a=s.get(f);a.qn(),a.obstruct=this.Ts}}catch(t){u.e(t)}finally{u.f()}},zf:function(t,r){var n=null,i=null;if(null==(i=(this.gf&&this.barrierFree?this.df:this.bf).Zu(t)))return null;for(var i=i.Oo,e=[],o=(e.push.apply(e,Ce(i.Te)),n={distance:Number.MAX_VALUE,road:null,angle:null,coords:{level:t.level}},{}),s=0;s<e.length;s++){var u,f=e[s];f.re===P.NaviRoadEntry_FORBID||Array.isArray(r)&&0<r.length&&r.indexOf(f.te)<0||(u=W.xt(t,f.Xi,f.Hi,o))<n.distance&&(n.distance=u,n.road=f,n.angle=this.Xf(f.Xi,f.Hi),Object.assign(n.coords,o))}return null!=n.road&&(i={id:(i=n.road).$r,extentID:i.Ki,roadEntry:i.re,roadRank:i.te,startID:i.zi,startPoint:i.Xi,endID:i.qi,endPoint:i.Hi},n.road=i),n},Xf:function(t,r){var n=new Z(0,0,1),t=new Z(t.x,0,t.y),r=new Z(r.x,0,r.y).clone().sub(t).normalize(),t=r.angleTo(n)*W.nt();return 0<r.clone().cross(n).y?360-t:t},Of:function(t){this.gf?this.Xu=new Map:this.zu=new Map,this.yf.mo(this.po);var r,n=g(t);try{for(n.s();!(r=n.n()).done;){var i=r.value,e=i[1].gid;if(null!=e){var o=i[1].geo[0],s=i[1].biz[0],u=null;if(1==this.nr?0<i[1].naviDrive.length&&(u=i[1].naviDrive[0]):this.gf?0<i[1].naviAccessible.length&&(u=i[1].naviAccessible[0]):0<i[1].navi.length&&(u=i[1].navi[0]),u){var f=this.yf.jo(e,o,s,u);if(0!=f.naviNodes.length&&0!=f.naviSegments.length){var a=new Map,h=this.qf(f,a),c=this.Hf(f),l=this.Qf(f),v=this.Kf(f),y=this.Jf(f),b=(this.$f(y,h,u,a),new F(h,c,!0,1));b.Oi=e,0!=v.length&&(b.Me=v),0!=l.length&&(b.ke=l),0!=y.length&&(b.Re=y);for(var d=0;d<c.length;d++)c[d].Ki=b.Be(c[d].Xi);(0==this.gf?this.zu:this.Xu).set(f.level,b)}}}}}catch(t){n.e(t)}finally{n.f()}},qf:function(n,i){var e,o=[];for(e in n.naviNodes)(function(){var t=n.naviNodes[e];if(null==t.nodeId)return;var r=new L;r.$r=t.nodeId,r.tr={x:parseFloat(t.geoArr.x.toFixed(3)),y:parseFloat(t.geoArr.y.toFixed(3))},r.Ci=t.nodeType,r.Ui=t.liftType,r.ki=t.liftFlag,r.Bi=t.liftEntry,t.accessible&&(r.ta=t.accessible),t.linkSegArr.forEach(function(t){r.Ni.push(parseInt(t))}),t.liftFloorArr.forEach(function(t){r.Mi.push(parseInt(t))}),o.push(r),i.set(t.nodeId,e)})();return o},Hf:function(t){var r,n=[];for(r in t.naviSegments){var i,e=t.naviSegments[r],o=e.geoArr;o&&((i=new D).$r=e.segmentId,i.zi=e.snode,i.Xi={x:parseFloat(o[0].x.toFixed(3)),y:parseFloat(o[0].y.toFixed(3))},i.qi=e.enode,i.Hi={x:parseFloat(o[1].x.toFixed(3)),y:parseFloat(o[1].y.toFixed(3))},i.Ei=e.length,i.re=e.entry,i.te=e.rank,n.push(i))}return n},Kf:function(t){for(var r=[],n=0,i=t.extentLayer.length;n<i;n++){var e=t.extentLayer[n],o=(o=e.geoArr)||[],o=new Ki(e.eid,t.gid,0,o,e.zt,e.holes);o.fid=e.fid,r.push(o)}return r},Jf:function(t){for(var r=[],n=0,i=t.modelLayer.length;n<i;n++){var e=t.modelLayer[n],o=(o=e.geoArr)||[],o=new Ki(e.eid,t.gid,0,o,e.zt,e.holes);o.fid=e.fid,o.pass=e.pass,r.push(o)}return r},Qf:function(t){for(var r=[],n=0,i=t.naviZones.length;n<i;n++){var e=t.naviZones[n],e=new qi(e.$r,t.gid,e.type,e.geoArr);r.push(e)}return r},$f:function(t,r,n,i){for(var e=new Map,o=0;o<t.length;o++){var s=t[o];e.set(s.$r,o)}for(var u=0;u<n.naviModels.length;u++)for(var f=n.naviModels[u],a=f.modelid,h=t[e.get(a)],c=0;c<f.doorids.length;c++){var l=f.doorids[c],l=r[i.get(l)],l=(h.we.push(l),f.nodetypes[c]),v=f.entrytypes[c];h.xe.push(l),h.ge.push(v)}},Ef:function(){var t;this.gf?(this.Uf(),this.Cf(),t=new F(this.Ku,this.$u),this.Hu=new de(t)):(this.Uf(),this.Cf(),t=new F(this.Qu,this.Ju),this.qu=new de(t))},Uf:function(){var t,r=0,n=0,i=g(this.gf?(this.Ku=[],this.Xu):(this.Qu=[],this.zu));try{for(i.s();!(t=i.n()).done;)for(var e=t.value,o=e[1],s=o.Me,u=0;u<s.length;u++){var f=s[u],a=new ie;a.$r=f.$r,a.Oi=e[0],a.Ki=++r,f.Ki=a.Ki,a.Lo=f;for(var h=0;h<o.Ee.length;h++){var c,l,v=o.Ee[h];v.Ui!=P.NaviLiftType_NULL&&W.vt(v.tr,f.fe,f.ae)&&(c=new Wi,l=o.Ve(v.tr),c.Vi=l,c.Wi(v),c.Zi=++n,c.Oi=e[0],c.Yi=v,c.Bi=v.Bi,c.Ui=v.Ui,c.ki=v.ki,c.Ki=a.Ki,this.gf?1===v.ta&&(c.ta=v.ta,a.je.push(c)):(1===v.ta&&(c.ta=v.ta),a.je.push(c)))}(this.gf?this.Ku:this.Qu).push(a)}}catch(t){i.e(t)}finally{i.f()}},Cf:function(){for(var t=null,r=0,t=this.gf?this.Ku:this.Qu,n=[],i=0;i<t.length;i++)for(var e=t[i],o=0;o<t.length;o++){var s,u,f=t[o];i!=o&&(u=void 0,null!=(u=null==this.nr||0==this.nr?this.ra(e,f):this.na(e,f)))&&(u*=0==(s=Math.abs(e.Oi-f.Oi))?1:s,(s=new D).zi=e.Ki,s.qi=f.Ki,s.Ei=u,s.re=P.NaviRoadEntry_FORWARD,s.$r=r,r+=1,n.push(s))}this.gf?this.$u=n:this.Ju=n},ra:function(t,r){for(var n=Number.MAX_VALUE,i=!1,e=t.Oi,o=r.Oi,s=e<o?P.NaviLiftEntry_DOWN:P.NaviLiftEntry_UP,u=0;u<t.je.length;u++){var f=t.je[u],a=f.Bi;if(a!=P.NaviLiftEntry_FORBID&&a!=s){var h=f.Ui;if(w.PRIORITY_LIFTONLY==this.Yu){if(P.NaviLiftType_Lift!=h)continue}else if(w.PRIORITY_ESCALATORONLY==this.Yu){if(P.NaviLiftType_Escalator!=h)continue}else if(w.PRIORITY_STAIRONLY==this.Yu){if(P.NaviLiftType_Stair!=h)continue}else if(w.PRIORITY_ACCESSIBLEONLY==this.Yu&&P.NaviLiftType_Accessible!=h)continue;if(h==P.NaviLiftType_Stair||-1!=f.Mi.indexOf(o))for(var c=0;c<r.je.length;c++){var l=r.je[c];if(null!=l&&f.ki==l.ki)if(w.PRIORITY_LIFTFIRST==this.Yu||w.PRIORITY_DEFAULT==this.Yu){if(P.NaviLiftType_Lift==h||P.NaviLiftType_Accessible==h)return this.nf;if(P.NaviLiftType_Escalator==h){l=this.uf;l<n&&(n=l),i=!0;break}if(P.NaviLiftType_Stair==h){l=this.cf;l<n&&(n=l),i=!0;break}}else if(w.PRIORITY_ESCALATORFIRST==this.Yu){if(P.NaviLiftType_Lift==h||P.NaviLiftType_Accessible==h){l=this.if;l<n&&(n=l),i=!0;break}if(P.NaviLiftType_Escalator==h)return this.sf;if(P.NaviLiftType_Stair==h){l=this.cf;l<n&&(n=l),i=!0;break}}else if(w.PRIORITY_STAIRFIRST==this.Yu){if(P.NaviLiftType_Lift==h){l=this.if;l<n&&(n=l),i=!0;break}if(P.NaviLiftType_Escalator==h||P.NaviLiftType_Accessible==h){l=this.ff;l<n&&(n=l),i=!0;break}if(P.NaviLiftType_Stair==h)return this.af}else{if(w.PRIORITY_LIFTFIRST1==this.Yu||w.PRIORITY_STAIRFIRST1==this.Yu||w.PRIORITY_ESCALATORFIRST1==this.Yu)return this.lf;if(w.PRIORITY_LIFTONLY==this.Yu||w.PRIORITY_ESCALATORONLY==this.Yu||w.PRIORITY_STAIRONLY==this.Yu||w.PRIORITY_ACCESSIBLEONLY==this.Yu)return this.lf}}}}return i?n:null},na:function(t,r){for(var n=Number.MAX_VALUE,i=!1,e=t.Oi<r.Oi?P.NaviLiftEntry_DOWN:P.NaviLiftEntry_UP,o=0;o<t.je.length;o++){var s=t.je[o],u=s.Bi;if(u!=P.NaviLiftEntry_FORBID&&u!=e){for(var f=0;f<r.je.length;f++){var a=r.je[f];if(s.ki==a.ki){n=this.vf,i=!0;break}}if(i)break}}return i?n:null},If:function(t){this.Yu!==t&&(this.Yu=t,this.barrierFree?(this.Cf(),t=new F(this.Ku,this.$u),this.Hu=new de(t)):(this.Cf(),t=new F(this.Qu,this.Ju),this.qu=new de(t)))},Yf:function(t){var r=t.sn,n=new ki;return n.Oi=t.Oi,n.Ri.push(r[0]),n.Ti.push(r[0].tr),n.Ei=0,n},Vf:function(t){var r=t.sn,n=new ki;return n.Oi=t.Oi,n.Ri.push(r[r.length-1]),n.Ti.push(r[r.length-1].tr),n.Ei=0,n},ia:function(t,r){for(var n=null,n=this.gf&&this.barrierFree?this.Ku:this.Qu,i=0;i<n.length;i++)if(null!=t&&n[i].Oi==t&&n[i].$r==r)return n[i];return null},ea:function(t){for(var r=null,n=null,n=this.gf&&this.barrierFree?this.Ku:this.Qu,i=0;i<n.length;i++)if(n[i].Ki==t)return r=n[i];return r},Pf:function(t,r,n,i){var e,o=null,t=(o=this.gf&&this.barrierFree?this.Hu:this.qu).Uo(t,r,n,i);if(t==A.ROUTE_SUCCESS){e=o.Bo(),this.tf=[];for(var s=0;s<e.length;s++)this.tf.push(e[s])}return t},Bf:function(n,t,r,i,e){var o=null,o=(this.gf&&this.barrierFree?(o=this.df.Zu(r),this.xf=(o||this.df.Gu.get(n.Oi)).Oo.Ve(r)):(o=this.bf.Zu(r),this.xf=(o||this.bf.Gu.get(n.Oi)).Oo.Ve(r)),Math.abs(n.Oi-t.Oi)),s=[];function u(t,r){t=n.Oe(t,r,f);s.push.apply(s,Ce(t))}var f=[];if(0==this.gf&&1==this.barrierFree)for(var a=0;a<n.je.length;a++)1==n.je[a].ta&&f.push(n.je[a]);else f=n.je;for(var h=0;h<f.length;h++){var c=f[h];c.Li=W.bt(c.tr,this.Hi)+W.bt(c.tr,r)}var l,v=n.Lo.Ht.size,v=v.x+v.y,y=(w.PRIORITY_LIFTONLY!==this.Yu&&w.PRIORITY_ESCALATORONLY!==this.Yu&&w.PRIORITY_STAIRONLY!==this.Yu&&w.PRIORITY_ACCESSIBLEONLY!==this.Yu||(l=null,w.PRIORITY_LIFTONLY===this.Yu&&(l=P.NaviLiftType_Lift),w.PRIORITY_ESCALATORONLY===this.Yu&&(l=P.NaviLiftType_Escalator),w.PRIORITY_STAIRONLY===this.Yu&&(l=P.NaviLiftType_Stair),w.PRIORITY_ACCESSIBLEONLY===this.Yu&&(l=P.NaviLiftType_Accessible),s=n.Oe(l,null,f)),w.PRIORITY_LIFTFIRST!==this.Yu&&w.PRIORITY_ESCALATORFIRST!==this.Yu&&w.PRIORITY_STAIRFIRST!==this.Yu&&w.PRIORITY_DEFAULT!==this.Yu||(w.PRIORITY_LIFTFIRST!==this.Yu&&w.PRIORITY_DEFAULT!==this.Yu||(u(P.NaviLiftType_Lift,-15*o),u(P.NaviLiftType_Escalator,-8*o),u(P.NaviLiftType_Stair,0)),w.PRIORITY_ESCALATORFIRST===this.Yu&&(u(P.NaviLiftType_Lift,-8*o),u(P.NaviLiftType_Escalator,-15*o),u(P.NaviLiftType_Stair,0)),w.PRIORITY_STAIRFIRST===this.Yu&&(u(P.NaviLiftType_Lift,-8*o),u(P.NaviLiftType_Escalator,0),u(P.NaviLiftType_Stair,-15*o))),w.PRIORITY_LIFTFIRST1!==this.Yu&&w.PRIORITY_ESCALATORFIRST1!==this.Yu&&w.PRIORITY_STAIRFIRST1!==this.Yu||(w.PRIORITY_LIFTFIRST1===this.Yu&&(u(P.NaviLiftType_Lift,-v),u(P.NaviLiftType_Escalator,0),u(P.NaviLiftType_Stair,0)),w.PRIORITY_ESCALATORFIRST1===this.Yu&&(u(P.NaviLiftType_Lift,0),u(P.NaviLiftType_Escalator,-v),u(P.NaviLiftType_Stair,0)),w.PRIORITY_STAIRFIRST1===this.Yu&&(u(P.NaviLiftType_Lift,0),u(P.NaviLiftType_Escalator,0),u(P.NaviLiftType_Stair,-v))),this);s.sort(function(t,r){if(t.zone!==r.zone){if(t.zone===y.xf)return-1;if(r.zone===y.xf)return 1}return t.Li-r.Li});for(var b=0;b<s.length;b++){var d=s[b];if(!(1===d.Bi&&t.Oi<n.Oi)&&(!(2===d.Bi&&t.Oi>n.Oi)&&3!==d.Bi))for(var p=0;p<t.je.length;p++){var m=t.je[p];if(d.ki===m.ki){i.push(d),e.push(m);break}}}return 0!==i.length},Gf:function(t,r,n,i,e){this.xf=this.bf.Gu.get(t.Oi).Oo.Ve(n);for(var o=[],s=t.je,u=0;u<s.length;u++){var f=s[u];f.Li=W.bt(f.tr,this.Hi)+W.bt(f.tr,n)}var o=t.Oe(P.NaviLiftType_Ramp),a=this;o.sort(function(t,r){if(t.zone!==r.zone){if(t.zone===a.xf)return-1;if(r.zone===a.xf)return 1}return t.Li-r.Li});for(var h=0;h<o.length;h++){var c=o[h];if(!(1===c.Bi&&r.Oi<t.Oi)&&(!(2===c.Bi&&r.Oi>t.Oi)&&3!==c.Bi))for(var l=0;l<r.je.length;l++){var v=r.je[l];if(c.ki===v.ki){i.push(c),e.push(v);break}}}return 0!==i.length},Rf:function(t){var r=[],n=null;if(n=this.barrierFree?this.df:this.bf){var i,e=g(t);try{for(e.s();!(i=e.n()).done;){var o=i.value,s=n.Zu(o),u=null==s?void 0:s.$r;u&&r.push(u)}}catch(t){e.e(t)}finally{e.f()}}return r},Mf:function(t,r,n){var i=null,n=Array.from(new Set(n)),e=n.indexOf(t),e=(-1!=e&&n.splice(e,1),n.indexOf(r));if(-1!=e&&n.splice(e,1),n.length<=0){if(i={rst:A.ROUTE_FAILED_OUTLINE,extentPath:[]},t==r)return i.extentPath.push(t),i.rst=A.ROUTE_SUCCESS,i;if(i.rst=this.Pf(t,r),i.rst!=A.ROUTE_SUCCESS)return i;this.tf.reverse();for(var o=0;o<this.tf.length;o++)i.extentPath.push(this.tf[o].Ki)}else i=this.oa(t,r,n);return i},sa:function(t){var r=0;if(!(null==t||t.length<=0))for(var n=this.qu.Oo.Ie,i=1;i<t.length;i++)for(var e=t[i].$r,o=t[i-1].$r,s=n.get(o),u=0;u<s.length;u++)if(s[u].eo==e){r+=s[u].Ei;break}return r},oa:function(t,r,n){for(var i={rst:null,extentPath:[]},e=[],o=t;0<n.length;){for(var s=Number.MAX_VALUE,u=null,f=null,a=0;a<n.length;a++){var h,c=n[a];this.qu.Uo(o,c)==A.ROUTE_SUCCESS&&((c=this.qu.Bo()).reverse(),(h=this.sa(c))<s)&&(s=h,u=a,f=c)}if(null==u)return i;o=n[u],f.splice(f.length-1,1),e.push.apply(e,Ce(f)),n.splice(u,1)}if(i.rst=this.qu.Uo(o,r),i.rst==A.ROUTE_SUCCESS){t=this.qu.Bo();t.reverse(),e.push.apply(e,Ce(t));for(var l=0;l<e.length;l++)i.extentPath.push(e[l].Ki)}return i},Nf:function(t,r,n,i){this.qn();for(var e=[],o=t,s=0;s<i.length;s++){var u=i[s],f=null,f=(this.barrierFree?this.df:this.bf).Vu(u),a=[],h=n.get(i[s]);if(null!=h)for(;0<h.length;){for(var c=null,l=null,v=(this.ua(o,h),3<=h.length?3:h.length),y=[],b=0;b<v;b++){var d=this.fa(o,h[b],f);d.rst==A.ROUTE_SUCCESS&&y.push({result:d,index:b})}y.sort(function(t,r){return t.result.dist-r.result.dist});var p=this.aa(h,y);if(p&&(c=p.result.nodePath,l=p.index,p.result.dist),null==l)return{rst:A.ROUTE_FAILED_WAYPOINT_CALCULATE_ERROR,nodePath:e};o=h[l],h.splice(l,1),c.splice(c.length-1,1),a.push.apply(a,Ce(c))}if(s<i.length-1){var u=this.ea(u),m=o instanceof L?o.Oi:o.level,w=i[s+1],w=this.ea(w),x=[],g=[];if(!this.ha(u,w,o,x,g))return{rst:A.ROUTE_FAILED_WAYPOINT_CALCULATE_ERROR,nodePath:e};for(var _=null,S=0;S<x.length;S++){var j=this.fa(o,x[S],f);if(j.rst==A.ROUTE_SUCCESS){a.push.apply(a,Ce(j.nodePath)),_=S;break}}if(null==_)return{rst:A.ROUTE_FAILED_WAYPOINT_CALCULATE_ERROR,nodePath:e};o=g[_],e.push({level:m,path:a})}if(s==i.length-1)return(u=this.fa(o,r,f)).rst!=A.ROUTE_SUCCESS?{rst:A.ROUTE_FAILED_WAYPOINT_CALCULATE_ERROR,nodePath:e}:(a.push.apply(a,Ce(u.nodePath)),e.push({level:r.level,path:a}),{rst:A.ROUTE_SUCCESS,nodePath:e})}return{rst:A.ROUTE_SUCCESS,nodePath:e}},kf:function(t){for(var r=[],n=0;n<t.length;n++)r.push({Oi:t[n].level,sn:t[n].path});this.sn=r},fa:function(t,r,n){Number.MAX_VALUE;return n.qn(),n.Ls(t),n.Cs(r),n.ss=n.Uu(t),n.us=n.Uu(r),t=n.Vs(),r=n.es,{rst:t,dist:this.ca(r),nodePath:r}},ca:function(t){var r=0;if(!(null==t||t.length<=1))for(var n=1;n<t.length;n++)r+=W.bt(t[n].tr,t[n-1].tr);return r},ha:function(n,t,r,i,e){var o=Math.abs(n.Oi-t.Oi),s=[];function u(t,r){t=n.Oe(t,r,f);s.push.apply(s,Ce(t))}var f=[];if(0==this.gf&&1==this.barrierFree)for(var a=0;a<n.je.length;a++)1==n.je[a].ta&&f.push(n.je[a]);else f=n.je;for(var h=0;h<f.length;h++){var c=f[h];c.Li=W.bt(r,c.tr)}var l,v=n.Lo.Ht.size,v=v.x+v.y,y=(w.PRIORITY_LIFTONLY!==this.Yu&&w.PRIORITY_ESCALATORONLY!==this.Yu&&w.PRIORITY_STAIRONLY!==this.Yu&&w.PRIORITY_ACCESSIBLEONLY!==this.Yu||(l=null,w.PRIORITY_LIFTONLY===this.Yu&&(l=P.NaviLiftType_Lift),w.PRIORITY_ESCALATORONLY===this.Yu&&(l=P.NaviLiftType_Escalator),w.PRIORITY_STAIRONLY===this.Yu&&(l=P.NaviLiftType_Stair),w.PRIORITY_ACCESSIBLEONLY===this.Yu&&(l=P.NaviLiftType_Accessible),s=n.Oe(l,null,f)),w.PRIORITY_LIFTFIRST!==this.Yu&&w.PRIORITY_ESCALATORFIRST!==this.Yu&&w.PRIORITY_STAIRFIRST!==this.Yu&&w.PRIORITY_DEFAULT!==this.Yu||(w.PRIORITY_LIFTFIRST!==this.Yu&&w.PRIORITY_DEFAULT!==this.Yu||(u(P.NaviLiftType_Lift,-15*o),u(P.NaviLiftType_Escalator,-8*o),u(P.NaviLiftType_Stair,0)),w.PRIORITY_ESCALATORFIRST===this.Yu&&(u(P.NaviLiftType_Lift,-8*o),u(P.NaviLiftType_Escalator,-15*o),u(P.NaviLiftType_Stair,0)),w.PRIORITY_STAIRFIRST===this.Yu&&(u(P.NaviLiftType_Lift,-8*o),u(P.NaviLiftType_Escalator,0),u(P.NaviLiftType_Stair,-15*o))),w.PRIORITY_LIFTFIRST1!==this.Yu&&w.PRIORITY_ESCALATORFIRST1!==this.Yu&&w.PRIORITY_STAIRFIRST1!==this.Yu||(w.PRIORITY_LIFTFIRST1===this.Yu&&(u(P.NaviLiftType_Lift,-v),u(P.NaviLiftType_Escalator,0),u(P.NaviLiftType_Stair,0)),w.PRIORITY_ESCALATORFIRST1===this.Yu&&(u(P.NaviLiftType_Lift,0),u(P.NaviLiftType_Escalator,-v),u(P.NaviLiftType_Stair,0)),w.PRIORITY_STAIRFIRST1===this.Yu&&(u(P.NaviLiftType_Lift,0),u(P.NaviLiftType_Escalator,0),u(P.NaviLiftType_Stair,-v))),this);s.sort(function(t,r){if(t.zone!==r.zone){if(t.zone===y.xf)return-1;if(r.zone===y.xf)return 1}return t.Li-r.Li});for(var b=0;b<s.length;b++){var d=s[b];if(!(1===d.Bi&&t.Oi<n.Oi)&&!(2===d.Bi&&t.Oi>n.Oi))for(var p=0;p<t.je.length;p++){var m=t.je[p];if(d.ki===m.ki){i.push(d),e.push(m);break}}}return 0!==i.length},ua:function(n,t){t.sort(function(t,r){return W.dt(n,t)-W.dt(n,r)})},aa:function(t,r){var n=null;if(!(r.length<1)){var i=(n=r[0]).index;if(!(r.length<2)&&3<=r.length){for(var e,o=Number.MAX_VALUE,s=-1,u=0;u<t.length;u++)u!=i&&(e=W.bt(t[i],t[u]))<o&&(o=e,s=u);s!=r[1].index&&(n=r[1])}}return n},Ks:function(t){for(var r=new Map,n=0;n<t.length;n++){var i=t[n],e=r.get(i.Oi);e||r.set(i.Oi,e=[]),e.push(i)}var o,s=this.bf.Gu,u=this.bf.Gu,f=g(r.keys());try{for(f.s();!(o=f.n()).done;){var a=o.value,h=this.Rs.get(a);if(!h||this.la(r.get(a),h)){var c,l=g(s.keys());try{for(l.s();!(c=l.n()).done;){var v=c.value,y=s.get(v);y.level===a&&(y.Ks(r.get(a)),this.Rs.set(a,r.get(a)),0)}}catch(t){l.e(t)}finally{l.f()}var b,d=g(u.keys());try{for(d.s();!(b=d.n()).done;){var p=b.value,m=u.get(p);m.level===a&&(m.Ks(r.get(a)),this.Rs.set(a,r.get(a)),0)}}catch(t){d.e(t)}finally{d.f()}}}}catch(t){f.e(t)}finally{f.f()}},va:function(){var t,r=this.bf.Gu,n=g(this.Rs.keys());try{for(n.s();!(t=n.n()).done;){var i,e=t.value,o=g(r.keys());try{for(o.s();!(i=o.n()).done;){var s=i.value,u=r.get(s);u.level===e&&u.va()}}catch(t){o.e(t)}finally{o.f()}}}catch(t){n.e(t)}finally{n.f()}this.Rs.clear()},la:function(t,r){if(t.length!=r.length)return!0;for(var n=0;n<t.length;n++){for(var i=!1,e=0;e<r.length;e++)r[e].ya(t[n])&&(i=!0);if(!i)return!0}return!1},Ys:function(){for(var t in this.wf){var r,n=parseInt(t),i=void 0,e=g((i=(this.gf&&this.barrierFree?this.bf:this.df).Gu).keys());try{for(e.s();!(r=e.n()).done;){var o=r.value;i.get(o).Oi===n&&(dij.assignedPts=this.wf[n],dij.Ys(),this.sn.push({Oi:n,sn:dij.Bo()}))}}catch(t){e.e(t)}finally{e.f()}}}}),o),Ve={zh:{straight:"直行",still_go_straight:"继续直行",back_to:"往回走",turn_right:"右转",turn_left:"左转",right_front:"右前方 继续直行",left_front:"左前方 继续直行",turn_right_rear:"右后方转",turn_left_rear:"左后方转",up:"上",down:"下",up_to:"上行到达",down_to:"下行到达",drive_up:"上坡到达",drive_down:"下坡到达",meter:"米",pass:"经过",arrived:"到达目的地",front:"前方",stair:"楼梯",stair_pure:"楼梯",escalator_pure:"扶梯",lift_pure:"直梯",ramp_pure:"坡道",take:"乘",along:"沿",take_stair:"乘梯",along_ramp:"沿坡道",front_pure:"前",right_front_pure:"右前",right_pure:"右",right_back_pure:"右后",back_pure:"后",left_back_pure:"左后",left_pure:"左",left_front_pure:"左前",east:"东",west:"西",south:"南",north:"北",southeast:"东南",northeast:"东北",southwest:"西南",northwest:"西北",face_to:"向",start:"起",dest:"终",enter:"前往",outdoor:"室外",entrance:"入口",exit:"出口",reach:"到达"},en:{straight:"go straight",still_go_straight:"go straight",back_to:"turn back",turn_right:"turn right",turn_left:"turn left",right_front:"go straight right front ",left_front:"go straight left front ",turn_right_rear:"turn right rear",turn_left_rear:"turn left rear",up:"up",down:"up",up_to:"up to",down_to:"down to",drive_up:"drive up",drive_down:"drive down",meter:"meter",pass:"pass",arrived:"arrived",front:"front",stair:"stair",stair_pure:"stair",escalator_pure:"escalator",lift_pure:"lift",ramp_pure:"ramp",take:"take",along:"along",take_stair:"take stair",along_ramp:"along ramp",front_pure:"front",right_front_pure:"right front",right_pure:"right",right_back_pure:"right back",back_pure:"back",left_back_pure:"left back",left_pure:"left",left_front_pure:"left front",east:"east",west:"west",south:"south",north:"north",southeast:"southeast",northeast:"northeast",southwest:"southwest",northwest:"northwest",face_to:"face to",start:"start",dest:"dest",enter:"enter",outdoor:"outdoor",entrance:"entrance",exit:"exit",reach:"reach"}};function Ye(t){return(Ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ze(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,function(t){t=function(t,r){if("object"!==Ye(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0===n)return("string"===r?String:Number)(t);n=n.call(t,r||"default");if("object"!==Ye(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"===Ye(t)?t:String(t)}(i.key),i)}}function Xe(t,r,n){return r&&ze(t.prototype,r),n&&ze(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var o=Xe(function t(r){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this.ba=r.data||null,this.da=r.directionAssert||10,this.pa=r.combineAsset||5,this.ma=r.combineDistance||.1,this.wa=r.language||u.ZH,this.nr=r.type||j.Walk,this.xa=["north","northeast","east","southeast","south","southwest","west","northwest","north"],this.ga=["front_pure","right_front_pure","right_pure","right_back_pure","back_pure","left_back_pure","left_pure","left_front_pure","front_pure"],this._a=["still_go_straight","right_front","turn_right","turn_right_rear","back_to","turn_left_rear","turn_left","left_front","still_go_straight"],this.Sa=0,this.ja=[],this.Oa=!1,this.Ea=0,Object.assign(this,r)}),qe=(Object.assign(o.prototype,{Ta:function(t){for(var r=[],n=0;n<t.length;n++)r=r.concat(t[n].Ri);return r},Ra:function(t,r){var n=Math.PI/4,t=t/n,i=parseInt(t),t=t%1*n;return i%2==0?r<t&&(i+=1):n-r<=t&&(i+=1),i},Ma:function(t,r){var n=r.angleTo(t);return n=new Z(r.x,r.z,r.y).cross(new Z(t.x,t.z,t.y)).z<0?2*Math.PI-n:n},Hn:function(){var t={center:{x:0,y:0,z:0}};return this.ba&&(t.center.x=this.ba.scene.defCenX,t.center.y=this.ba.scene.defCenY,t.center.z=this.ba.scene.defCenZ),t},Na:function(t,r){var n=0;return r.level&&(n=this.ni(r.level).height),new Z(r.x-t.x,t.y+n,-r.y+t.y)},ka:function(t){t=Ve[this.wa][t];return t||""},ni:function(t){var r=null;if(!this.ba)return null;for(var n=this.ba.scene,r={level:t,height:0,gname:"",desc:""},i=0;i<n.layerGroups.length;i++){var e=n.layerGroups[i];if(e.gid===t){r.height=e.height,r.gname=e.gname,r.desc=e.desc;break}}return r},Aa:function(t){if(-1!=t)switch(t){case 2:return" "+this.ka("stair_pure");case 3:return" "+this.ka("escalator_pure");case 1:return" "+this.ka("lift_pure");case 5:return" "+this.ka("ramp_pure");default:return""}return this.ka("stair")},Ia:function(t,r){var n,i,e,o;return r==t.length-1?{index:t[t.length-1].index}:(e=i=new Z(0,0,1),0!=r&&((e=t[r].clone().sub(t[r-1]).normalize()).y=0,e.z*=-1),(o=t[r+1].clone().sub(t[r])).y=0,n=o.length(),(o=o.normalize()).z*=-1,i=this.Ra(this.Ma(i,o),22.5*W.rt()),e=this.Ma(e,o),{relField:o=this.Ra(e,this.da*W.rt()),relDesc:this.ka(this.ga[o]),relAngle:e*W.nt(),absField:i,absDesc:this.ka(this.xa[i]),distance:n,index:t[r].index})},Pa:function(t,r){for(var n=this,i=this.Hn().center,e=t.map(function(t,r){t=n.Na(i,t);return t.index=r,t}),o=[],s=0;s<e.length;s++){var u=this.Ia(e,s);u.point=t[s],u.level=r,o.push(u)}for(var f=[o[0]],a=1;a<o.length;a++)1==a&&o[0].distance<=this.ma?(o[0].distance+=o[a].distance,o[0].relDesc=o[a].relDesc,o[0].relAngle=o[a].relAngle,o[0].absField=o[a].absField,o[0].absDesc=o[a].absDesc):o[a].distance<=this.ma||o[a].relAngle<=this.pa||360-o[a].relAngle<=this.pa?f[f.length-1].distance+=o[a].distance:f.push(o[a]);return f},La:function(t,r){var n=[],i=0;if(r.forEach(function(t){t.Ds&&n.push(i),i++}),0!=n.length)for(;0!=n.length;){for(var e=0;e<t.length-1;e++)if(t[e].index<=n[0]&&t[e+1].index>=n[0]){t[e+1].Ds=!0;break}n.splice(0,1)}},Da:function(t){var r="",t=this.ni(t);return r=null==t||""+(r=this.wa==u.ZH?t.desc:t.gname.toUpperCase())!="null"&&""+r!=""&&""+r!="undefined"?r:t.gname.toUpperCase()},Fa:function(t,r,n,i,e,o){var s,u,f=t[r],a=t[r+1],h=null,c=this.ka(this._a[a.relField]),n=(this.Oa=r==t.length-3&&a.distance<this.Sa,c&&!this.Oa||(i?(this.Oa=!1,c||(h=this.Ca(t[r+1].point,e),e=this.Aa(h),s=null,u=this.Da(i),c=this.nr==j.Drive?(s=n<i?this.ka("drive_up"):this.ka("drive_down"),this.ka("along")+e+" "+s+" "+u):(s=n<i?this.ka("up_to"):this.ka("down_to"),this.ka("take")+e+" "+s+" "+u))):(this.Oa&&(this.Ea=a.distance),o||(c=this.ka("arrived")))),null),n=0==r?2==t.length?this.ka("face_to")+" "+f.absDesc+" "+this.ka("straight")+" "+Math.ceil(f.distance)+" "+this.ka("meter")+" "+c:this.ka("face_to")+" "+f.absDesc+" "+this.ka("straight")+" "+Math.ceil(f.distance)+" "+this.ka("meter")+" "+this.ka(this._a[t[r+1].relField]):this.ka("straight")+" "+Math.ceil(f.distance+(this.Oa&&!i?a.distance:0))+" "+this.ka("meter")+" "+c;return[n=a.Ds?(n+=" ")+this.ka("pass"):n,h]},Ua:function(t,r,n,i,e){var o=t[r],s=t[r+1];return this.ka(this._a[t[r+1].relField])&&!this.Oa||(i?(t=n<i?this.ka("up"):this.ka("down"),s.relDesc=t):s.relDesc=e?this.ka("front_pure"):this.ka("dest")),{startPoint:o.point,startLevel:o.level,startIndex:o.index,endPoint:s.point,endLevel:s.level,endIndex:s.index,startDirection:o.absDesc,endDirection:s.relDesc,distance:o.distance+(this.Oa&&!i?s.distance:0)}},Ca:function(t,r){for(var n,i=Number.MAX_SAFE_INTEGER,e=-1,o=0;o<r.length;o++)r[o]&&(n=Math.pow(r[o].tr.x-t.x,2)+Math.pow(r[o].tr.y-t.y,2))<i&&(i=n,e=r[o].Ui);return e},Ba:function(t){for(var r,n=t.Ga,i=t.Wa,e=t.result,o=[],s=[],u=[],f=null,a=0,h=[],c=!(this.ja=[]),l=null,v=null,t=t.buildingName||this.ka("outdoor"),y=this.Ta(e),b=0;b<e.length;b++){if(r=(m=e[b]).level,f=null,b<e.length-1)for(var d=b;d<e.length;d++)if(e[d].level!=r){f=e[d].level;break}var p,m,w=m.pointList,x=this.Pa(w,r);if(this.La(x,m.Ri),1<x.length&&(this.ja=this.ja.concat(x)),1==x.length)(f||c)&&(c?s.length&&(b==e.length-1&&(i?(o[o.length-1]+=" "+this.ka("arrived"),s[s.length-1].endDirection=this.ka("dest")):s[s.length-1].endDirection=this.ka("front_pure")),s[s.length-1].endPoint=w[0],s[s.length-1].endLevel=r):l!=r&&null!=l||(m=null,p=this.Da(f),v=this.nr===j.Drive?(m=r<f?this.ka("drive_up"):this.ka("drive_down"),this.ka("along_ramp")+" "+m+" "+p):(m=r<f?this.ka("up_to"):this.ka("down_to"),this.ka("take_stair")+" "+m+" "+p),o.push(v),s.push({startPoint:w[0],startDirection:r<f?this.ka("up"):this.ka("down"),startLevel:r})),c=!c);else for(var l=r,g=0;g<x.length-1&&!this.Oa;g++){var _=this.Fa(x,g,r,f,y,i),S=_[0],_=_[1];_&&u.push(_),o.push(S),s.push(this.Ua(x,g,r,f,i))}1<x.length&&(m=x.reduce(function(t,r){return t+(r.distance||0)},0),h.push({level:r,distance:m}),a+=m)}return n&&0<o.length&&(o[0]=this.ka("enter")+" "+t+" "+o[0]),i&&0<o.length&&(t===this.ka("outdoor")?o[o.length-1]=o[o.length-1]+this.ka("reach")+" "+i+" "+this.ka("entrance"):o[o.length-1]=o[o.length-1]+this.ka("reach")+" "+t+" "+this.ka("exit")),[o,s,a,h,this.Ea,u]}}),o);function He(t){return(He="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function E(t,r){var n,i,e,o,s="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(s)return i=!(n=!0),{s:function(){s=s.call(t)},n:function(){var t=s.next();return n=t.done,t},e:function(t){i=!0,e=t},f:function(){try{n||null==s.return||s.return()}finally{if(i)throw e}}};if(Array.isArray(t)||(s=Ke(t))||r&&t&&"number"==typeof t.length)return s&&(t=s),o=0,{s:r=function(){},n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:r};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Qe(t){return function(t){if(Array.isArray(t))return Je(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Ke(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ke(t,r){var n;if(t)return"string"==typeof t?Je(t,r):"Map"===(n="Object"===(n=Object.prototype.toString.call(t).slice(8,-1))&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Je(t,r):void 0}function Je(t,r){(null==r||r>t.length)&&(r=t.length);for(var n=0,i=new Array(r);n<r;n++)i[n]=t[n];return i}function $e(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,function(t){t=function(t,r){if("object"!==He(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0===n)return("string"===r?String:Number)(t);n=n.call(t,r||"default");if("object"!==He(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"===He(t)?t:String(t)}(i.key),i)}}function to(t,r,n){return r&&$e(t.prototype,r),n&&$e(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var o=to(function t(r){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this.Za=r.gate,this.Va=r.bidToOutline,this.Ya=r.bidToOutlineAccess,this.za={},this.Xa={},this.qa=-1,this.Ha=-1,this.Qa=[],this.Ka=[],this.Ja=new Map,this.$a=new Map,this.th=[],this.rh=new Map,this.nh=[],this.ih=new Map,this.eh=new Map,this.oh=new Map,this.zi=null,this.qi=null,this.sh=null,this.uh=null,this.nr=r.type,this.fh=r.barrierFree,this.ah=!1,this.hh=null,this.lh=10,this.yh=2,this.bh()}),ro=(Object.assign(o.prototype,{bh:function(){this.Za&&(this.dh(),this.ph(),this.mh(this.Qa,this.eh),this.mh(this.Ka,this.oh))},dh:function(){for(var t=0;t<this.Za.length;t++){var r=null,n=null,r=null==this.nr||0===this.nr?(n=this.Za[t].accessible,this.Za[t].navi):this.Za[t].drive,i=""==this.Za[t].bid?null:this.Za[t].bid,e=this.Za[t].gid,r=this.wh(r,e,i),n=this.wh(n,e,i);(e=this.th).push.apply(e,Qe(r)),(e=this.nh).push.apply(e,Qe(n)),null==this.za[i]&&(this.za[i]=[]),(e=this.za[i]).push.apply(e,Qe(r)),null==this.Xa[i]&&(this.Xa[i]=[]),(e=this.Xa[i]).push.apply(e,Qe(n))}for(var o=0;o<this.th.length;o++)this.th[o].$r=o,this.rh.set(o,this.th[o]);for(var s=0;s<this.nh.length;s++)this.nh[s].$r=s,this.ih.set(s,this.nh[s])},wh:function(t,r,n){if(null==t)return[];for(var i=[],e=0;e<t.length;e++){var o=t[e];o.level=r,o.bid=n,i.push(o)}return i},ph:function(){this.Qa=this.xh(this.rh);this.Ka=this.xh(this.ih,!0);for(var t=0;t<this.Qa.length;t++)this.Qa[t].$r=t,this.Ja.set(t,this.Qa[t]);for(var r=0;r<this.Ka.length;r++)this.Ka[r].$r=r,this.$a.set(r,this.Ka[r])},xh:function(t,r){for(var n=[],i=Array.from(t.keys()),e=0;e<i.length;e++)for(var o=e+1;o<i.length;o++){var s,u=i[e],f=i[o],a=t.get(u),h=t.get(f);t.get(u).flag==t.get(f).flag&&(s=this.gh(a,h),n.push(s)),t.get(u).bid==t.get(f).bid&&this._h(a,h,r)&&(s=this.gh(a,h),n.push(s))}return n},gh:function(t,r){var n,i,e,o=0,s={};return s.startPoint=t.$r,s.endPoint=r.$r,s.$r=null,t.bid==r.bid?(n={x:t.pts[0],y:t.pts[1]},i={x:r.pts[0],y:r.pts[1]},o=0!=(e=Math.abs(t.level-r.level)*this.lh)||t.extentID!==r.extentID?(W.distance(n,i)+e)*this.yh:W.distance(n,i)+e,s.dist=Number(o.toFixed(5))):s.dist=o,s},_h:function(t,r,n){var i=t.bid,e=this.Sh(t),o=this.Sh(r);return(t.extentID=e)==(r.extentID=o)||(n?this.Ya:this.Va).get(i).Uo(e,o)===A.ROUTE_SUCCESS},Sh:function(t){for(var r,n=null==(r=this.Va.get(t.bid).Oo)?void 0:r.Ee,i=0;i<n.length;i++){var e=n[i].Lo,o=n[i].Oi;if(t.level===o){o={x:t.pts[0],y:t.pts[1]};if(e.de(o))return e.Ki}}return 0},jh:function(t){this.zi=this.qa;var r=t.buildingID||null,n=[],i={type:null,pts:[t.x,t.y],bid:r,level:t.level,$r:this.zi},e=[];if(null==(e=(this.fh?this.Xa:this.za)[r])||0==e.length)return!1;for(var o,s=0;s<e.length;s++)this._h(i,e[s])&&(o=this.gh(i,e[s]))&&(o.$r=this.Ha,n.push(o),(this.fh?(this.Ka.push(o),this.$a):(this.Qa.push(o),this.Ja)).set(this.Ha,o),--this.Ha);return this.fh?(this.nh.push(i),this.ih.set(this.zi,i),this.mh(n,this.oh)):(this.th.push(i),this.rh.set(this.zi,i),this.mh(n,this.eh)),--this.qa,!0},Oh:function(t){this.qi=this.qa;var r=t.buildingID||null,n=[],i={type:null,pts:[t.x,t.y],bid:r,level:t.level,$r:this.qi},e=[];if(null==(e=(this.fh?this.Xa:this.za)[r])||0==e.length)return!1;this.th.push(i),this.rh.set(this.qi,i);for(var o,s=0;s<e.length;s++)this._h(i,e[s])&&(o=this.gh(i,e[s]))&&(o.$r=this.Ha,n.push(o),(this.fh?(this.Ka.push(o),this.$a):(this.Qa.push(o),this.Ja)).set(this.Ha,o),--this.Ha);return this.fh?(this.nh.push(i),this.ih.set(this.qi,i),this.mh(n,this.oh)):(this.th.push(i),this.rh.set(this.qi,i),this.mh(n,this.eh)),--this.qa,!0},mh:function(t,r){for(var n=0;n<t.length;n++){var i=t[n],e=i.startPoint,o=i.endPoint;r.has(e)||r.set(e,new Map),r.get(e).set(o,i.dist),r.has(o)||r.set(o,new Map),r.get(o).set(e,i.dist)}return r},Eh:function(t,r,n){var i=null,e=null;if(this.fh){if(!this.oh.has(t))return!1;for(var o=0;o<r.length;o++)if(!this.oh.has(r[o]))return!1;i=this.ih,e=this.oh}else{if(!this.eh.has(t))return!1;for(var s=0;s<r.length;s++)if(!this.eh.has(r[s]))return!1;i=this.rh,e=this.eh}this.Wo(r,t);var u,f=r.length,a=0,h=E(i.keys());try{for(h.s();!(u=h.n()).done;){var c=u.value;if(i.get(c).Li=c==t?0:Number.MAX_VALUE,i.get(c).Di=!1,i.get(c).Fi=[],n instanceof Array)for(var l=0;l<n.length;l++){if(c!=n[l]&&i.get(c).flag===i.get(n[l]).flag){-1==n.indexOf(c)&&n.push(c);break}if(n.length>=i.size)return!1}}}catch(t){h.e(t)}finally{h.f()}var v=[];for(v.push(t);0<v.length;){var y=v[0],b=(v.splice(0,1),i.get(y));if(!b.Di){b.Di=!0;var d=r.indexOf(y);if(-1!=d&&++a==f)return!0;var p=e.get(y);if(p){var m,w=E(p.keys());try{for(w.s();!(m=w.n()).done;){var x=m.value,g=b.Li+p.get(x),_=i.get(x);n instanceof Array&&n.includes(x)||_.Di||_.Li>g&&(_.Li=g,_.Fi=[],_.Fi.push(y),v.push(x))}}catch(t){w.e(t)}finally{w.f()}v.sort(function(t,r){i.get(t).Li,i.get(r).Li})}}}return!(a<f)},Wo:function(t,r){for(var n=t.indexOf(r);-1!=n;)t.splice(n,1),n=t.indexOf(r)},Do:function(){if(this.fh){if(!this.oh.has(this.zi))return A.ROUTE_FAILED_CANNOT_CALCULATE;if(!this.oh.has(this.qi))return A.ROUTE_FAILED_CANNOT_CALCULATE}else{if(!this.eh.has(this.zi))return A.ROUTE_FAILED_CANNOT_CALCULATE;if(!this.eh.has(this.qi))return A.ROUTE_FAILED_CANNOT_CALCULATE}var t=[];return t.push(this.qi),this.Eh(this.zi,t)?A.ROUTE_SUCCESS:A.ROUTE_FAILED_CANNOT_ARRIVE},Bo:function(){var t=[],r=[];r.push(this.qi),this.Go(r,t);for(var n=0;n<t.length;n++)t[n].paths.reverse();return t},Go:function(t,r){for(var n=0;n<t.length;n++){var i={paths:[],distance:0};i.paths.push(t[n]),this.Vo(t[n],i),r.push(i)}},Vo:function(t,r){var n=null,i=null;if(this.fh){if(0==this.ih.get(t).Fi.length)return;n=this.ih.get(t).Fi[0],i=this.ih.get(t).Li}else{if(0==this.rh.get(t).Fi.length)return;n=this.rh.get(t).Fi[0],i=this.rh.get(t).Li}null!=n&&(r.paths.push(n),r.distance+=i),this.Vo(n,r)},Th:function(t){var r,n=new Map,i=E(t.keys());try{for(i.s();!(r=i.n()).done;){for(var e=r.value,o=W.Ft(t.get(e)),s=(o.bid=e,0),u=0;u<t.get(e).length;u++)s+=t.get(e)[u].level;s=Math.floor(s/t.get(e).length),o.level=s,n.set(e,o)}}catch(t){i.e(t)}finally{i.f()}return n},Rh:function(t){var r,n=null,i=null,e=[],o=E(t.keys());try{for(o.s();!(r=o.n()).done;){var s=r.value,u=this.Mh(t.get(s));u.bid==this.sh?n=u:u.bid==this.uh?i=u:e.push(u)}}catch(t){o.e(t)}finally{o.f()}return null!=n&&e.unshift(n),null!=i&&e.push(i),e},Mh:function(t){for(var r,n=t.bid||null,i=[],e={type:null,pts:[t.x,t.y],bid:t.bid,level:t.level,$r:this.qa},o=[],o=(this.fh?this.Xa:this.za)[n],s=0;s<o.length;s++)this._h(e,o[s])&&(r=this.gh(e,o[s]))&&(r.$r=this.Ha,i.push(r),(this.fh?(this.Ka.push(r),this.$a):(this.Qa.push(r),this.Ja)).set(this.Ha,r),--this.Ha);return this.fh?(this.nh.push(e),this.ih.set(this.qa,e),this.mh(i,this.oh)):(this.th.push(e),this.rh.set(this.qa,e),this.mh(i,this.eh)),--this.qa,e},Nh:function(){if(!this.Za)return null;var t=null;if(this.ah){for(var r=this.Th(this.hh),n=this.Rh(r),i=[],e=1;e<n.length-1;e++)i.push(n[e].$r);var r=n[0].$r,o=[r],s=[],u=n[n.length-1].$r;if(this.kh(r,i,o,s),this.kh(o[o.length-1],[u],o,s),o.length==n.length)return t=this.Ah(s)}return t},Ah:function(t){for(var r=[],n=-1,i=[],e=0;e<t.length;e++)for(var o,s=t[e].paths,u=null,f=0;f<s.length;f++)0<s[f]&&(o=s[f],u=this.rh.get(o),-1==n&&(n=u.bid),u.bid==n?i.push(u):(r.push({bid:n,entrances:i}),i=[u]),n=u.bid),e==t.length-1&&f==s.length-1&&u&&r.push({bid:u.bid,entrances:i});return r},kh:function(t,r,n,i){if(0!=r.length){for(var e,o=null,s=Number.MAX_VALUE,u=null,f=0,a=0;a<r.length;a++)this.Eh(t,[r[a]])&&(this.Vo(r[a],e={paths:[],distance:0}),e.distance<s)&&(s=e.distance,o=r[a],u=e,f=a);o&&(n.push(o),u.paths.reverse(),i.push(u),r.splice(f,1),this.kh(o,r,n,i))}},qn:function(){this.th=this.th.filter(function(t){return 0<=t.$r}),this.nh=this.nh.filter(function(t){return 0<=t.$r}),this.Qa=this.Qa.filter(function(t){return 0<=t.$r}),this.Ka=this.Ka.filter(function(t){return 0<=t.$r});var t,r=E(this.rh.keys());try{for(r.s();!(t=r.n()).done;){var n=t.value;n<0&&this.rh.delete(n)}}catch(t){r.e(t)}finally{r.f()}var i,e=E(this.ih.keys());try{for(e.s();!(i=e.n()).done;){var o=i.value;o<0&&this.ih.delete(o)}}catch(t){e.e(t)}finally{e.f()}var s,u=E(this.Ja.keys());try{for(u.s();!(s=u.n()).done;){var f=s.value;f<0&&this.Ja.delete(f)}}catch(t){u.e(t)}finally{u.f()}var a,h=E(this.$a.keys());try{for(h.s();!(a=h.n()).done;){var c=a.value;c<0&&this.$a.delete(c)}}catch(t){h.e(t)}finally{h.f()}var l,v=E(this.eh.keys());try{for(v.s();!(l=v.n()).done;){var y=l.value;if(y<0)this.eh.delete(y);else{var b,d=E(this.eh.get(y).keys());try{for(d.s();!(b=d.n()).done;){var p=b.value;p<0&&this.eh.get(y).delete(p)}}catch(t){d.e(t)}finally{d.f()}}}}catch(t){v.e(t)}finally{v.f()}var m,w=E(this.oh.keys());try{for(w.s();!(m=w.n()).done;){var x=m.value;if(x<0)this.oh.delete(x);else{var g,_=E(this.oh.get(x).keys());try{for(_.s();!(g=_.n()).done;){var S=g.value;S<0&&this.oh.get(x).delete(S)}}catch(t){_.e(t)}finally{_.f()}}}}catch(t){w.e(t)}finally{w.f()}this.qa=-1,this.Ha=-1}}),o);function no(t){return(no="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function io(t){return function(t){if(Array.isArray(t))return so(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||oo(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function eo(t,r){var n,i,e,o,s="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(s)return i=!(n=!0),{s:function(){s=s.call(t)},n:function(){var t=s.next();return n=t.done,t},e:function(t){i=!0,e=t},f:function(){try{n||null==s.return||s.return()}finally{if(i)throw e}}};if(Array.isArray(t)||(s=oo(t))||r&&t&&"number"==typeof t.length)return s&&(t=s),o=0,{s:r=function(){},n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:r};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function oo(t,r){var n;if(t)return"string"==typeof t?so(t,r):"Map"===(n="Object"===(n=Object.prototype.toString.call(t).slice(8,-1))&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?so(t,r):void 0}function so(t,r){(null==r||r>t.length)&&(r=t.length);for(var n=0,i=new Array(r);n<r;n++)i[n]=t[n];return i}function uo(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,function(t){t=function(t,r){if("object"!==no(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0===n)return("string"===r?String:Number)(t);n=n.call(t,r||"default");if("object"!==no(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"===no(t)?t:String(t)}(i.key),i)}}function fo(t,r,n){return r&&uo(t.prototype,r),n&&uo(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var o=fo(function t(){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this.hr=null,this.Xi=null,this.Hi=null,this.No=null,this.Yu=null,this.nr=null,this.zu=new Map,this.Ih=new Map,this.sn=A.ROUTE_FAILED_CANNOT_ARRIVE,this.Ph=[],this.Lh=null,this.Dh=[],this.pf=null,this.wf=[],this.mf=!1,this.barrierFree=!1,this.jf=[],this.Fh=null}),ao=(Object.assign(o.prototype,{yi:function(t){this.hr=t,this.nr=t.type,this.Fh=t.bid||null;var r,n=new Map,i=eo(this.Ih.keys());try{for(i.s();!(r=i.n()).done;){var e=r.value;n.set(e,this.Ih.get(e).qu)}}catch(t){i.e(t)}finally{i.f()}var o,s=new Map,u=eo(this.Ih.keys());try{for(u.s();!(o=u.n()).done;){var f=o.value;s.set(f,this.Ih.get(f).Hu)}}catch(t){u.e(t)}finally{u.f()}t={gate:this.hr.gate,bidToOutline:n,bidToOutlineAccess:s,type:this.nr,barrierFree:this.barrierFree};this.Ch=new ro(t)},Af:function(t,r,n,i){this.qn(),t.buildingID=void 0!==t.buildingID?t.buildingID:this.Fh,r.buildingID=void 0!==r.buildingID?r.buildingID:this.Fh,this.Xi=t,this.Hi=r,this.No=n,this.Yu=i;var e=[];if(this.Xi.buildingID==this.Hi.buildingID){var o=[[{pts:[t.x,t.y],bid:t.buildingID||null,level:t.level},{pts:[r.x,r.y],bid:r.buildingID||null,level:r.level}]];if(this.sn=this.Uh(o),this.sn==A.ROUTE_SUCCESS||this.sn==A.ROUTE_FAILED_NO_START_ARRIVAL||this.sn==A.ROUTE_FAILED_NO_DEST_ARRIVAL)return this.sn;if(null==this.Ch)return this.sn}if(0==(o=this.Bh(t,r)).length)this.sn=A.ROUTE_FAILED_ENTRANCE;else{for(var s=0;s<o.length;s++)e.push(o[s][0].bid);n=this.Uh(o);this.sn=n}return this.sn},qn:function(){this.sn=A.ROUTE_FAILED_CANNOT_ARRIVE,this.Ph=[],this.Lh=null,this.Dh=[]},Bh:function(t,r){var n=[];if(this.Gh(t,r)===A.ROUTE_SUCCESS)for(var i=this.Wh()[0],e=[],o=0;o<i.length-1;o++){var s=i[o],u=i[o+1];0===e.length&&e.push(s),s.bid===u.bid?(e.push(u),o==i.length-2&&n.push(e)):(n.push(e),e=[])}return n},Uh:function(t){var r,n=new Map,i=new Map;null!=(r=this.Ch)&&r.za&&(i=this.Ch.za);for(var e=0;e<t.length;){if(t[e].length<=1)return A.ROUTE_FAILED_CANNOT_ARRIVE;for(var o=0;o<t[e].length-1;o++){var s,u={},f=(u.x=t[e][o].pts[0],u.y=t[e][o].pts[1],u.level=t[e][o].level,t[e][o].$r),a={},h=(a.x=t[e][o+1].pts[0],a.y=t[e][o+1].pts[1],a.level=t[e][o+1].level,t[e][o+1].$r),c=t[e][o].bid,l=this.Ih.get(c),l=(0!==e&&(s=l.zf(u))&&s.road&&(u=s.coords),e!==t.length-1&&(s=l.zf(a))&&s.road&&(a=s.coords),this.Zh(u,a,c));if(l===A.ROUTE_SUCCESS){u=this.Vh(c);if(this.Dh.push({bid:c,result:u}),o===t[e].length-2){e+=1;break}}else{a=i[c];if(1==t.length)return l;if(e==t.length-1){var u=t[e-1][o].$r,v=h,y=(n[c]=n[c]||[],n[c].push(f),n[c]);if(y.length===a.length)return l;u=this.Yh(u,[v],y);if(u.length<=1)return l;t.splice(e,1),t.splice(e-1,1),t.splice.apply(t,[e-1,0].concat(io(u))),e-=1,this.Dh.pop();break}v=f,y=t[e+1][o+1].$r,u=(n[c]=n[c]||[],n[c].push(h),n[c]);if(u.length===a.length)return l;u=this.Yh(v,[y],u);if(!(1<u.length)){if(n[c].pop(),e<1)return l;var b=t[e-1][o].$r,f=(n[c]=n[c]||[],n[c].push(f),n[c]);if(f.length===a.length)return l;c=this.Yh(b,[h],f);if(c.length<=1)return l;t.splice(e,1),t.splice(e-1,1),t.splice.apply(t,[e-1,0].concat(io(c))),e-=1,this.Dh.pop();break}t.splice(e+1,1),t.splice(e,1),t.splice.apply(t,[e,0].concat(io(u)))}}}return A.ROUTE_SUCCESS},Yh:function(t,r,n){var i=[],e=[],o=[],s=[];if(this.Ch.Eh(t,r,n)){this.Ch.Go(r,i);for(var u=0;u<i.length;u++)i[u].paths.reverse();for(var f=0;f<i.length;f++){for(var a=[],h=0;h<i[f].paths.length;h++)this.barrierFree?a.push(this.Ch.ih.get(i[f].paths[h])):a.push(this.Ch.rh.get(i[f].paths[h]));e.push(a)}for(var c=e[0],l=0;l<c.length-1;l++){var v=c[l],y=c[l+1];0===o.length&&o.push(v),v.bid===y.bid?(o.push(y),l==c.length-2&&s.push(o)):(s.push(o),o=[])}}return s},Zh:function(t,r,n){n=this.Ih.get(n=void 0===n?null:n);return n.barrierFree=this.barrierFree,n.mf=this.toDoors,n.Af(t,r,this.No,this.Yu)},Xh:function(){return this.Dh},qh:function(t){for(var r=[],n=0;n<t.length;n++){var i=this.Vh(t[n]);r.push({bid:t[n],result:i})}return r},Vh:function(t){var t=this.Ih.get(t=void 0===t?null:t),r=t.Wf();return this.pf=t.pf,r},Gh:function(t,r){var n=A.ROUTE_FAILED_CANNOT_ARRIVE;return this.Ch.qn(),this.Ch.fh=this.barrierFree,n=this.Ch.jh(t)&&this.Ch.Oh(r)?this.Ch.Do():n},Wh:function(){for(var t=this.Ch.Bo(),r=[],n=0;n<t.length;n++){for(var i=[],e=0;e<t[n].paths.length;e++)this.barrierFree?i.push(this.Ch.ih.get(t[n].paths[e])):i.push(this.Ch.rh.get(t[n].paths[e]));r.push(i)}return r},zf:function(t,r){var n=void 0!==t.buildingID?t.buildingID:this.Fh,n=this.Ih.get(n).zf(t,r);return n&&void 0!==t.buildingID&&(n.coords.buildingID=t.buildingID),n},Ks:function(t){for(var r=new Map,n=0;n<t.length;n++){var i=t[n],e=r.get(i.Fh);e||r.set(i.Fh,e=[]),e.push(i)}var o,s=eo(r.keys());try{for(s.s();!(o=s.n()).done;){var u=o.value;this.Ih.get(u).Ks(t)}}catch(t){s.e(t)}finally{s.f()}},Ys:function(){for(var t in this.wf){var r=parseInt(t),r=this.Ih.get(r),t=(r.wf=this.wf[t],r.Ys(),r.Wf());(r=this.Dh).push.apply(r,io(t))}},Tf:function(t,r,n,i){this.Xi=t,this.Hi=r,this.No=n,this.Yu=i;for(var e=!1,o=0;o<this.jf.length;o++)this.jf[o].order?e=!0:e&&(this.jf[o].order=Number.MAX_VALUE);e&&this.jf.sort(function(t,r){return t.order-r.order}),this.jf.unshift(t),this.jf.push(r);for(var s=0;s<this.jf.length;s++)this.jf[s].buildingID=void 0!==this.jf[s].buildingID?this.jf[s].buildingID:this.Fh;return e?this.Hh(this.jf):(n=this.Qh(this.jf),i=null,this.Ch&&(this.Ch.hh=n,this.Ch.ah=!0,this.Ch.sh=t.buildingID,this.Ch.uh=r.buildingID,i=this.Ch.Nh()),this.Kh(t,r,i,this.jf))},Qh:function(t){for(var r=new Map,n=0;n<t.length;n++){var i=t[n].buildingID||null;r.has(i)||r.set(i,[]),r.get(i).push(t[n])}return r},Kh:function(t,r,n,i){var e=[],o=null;if(i.shift(),i.pop(),n)for(var s=this.Qh(i),u=0;u<n.length;u++){var f,a,h,c,l,v=n[u].bid;if(0==u?(a={x:n[u].entrances[0].pts[0],y:n[u].entrances[0].pts[1],level:n[u].entrances[0].level},s.has(v)?(f=s.get(v),o=this.Jh(t,a,v,f),s.delete(v)):o=this.Zh(t,a,v)):u==n.length-1?(f={x:n[u].entrances[0].pts[0],y:n[u].entrances[0].pts[1],level:n[u].entrances[0].level},s.has(v)?(a=s.get(v),o=this.Jh(f,r,v,a),s.delete(v)):o=this.Zh(f,r,v)):(h={x:n[u].entrances[0].pts[0],y:n[u].entrances[0].pts[1],level:n[u].entrances[0].level},c={x:n[u].entrances[1].pts[0],y:n[u].entrances[1].pts[1],level:n[u].entrances[1].level},s.has(v)?(l=s.get(v),o=this.Jh(h,c,v,l),s.delete(v)):o=this.Zh(h,c,v)),o!==A.ROUTE_SUCCESS)break;b=this.Vh(v),e.push({bid:v,result:b})}else{var y=t.buildingID||null,o=this.Jh(t,r,y,i),b=this.Vh(y);e.push({bid:y,result:b})}return this.Dh=e,this.sn=o},Hh:function(t){for(var r=[],n=null,i=0;i<t.length-1;i++)if(t[i].buildingID==t[i+1].buildingID){var e=t[i].buildingID;if((n=this.Zh(t[i],t[i+1],e))!=A.ROUTE_SUCCESS)return n;e={bid:e,result:this.Vh(e)},r.push(e)}else{var o=this.Bh(this.jf[i],this.jf[i+1]);if((n=this.Uh(o))!=A.ROUTE_SUCCESS)return n;for(var s=[],u=0;u<o.length;u++)s.push(o[u][0].bid);e=this.qh(s),r.push.apply(r,io(e))}return this.Dh=r,this.sn=n},Jh:function(t,r,n,i){n=this.Ih.get(n),n.jf=i,i=n.Tf(t,r);return n.jf=null,i},vr:function(){this.hr=null,this.Dh=null,this.Ph=null,this.Lh=null;var t,r=eo(this.Ih.keys());try{for(r.s();!(t=r.n()).done;){var n=t.value;this.Ih.get(n).vr()}}catch(t){r.e(t)}finally{r.f()}}}),o);function ho(t){return(ho="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function V(t,r){var n,i,e,o,s="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(s)return i=!(n=!0),{s:function(){s=s.call(t)},n:function(){var t=s.next();return n=t.done,t},e:function(t){i=!0,e=t},f:function(){try{n||null==s.return||s.return()}finally{if(i)throw e}}};if(Array.isArray(t)||(s=lo(t))||r&&t&&"number"==typeof t.length)return s&&(t=s),o=0,{s:r=function(){},n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:r};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function co(t){return function(t){if(Array.isArray(t))return vo(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||lo(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lo(t,r){var n;if(t)return"string"==typeof t?vo(t,r):"Map"===(n="Object"===(n=Object.prototype.toString.call(t).slice(8,-1))&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?vo(t,r):void 0}function vo(t,r){(null==r||r>t.length)&&(r=t.length);for(var n=0,i=new Array(r);n<r;n++)i[n]=t[n];return i}function yo(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,function(t){t=function(t,r){if("object"!==ho(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0===n)return("string"===r?String:Number)(t);n=n.call(t,r||"default");if("object"!==ho(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"===ho(t)?t:String(t)}(i.key),i)}}var o=function(){function i(t,r,n){if(!(this instanceof i))throw new TypeError("Cannot call a class as a function");this.hr=Object.assign({tile:!0,isPreview:!1},t),this.$h=new Map,this.tc=null,this.rc=[],this.nc=[],this.ic=[],this.isExistAccess=!0,this.isExistNavi=!0,this.isExistDrive=!0,this.load_cnt=0,this.Ch=null,this.ec=void 0!==t.mapID?t.mapID:null,this.oc=null,this.si=!!t.map,this.ui=t.map?t.map.getDataManager():new yi,this.sc=1,this.uc={radius:.5,dash:{size:4,gap:2}},this.ci=r,this.li=n,this.nr=t.type,this.fc=new Map,this.ac=new Map,this.vi=Si.generateUUID(),this.hc=null,this.yi()}var t,r,n;return t=i,(r=[{key:"setObstructions",value:function(t){this.tc&&this.tc.Ks(t)}},{key:"route",value:function(t,r,n){this.tc.toDoors=void 0!==t.toDoors&&t.toDoors,this.tc.obstruct=void 0===t.obstruct||t.obstruct;var i=A.ROUTE_FAILED_CANNOT_ARRIVE;if((i=t.viapoints&&0<t.viapoints.length?(this.tc.jf=t.viapoints,this.tc.Tf(t.start,t.dest,t.mode||_.MODULE_SHORTEST,t.priority||w.PRIORITY_DEFAULT)):this.tc.Af(t.start,t.dest,t.mode||_.MODULE_SHORTEST,t.priority||w.PRIORITY_DEFAULT))===A.ROUTE_SUCCESS){this.rc=this.tc.Xh();var e=null,o=null;this.nc=[];for(var s=0;s<this.rc.length;s++)0<s&&(e=this.hr.bidToName.get(this.rc[s-1].bid)?this.hr.bidToName.get(this.rc[s-1].bid):"outdoor"),s<this.rc.length-1&&(o=this.hr.bidToName.get(this.rc[s+1].bid)?this.hr.bidToName.get(this.rc[s+1].bid):"outdoor"),this.rc[s].Ga=e,this.rc[s].Wa=o,o=e=null,this.rc[s].buildingName=this.hr.bidToName.get(this.rc[s].bid),this.nc.push([this.cc(this.rc[s],{language:u.ZH}),this.cc(this.rc[s],{language:u.EN})]);this.oc=this.tc.pf,r&&r(this.Si())}else n&&n(i)}},{key:"dispose",value:function(){this.lc=null,this.rc=[],this.nc=[],this.tc&&(this.tc.vr(),this.tc=null)}},{key:"pathConstraint",value:function(t,r){return this.tc?this.tc.zf(t,r):null}},{key:"getNaviGraph",value:function(t){var r=t.buildingID,t=t.level;return null!=r?null!=t?this.tc.zu.get(r).get(t):this.tc.zu.get(r):null!=t?this.tc.zu.get(null).get(t):co(this.tc.zu.values())}},{key:"query",value:function(t,r,n,i){var e=[],o=null,o=n?this.tc.Ih.get(n):this.tc.Ih.get(null),s=i?o.Xu:o.zu;if(s){if(null==t){var u,f=V(s.keys());try{for(f.s();!(u=f.n()).done;){var a=u.value;e.push({level:a,roadRanks:r,roadVector:s.get(a).Te.slice(0)})}}catch(t){f.e(t)}finally{f.f()}}else if(null==r)e.push({level:t,roadRanks:r,roadVector:s.get(t).Te.slice(0)});else{for(var h=[],c=s.get(t).Te,l=0;l<r.length;l++)for(var v=0;v<c.length;v++)c[v].te===r[l]&&h.push(c[v]);e.push({level:t,roadRanks:r,roadVector:h})}for(var y=0;y<e.length;y++)for(var b=0;b<e[y].roadVector.length;b++)e[y].roadVector[b]=Object.assign({},this.vc(e[y].roadVector[b])),n&&(e[y].roadVector[b].buildingID=n)}return e}},{key:"intersectionRoadsByCircle",value:function(t,r,n){var i;if(!n||!n.roadVector||n.roadVector.length<=0)return null;var e,o=null==n.roadVector[0].buildingID?null:n.roadVector[0].buildingID,s={center:t,radius:r,points:[]},u=t.x-r,f=t.x+r,a=t.y-r,h=t.y+r,c=[],l=new Map,v=V(n.roadVector);try{for(v.s();!(e=v.n()).done;){var y,b=e.value,d=W.Ct(t,r,b.startPoint,b.endPoint);if(!(d.length<1)){var p=b.roadEntry,m=b.endId;if(W.distance(b.endPoint,t)>r&&((p=p===P.Entry_FORWARD?Ri.Entry_BACK:p)===P.Entry_BACK&&(p=Ri.Entry_FORWARD),m=b.startId),p===Ri.Entry_FORWARD||p===Ri.Entry_BOTH){var w,x=V(d);try{for(x.s();!(w=x.n()).done;){var g=w.value;g.direction=p,g.yc=m}}catch(t){x.e(t)}finally{x.f()}(y=s.points).push.apply(y,co(d)),b.startPoint.x>=u&&b.startPoint.x<=f&&b.startPoint.y>=a&&b.startPoint.y<=h&&c.push(b.startId),b.endPoint.x>=u&&b.endPoint.x<=f&&b.endPoint.y>=a&&b.endPoint.y<=h&&c.push(b.endId)}}}}catch(t){v.e(t)}finally{v.f()}for(var n=n.level,_=(null==(i=this.tc.Ih)?void 0:i.get(o)).zu.get(n).Ie,S=0,j=c;S<j.length;S++){var O=j[S];l.set(O,_.get(O))}var E,T=V(s.points);try{for(T.s();!(E=T.n()).done;){var R=E.value;R.branch=this.bc(l,R.yc,t.nodeID)}}catch(t){T.e(t)}finally{T.f()}return s}},{key:"queryNode",value:function(t){var r=t.buildingID?this.tc.Ih.get(buildingID):this.tc.Ih.get(null);if(null!=r){var n=(r=(t.barrierFree?r.Xu:r.zu).get(t.level)).Be(t.point);if(!(n<=0))for(var i=r.Te,e=new Set,o=0;o<i.length;o++)if(n===i[o].Ki){if(!e.has(i[o].zi)&&W._compare(t.point,i[o].Xi))return t.nodeID=i[o].zi,t;if(!e.has(i[o].qi)&&W._compare(t.point,i[o].Hi))return t.nodeID=i[o].qi,t;e.add(i[o].zi),e.add(i[o].qi)}}return null}},{key:"constraintTrack",value:function(t){var r=[];if(!(null==t||t.length<=0)){for(var n=new Map,i=0;i<t.length;i++){var e=void 0===t[i].coords.buildingID?null:t[i].coords.buildingID;n.has(e)?n.get(e).push(t[i]):n.set(e,[t[i]])}if(!(n.size<=0)){var o,s=V(n.keys());try{for(s.s();!(o=s.n()).done;){for(var u=o.value,f=n.get(u),a=new Set,h=new Set,c=0;c<f.length;c++)a.add(f[c].coords.level),h.add(f[c].road.roadRank);if(a.size<=0)return r;var l=Array.from(a),v=Array.from(h);this.dc(l,v,u)}}catch(t){s.e(t)}finally{s.f()}for(var y=t.length-1,b=0;b<y;b++){var d=this.mc(t[b],t[b+1]);r.push(t[b].coords),r.push.apply(r,co(d)),b+1==y&&r.push(t[b+1].coords)}}}return r}}])&&yo(t.prototype,r),n&&yo(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(),bo=(Object.assign(o.prototype,{yi:function(){this.si&&(t=this.hr.map.getMapOptions(),this.hr.mapID=t.mapID,this.hr.appName=t.appName,this.hr.key=t.key,this.hr.license=t.license,this.hr.mapURL=t.mapURL,this.hr.mapURLAbsolute=t.mapURLAbsolute,this.hr.navigationData=t.navigationData,this.hr.buildingOptions=t.buildingOptions,this.hr.type=this.nr);var t={buildingID:this.hr.mapID,appName:this.hr.appName,key:this.hr.key,license:this.hr.license,mapURL:this.hr.mapURL,mapURLAbsolute:this.hr.mapURLAbsolute,buildingOptions:this.hr.buildingOptions,navigationData:this.hr.navigationData,merge:this.hr.merge,loadNavi:!0,justDecode:!0,preLoad:!0,isPreview:"undefined"!=typeof KjWzhWlSj&&!!KjWzhWlSj.ProtoDef,tile:this.hr.tile,type:this.hr.type,bid:this.hr.buildingID||null,gate:null,isOutdoor:!0,uuid:this.vi};this.ec||(this.ec=this.hr.mapID),this.$h.set(t.bid,t),this.hr.bidToMid=new Map,this.hr.bidToName=new Map,this.hr.bidToMid.set(t.bid,this.ec),this.tc=new ao,this.mi(t)},mi:function(n){var i=this;setTimeout(function(){n.tile?i.ui.load(n,function(t,r){i.wi(t,r,n)}):i.ui.loadWhole(n,function(t,r){i.wi(t,r,n)})},0)},wi:function(t,r,n){if("error"===t)this.isExistAccess=!1,this.isExistNavi=!1,this.isExistDrive=!1;else if("scene"===t&&r.naviType&&"undefined"!=r.naviType&&0!=r.naviType){this.isExistAccess=!0,this.isExistNavi=!0,this.isExistDrive=!0;var i=r.naviType;1===i?(this.isExistAccess=!1,this.isExistNavi=!1,this.isExistDrive=!1):(8<=i&&(i-=8),this.isExistAccess=!1,4<=i?i-=4:this.nr===j.Drive&&(this.isExistDrive=!1),i<=0&&!this.isExistAccess&&this.nr===j.Walk&&(this.isExistNavi=!1)),this.load_cnt++,this.isExistAccess||this.isExistNavi||this.nr!==j.Walk?this.isExistDrive||this.nr!==j.Drive||this.ic.push({buildingID:n.buildingID,error:"NONE_DRIVE_RODE_NETWORK",data:k.NONE_DRIVE_RODE_NETWORK}):this.ic.push({buildingID:n.buildingID,error:"NONE_WALK_RODE_NETWORK",data:k.NONE_WALK_RODE_NETWORK})}else if("decode"===t){i=new Ze(n);i.yi(r),this.tc.Ih.set(n.bid,i),this.tc.zu.set(n.bid,i.zu),r.gate&&(this.hc=r.gate.floors);for(var e=0;e<(null==(o=r.scene.buildings)?void 0:o.length);e++){var o=r.scene.buildings[e],s={mapID:this.hr.mapID,buildingID:null,appName:this.hr.appName,key:this.hr.key,license:this.hr.license,mapURL:this.hr.mapURL,mapURLAbsolute:this.hr.mapURLAbsolute,merge:this.hr.merge,loadNavi:!0,justDecode:!0,preLoad:!0,isPreview:"undefined"!=typeof KjWzhWlSj,tile:this.hr.tile,type:this.hr.type,bid:null,isOutdoor:!1,uuid:this.vi},s=(s.buildingID=o.mid,s.bid=o.bid,Object.assign({},s));this.$h.set(o.bid,s),this.hr.bidToMid.set(o.bid,o.mid),this.hr.bidToName.set(o.bid,o.name),this.mi(s)}this.tc.Ih.size===this.hr.bidToMid.size&&(null!=this.hc&&this.tc.yi(Object.assign(this.hr,{gate:this.hc})),0!==this.load_cnt&&this.ic.length>=this.load_cnt?this.li&&this.li({result:this.ic}):(this.ic={state:t,error:"0",data:null},this.ci&&this.ci()))}},Si:function(){for(var t={buildings:[],distance:0,subs:[],viapoints:[]},r=0;r<this.rc.length;r++){var n,i={buildingID:null,buildingName:null,levels:[],distance:0},e=this.rc[r].bid,o=this.rc[r].buildingName,s=this.wc(this.rc[r],this.nc[r],e),u=(i.levels=s.levels,i.distance=s.distance,t.distance+=i.distance,r!==this.rc.length-1&&s.subs[s.subs.length-1]&&(s.subs[s.subs.length-1].transfer=N.TRANSFER_ENTRANCE),i.buildingID=e==this.ec?null:e,i.buildingName=o||null,V(s.subs));try{for(u.s();!(n=u.n()).done;){var f=n.value;f.buildingID=i.buildingID,f.buildingName=i.buildingName}}catch(t){u.e(t)}finally{u.f()}t.buildings.push(i),(e=t.subs).push.apply(e,co(s.subs)),(o=t.viapoints).push.apply(o,co(s.viapoints))}return t},wc:function(t,r,n){if(0==t.length||0==r.length)return null;for(var i={viapoints:[],subs:[],levels:[],distance:0},e=r[0].descriptions,o=r[0].descriptionsData,s=r[1].descriptions,u=r[1].descriptionsData,f=r[0].ladderList,a=0,h=[],c=!1,l=[],v=0;v<o.length;v++){var y={instruction:{zh:null,en:null},waypoint:{points:null,direction:{zh:null,en:null}},viapoint:null,levels:null,distance:Number.NaN,buildingID:null},b=e[v],d=o[v],p=s[v],m=u[v],b=(y.instruction.zh=b,y.instruction.en=p,y.levels=[d.startLevel,d.endLevel],y.distance=void 0!==d.distance?d.distance:0,y.waypoint.direction.zh=[d.startDirection,d.endDirection||d.startDirection],y.waypoint.direction.en=[m.startDirection,m.endDirection||m.startDirection],y.levels[0]!=y.levels[1]?(c=!0,h.push.apply(h,co(y.levels)),y.transfer=f[a],a+=1):0!=h.length&&h.slice(-1)[0]==y.levels[0]&&!c||(h.push(y.levels[0]),c=!1),this.xc([d.startIndex,d.endIndex],h,t.result));y.waypoint.points=b.points,b.via&&-1==l.indexOf(b.via)&&(y.viapoint=Object.assign({},b.via.tr),i.viapoints.push(Object.assign({},b.via.tr)),l.push(b.via)),i.distance+=y.distance,y.buildingID=n,i.subs.push(y)}for(var w=0;w<h.length;w++)0!=i.levels.length&&i.levels.slice(-1)[0]==h[w]||i.levels.push(h[w]);return i.door=this.oc,i},xc:function(t,r,n){for(var i=[],e=[],o=null,s=[],u=0;u<n.length;u++){var f=n[u];if(s.push(f.Oi),r.toString()==s.toString()){var a=r[r.length-1],h=f.Ti,c=f.Ri;if(void 0===t[0]||void 0===t[1])i.push(Object.assign({level:f.Oi},f.Ti[0])),e.push(f.Ri[0]),f=n[u-1],i.unshift(Object.assign({level:f.Oi},f.Ti[0])),e.unshift(f.Ri[0]);else for(var l=t[0];l<=t[1];l++)i.push({x:h[l].x,y:h[l].y,level:a}),e.push(c[l]);break}}return e.forEach(function(t){t.Ds&&(o=t)}),{points:i,via:o}},cc:function(t,r){var n=t.bid,i=t.result;return this.gc(i)?(i=new qe(Object.assign({data:this.ui.getDecode(this.$h.get(n)),directionAssert:10,combineAsset:10,language:u.ZH},r)).Ba(t),n=this._c(i[5]),{descriptions:i[0],descriptionsData:i[1],distance:i[2],distances:i[3],ladderList:n}):{}},_c:function(t){for(var r=0;r<t.length;r++)switch(t[r]){case 1:t[r]=N.TRANSFER_LIFT;break;case 2:t[r]=N.TRANSFER_STAIR;break;case 3:t[r]=N.TRANSFER_ESCALATOR;break;case 4:t[r]=N.TRANSFER_ACCESSIBLE;break;case 5:t[r]=N.TRANSFER_RAMP;break;default:return}return t},Sc:function(t){this.tc.wf=t,this.tc.Ys(),this.rc=this._navi.Wf()},jc:function(){return this.rc},Oc:function(t){var r=t||this.rc;if(!this.gc(r))return[];var n,i=[];for(n in r)r[n].getPointList&&i.push.apply(i,co(r[n].pointList));return i},Ec:function(t){var r=t||this.rc;if(!this.gc(r))return[];for(var n=[],i=0;i<r.length;i++){for(var e=r[i],o=e.level,s=e.pointList,u={level:o,points:[]},f=0;f<s.length;f++)u.points.push(Object.assign({},s[f]));n.push(u)}return n},Tc:function(t){t=t||this.rc;if(!this.gc(t))return 0;var r=this.Oc(t);if(0==r.length)return 0;for(var n=0,i=0;i<r.length-1;i++)n+=W.bt(r[i],r[i+1]);return n},Rc:function(t){var r=t||this.rc;if(!this.gc(r))return[];var n,i=[];for(n in r)!r[n].level||0!=n&&i[i.length-1]==r[n].level||i.push(r[n].level);return i},Mc:function(t,r){var n=r||this.rc;if(!this.gc(n))return[];var i,e=[];for(i in n)n[i].level&&n[i].level==t&&(e=e.concat(n[i].pointList));return e},gc:function(t){if(!Array.isArray(t))return!1;if(0==t.length)return!1;for(var r=0;r<t.length;r++)if(!(t[r]instanceof ki))return!1;return!0},Nc:function(e,t){if(0===e.length)return null;null==t&&(t={});for(var r=Object.assign({},this.uc),o=(t&&t.style&&Object.assign(r,t.style),1===this.nr&&(r.color="#002FA7"),t&&t.height?t.height:this.sc),s=[],u=0;u<e.length;u++)!function(){var t=e[u],r=t.pointList;if(0===r.length)return;var t=t.level,n=[],i=(r.forEach(function(t){var r=parseFloat(""+t.x),t=parseFloat(""+t.y);n.push({x:r,y:t,z:o})}),r.length<2&&(i=parseFloat(""+r[0].x),r=parseFloat(""+r[0].y),n.push({x:i,y:r,z:o})),new fengmap.FMSegment);i.level=t,i.points=n,s.push(i)}();r=new fengmap.FMLineMarker(Object.assign({segments:s},r));return r.passed=t&&t.passed?t.passed:this._linePassed,r},vc:function(t){return{id:t.$r,startPoint:{x:t.Xi.x,y:t.Xi.y},endPoint:{x:t.Hi.x,y:t.Hi.y},startId:t.zi,endId:t.qi,roadRank:t.te,roadEntry:t.re}},bc:function(t,r,n){if(0!=t.length&&null!=t.get(r)&&null!=t.get(n)){var i,e=new Map,o=V(t.keys());try{for(o.s();!(i=o.n()).done;){var s=i.value;e.set(s,!1)}}catch(t){o.e(t)}finally{o.f()}for(var u=[r];0<u.length;){var f=u[0];if(e.get(f))u.splice(0,1);else{if(e.set(f,!0),u.splice(0,1),f==n)return!1;var a=t.get(f);if(!a||2<a.length)return!0;for(var h=0;h<a.length;h++)u.push(a[h].eo)}}return!0}},mc:function(t,r){var n=[];if(t.coords.buildingID==r.coords.buildingID&&t.coords.level==r.coords.level){var i=null==t.buildingID?null:t.buildingID,e=t.coords.level,o=this.fc.get(i).get(e),s=t.road.id,u=r.road.id,f=o.get(s),o=o.get(u),a=t.coords.buildingID,h=null==this.ac.get(a)?[]:this.ac.get(a),i=a?this.tc.Ih.get(i):this.tc.Ih.get(null);if(f!=o){for(var c=null,l=0;l<h.length;l++)if(h[l].level==e&&null!=h[l].ptsBwteenRoad){c=h[l].ptsBwteenRoad;break}null!=c&&null!=c.get(s)&&null!=c.get(s).get(u)?n=c.get(s).get(u):(f=i._multiFloorDijkstraMap.get(e),n=this.kc(t,r,f),null==c?((c=new Map).set(s,new Map),c.get(s).set(u,n),h.push({level:e,ptsBwteenRoad:c}),this.ac.set(a,h)):(null==c.get(s)&&c.set(s,new Map),c.get(s).set(u,n)))}}return n},dc:function(t,r,n,i){var e,o=new Map;if(null==(e=(n=null==n?null:n)?this.tc.Ih.get(n):this.tc.Ih.get(null)))return null;for(var s=i?e.Xu:e.zu,u=0;u<t.length;u++){var f=t[u],a=s.get(f).Te,h=[],c=void 0;if(null!=r&&0<r.length){for(var l=0;l<r.length;l++)for(var v=0;v<a.length;v++)a[v].te===r[l]&&h.push(a[v]);c=this.Ac(h)}else c=this.Ac(a);o.set(f,c)}this.fc.set(n,o)},Ac:function(t){for(var r=new Map,n=new Map,i=0,e=0;e<t.length;e++)n.set(t[e].$r,[0,0]),r.set(t[e].$r,-1);for(var o=0;o<t.length;o++){var s=t[o];if(1!=n.get(s.$r)[0]||1!=n.get(s.$r)[1]){for(var u=s.zi,f=s.qi,a=new Z(s.Hi.x-s.Xi.x,s.Hi.y-s.Xi.y),h=o+1;h<t.length;h++){var c=t[h];if(s.te==c.te){var l=c.zi,v=c.qi,y=r.get(s.$r),b=r.get(c.$r),d=void 0,d=-1==y&&-1==b?-1:-1!=y&&(-1==b||y<=b)?y:b,p=new Z(c.Hi.x-c.Xi.x,c.Hi.y-c.Xi.y);if(0==n.get(s.$r)[0]){if(u==l){if(a.multiplyScalar(-1).angleTo(p)*W.nt()<=5){if(d=-1==d?++i:d,r.set(s.$r,d),r.set(c.$r,d),n.get(s.$r)[0]=1,-(n.get(c.$r)[0]=1)!=b&&b!=d){var m,w=V(r.keys());try{for(w.s();!(m=w.n()).done;){var x=m.value;r.get(x)==b&&r.set(x,d)}}catch(t){w.e(t)}finally{w.f()}}if(-1!=y&&y!=d){var g,_=V(r.keys());try{for(_.s();!(g=_.n()).done;){var S=g.value;r.get(S)==y&&r.set(S,d)}}catch(t){_.e(t)}finally{_.f()}}}continue}if(u==v){if(a.multiplyScalar(-1).angleTo(p.multiplyScalar(-1))*W.nt()<=5){if(d=-1==d?++i:d,r.set(s.$r,d),r.set(c.$r,d),n.get(s.$r)[0]=1,-(n.get(c.$r)[1]=1)!=b&&b!=d){var j,O=V(r.keys());try{for(O.s();!(j=O.n()).done;){var E=j.value;r.get(E)==b&&r.set(E,d)}}catch(t){O.e(t)}finally{O.f()}}if(-1!=y&&y!=d){var T,R=V(r.keys());try{for(R.s();!(T=R.n()).done;){var M=T.value;r.get(M)==y&&r.set(M,d)}}catch(t){R.e(t)}finally{R.f()}}}continue}}if(0==n.get(s.$r)[1])if(f==l){if(a.angleTo(p)*W.nt()<=5){if(d=-1==d?++i:d,r.set(s.$r,d),r.set(c.$r,d),n.get(s.$r)[1]=1,-(n.get(c.$r)[0]=1)!=b&&b!=d){var N,k=V(r.keys());try{for(k.s();!(N=k.n()).done;){var A=N.value;r.get(A)==b&&r.set(A,d)}}catch(t){k.e(t)}finally{k.f()}}if(-1!=y&&y!=d){var D,I=V(r.keys());try{for(I.s();!(D=I.n()).done;){var F=D.value;r.get(F)==y&&r.set(F,d)}}catch(t){I.e(t)}finally{I.f()}}}}else if(f==v)if(a.angleTo(p.multiplyScalar(-1))*W.nt()<=5){if(d=-1==d?++i:d,r.set(s.$r,d),r.set(c.$r,d),n.get(s.$r)[1]=1,-(n.get(c.$r)[1]=1)!=b&&b!=d){var C,P=V(r.keys());try{for(P.s();!(C=P.n()).done;){var U=C.value;r.get(U)==b&&r.set(U,d)}}catch(t){P.e(t)}finally{P.f()}}if(-1!=y&&y!=d){var B,L=V(r.keys());try{for(L.s();!(B=L.n()).done;){var G=B.value;r.get(G)==y&&r.set(G,d)}}catch(t){L.e(t)}finally{L.f()}}}}}-1==r.get(s.$r)&&r.set(s.$r,++i)}}return r},kc:function(t,r,n){var i=[],e=t.coords,t=t.road,o=r.coords,r=r.road,s=n.Bs(e),u=n.Bs(o);if(null!=t&&null!=r&&e.level==o.level&&t.extentID==r.extentID&&s==u){var u=null,f=null,a=e.level,f=W.dt(o,t.startPoint)<=W.dt(o,t.endPoint)?(u=t.startPoint,t.startID):(u=t.endPoint,t.endID),e=null,e=W.dt(u,r.startPoint)<=W.dt(u,r.endPoint)?(r.startPoint,r.startID):(r.endPoint,r.endID),o=n.Oo,t=o.oo(f),u=[o.oo(e)],r=n.du(s);if(r.Co(o,t,u)){r.Mo=e;for(var h=r.Bo(),c=h.length-1;0<=c;c--)i.push(Object.assign({level:a},h[c].tr))}}return i}}),o);function po(t){return(po="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function mo(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,function(t){t=function(t,r){if("object"!==po(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0===n)return("string"===r?String:Number)(t);n=n.call(t,r||"default");if("object"!==po(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"===po(t)?t:String(t)}(i.key),i)}}function wo(t,r){return(wo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t})(t,r)}function xo(n){var i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,r=go(n),r=(t=i?(t=go(this).constructor,Reflect.construct(r,arguments,t)):r.apply(this,arguments),this);if(t&&("object"===po(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==r)return r;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function go(t){return(go=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}o=function(){var t=o,r=bo;if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&wo(t,r);var n,i,e=xo(o);function o(t,r,n){if(this instanceof o)return e.call(this,t,r,n);throw new TypeError("Cannot call a class as a function")}return t=o,n&&mo(t.prototype,n),i&&mo(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}();function _o(t){return(_o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function So(t){return function(t){if(Array.isArray(t))return jo(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,r){var n;if(t)return"string"==typeof t?jo(t,r):"Map"===(n="Object"===(n=Object.prototype.toString.call(t).slice(8,-1))&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?jo(t,r):void 0}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function jo(t,r){(null==r||r>t.length)&&(r=t.length);for(var n=0,i=new Array(r);n<r;n++)i[n]=t[n];return i}function Oo(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,function(t){t=function(t,r){if("object"!==_o(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0===n)return("string"===r?String:Number)(t);n=n.call(t,r||"default");if("object"!==_o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"===_o(t)?t:String(t)}(i.key),i)}}function Eo(t,r,n){return r&&Oo(t.prototype,r),n&&Oo(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var To=Eo(function t(r){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function");this.Fh=void 0!==r.buildingID?r.buildingID:null,this.Oi=void 0!==r.level?r.level:null,this.fe=void 0!==r.points?r.points:null,this.fu=-1,this.Ht=null,this.yi()});Object.assign(To.prototype,{yi:function(){this.fe&&(this.Ht=new Jt,this.Ht.Vt(this.fe),this.fu=this.fe.length,this.fe[0].x==this.fe[this.fu-1].x&&this.fe[0].y==this.fe[this.fu-1].y?this.fu--:this.fe.push(this.fe[0]))},Cu:function(t,r){return W.ut(t,r,this.Ht.Gt,this.Ht.Wt)},ao:function(t){return!!W.ht(t,this.Ht.min,this.Ht.max)&&W.vt(t,this.fe,this.fu)},Ic:function(t){var r=0;return this.ao(t[0])&&(r|=1),this.ao(t[1])&&(r|=2),r},fo:function(t,r){if(!W.ut(t[0],t[1],this.Ht.min,this.Ht.max))return!1;for(var n,i,e=!1,o=0;o<this.fu;o++){var s={};1==W.jt(t[0],t[1],this.fe[o],this.fe[o+1],s)&&(e=!0,r.push(s))}return t[0].x!=t[1].x?(n=t[0].x<t[1].x,r.sort(function(t,r){return n?t.x-r.x:r.x-t.x})):(i=t[0].y<t[1].y,r.sort(function(t,r){return i?t.y-r.y:r.y-t.y})),e},Pc:function(t,r){for(var n=[],i=(n.push(t[0]),n.push.apply(n,So(r)),n.push(t[1]),[]),e=0;e<n.length-1;e++)i.push([n[e],n[e+1]]);return i},ya:function(t){if(this.Fh!=t.bid||this.Oi!=t.Oi)return!1;if(this.fe.length!=t.fe.length)return!1;for(var r=0;r<this.fe.length;r++){if(this.fe[r].x!=t.fe[r].x)return!1;if(this.fe[r].y!=t.fe[r].y)return!1}return!0}});function Ro(t){return(Ro="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Mo(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,function(t){t=function(t,r){if("object"!==Ro(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0===n)return("string"===r?String:Number)(t);n=n.call(t,r||"default");if("object"!==Ro(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"===Ro(t)?t:String(t)}(i.key),i)}}function No(t,r){return(No=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t})(t,r)}function ko(n){var i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,r=Ao(n),r=(t=i?(t=Ao(this).constructor,Reflect.construct(r,arguments,t)):r.apply(this,arguments),this);if(t&&("object"===Ro(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==r)return r;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function Ao(t){return(Ao=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Io=function(){var t=e,r=bo;if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&No(t,r);var n,i=ko(e);function e(t,r,n){if(this instanceof e)return t.type=j.Drive,i.call(this,t,r,n);throw new TypeError("Cannot call a class as a function")}return t=e,(r=[{key:"route",value:function(t,r,n){this.tc.obstruct=void 0===t.obstruct||t.obstruct;var i=A.ROUTE_FAILED_CANNOT_ARRIVE;if((i=t.viapoints&&0<t.viapoints.length?(this.tc.jf=t.viapoints,this.tc.Tf(t.start,t.dest)):this.tc.Af(t.start,t.dest,t.mode||_.MODULE_SHORTEST,t.priority||w.PRIORITY_DEFAULT))===A.ROUTE_SUCCESS){this.rc=this.tc.Xh();var e=null,o=null;this.nc=[];for(var s=0;s<this.rc.length;s++)0<s&&(e=this.hr.bidToName.get(this.rc[s-1].bid)?this.hr.bidToName.get(this.rc[s-1].bid):"outdoor"),s<this.rc.length-1&&(o=this.hr.bidToName.get(this.rc[s+1].bid)?this.hr.bidToName.get(this.rc[s+1].bid):"outdoor"),this.rc[s].Ga=e,this.rc[s].Wa=o,o=e=null,this.rc[s].buildingName=this.hr.bidToName.get(this.rc[s].bid),this.nc.push([this.cc(this.rc[s],{language:u.ZH,type:j.Drive}),this.cc(this.rc[s],{language:u.EN,type:j.Drive})]);this.oc=this.tc.pf,r&&r(this.Si())}else n&&n(i)}}])&&Mo(t.prototype,r),n&&Mo(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function Po(t){return(Po="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Lo(t,r){for(var n=0;n<r.length;n++){var i=r[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,function(t){t=function(t,r){if("object"!==Po(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0===n)return("string"===r?String:Number)(t);n=n.call(t,r||"default");if("object"!==Po(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"===Po(t)?t:String(t)}(i.key),i)}}function Do(t,r){return(Do=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t})(t,r)}function Fo(n){var i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,r=Co(n),r=(t=i?(t=Co(this).constructor,Reflect.construct(r,arguments,t)):r.apply(this,arguments),this);if(t&&("object"===Po(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");if(void 0!==r)return r;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}}function Co(t){return(Co=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Uo,Bo=function(){var t=e,r=bo;if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&Do(t,r);var n,i=Fo(e);function e(t,r,n){if(this instanceof e)return t.type=j.Walk,i.call(this,t,r,n);throw new TypeError("Cannot call a class as a function")}return t=e,(r=[{key:"route",value:function(t,r,n){this.tc.toDoors=void 0!==t.toDoors&&t.toDoors,this.tc.obstruct=void 0===t.obstruct||t.obstruct,this.tc.barrierFree=void 0!==t.barrierFree&&t.barrierFree;var i=A.ROUTE_FAILED_CANNOT_ARRIVE;if((i=t.viapoints&&0<t.viapoints.length?(this.tc.jf=t.viapoints,this.tc.Tf(t.start,t.dest,t.mode||_.MODULE_SHORTEST,t.priority||w.PRIORITY_DEFAULT)):this.tc.Af(t.start,t.dest,t.mode||_.MODULE_SHORTEST,t.priority||w.PRIORITY_DEFAULT))===A.ROUTE_SUCCESS){this.rc=this.tc.Xh();var e=null,o=null;this.nc=[];for(var s=0;s<this.rc.length;s++)0<s&&(e=this.hr.bidToName.get(this.rc[s-1].bid)?this.hr.bidToName.get(this.rc[s-1].bid):"outdoor"),s<this.rc.length-1&&(o=this.hr.bidToName.get(this.rc[s+1].bid)?this.hr.bidToName.get(this.rc[s+1].bid):"outdoor"),this.rc[s].Ga=e,this.rc[s].Wa=o,o=e=null,this.rc[s].buildingName=this.hr.bidToName.get(this.rc[s].bid),this.nc.push([this.cc(this.rc[s],{language:u.ZH}),this.cc(this.rc[s],{language:u.EN})]);this.oc=this.tc.pf,r&&r(this.Si())}else n&&n(i)}}])&&Lo(t.prototype,r),n&&Lo(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),t=t(28),Go={VERSION:T,BUILD:R,XMLHttpRequest:t.a,FMType:M,FMNaviMode:_,FMNaviPriority:w,FMRouteResult:A,FMLanguageType:u,FMNaviTransfer:N,FMRoadNetworkResult:k,FMSearchRequest:r,FMSearchAnalyser:n,FMNaviAnalyser:o,FMNaviObstruction:To,FMNaviDriveAnalyser:Io,FMNaviWalkAnalyser:Bo},t=Nr.a.global(),Wo=void 0!==t?t.fengmap:{};for(Uo in void 0===Wo&&(Wo={}),Go)Wo[Uo]=Go[Uo];void 0!==t&&(t.fengmap=Wo);S.default=Wo}]).default});