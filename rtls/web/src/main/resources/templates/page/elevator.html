<!DOCTYPE html>
<html xmlns:shiro="http://www.pollix.at/thymeleaf/shiro">

<head>
  <meta charset="UTF-8">
  <title>电梯管理</title>
  <link rel="stylesheet" href="../css/common/common.css" />
  <link rel="stylesheet" href="../css/list.css" />
  <script src="../js/common/jquery-1.8.0.min.js"></script>
  <script src="../js/common/url.js"></script>
  <script src="../js/common/common.js"></script>
  <script src="../js/common/page.js"></script>
  <script src="../fMap/2/fengmap.core.min.js"></script>
  <script src="../fMap/2/fengmap.control.min.js"></script>
  <script src="../js/common/initFmap3.js"></script>
  <script src="../js/elevator.js"></script>
</head>

<body>
  <div class="contentTop">
    <span class="contentTitle">电梯管理</span>
    <div class="search">
      <div class="searchItem seleBox">
        关联地图：
        <div class="batchBox mapWidth" onclick="switchSele(event)">
          <div name="map" class="batchTxt" data-val="">--请选择关联地图--</div>
          <div class="batchList" id="mapSelect">
            <div onclick="seleBatch(this,'')">--请选择关联地图--</div>
          </div>
        </div>

      </div>

      <div class="searchItem seleBox">
        楼栋：<input type="text" autocomplete="off" name="building" id="building"
          onkeyup="this.value=this.value.replace(/\s/g,'')" class="searchInp" placeholder="请输入楼栋" />
      </div>

      <div class="searchItem seleBox">
        楼层：<input type="text" autocomplete="off" name="floorName" id="floorName"
          onkeyup="this.value=this.value.replace(/\s/g,'')" class="searchInp" placeholder="请输入楼层" />
      </div>

      <div class="searchItem seleBox">
        电梯名称：<input type="text" autocomplete="off" name="name" id="name"
          onkeyup="this.value=this.value.replace(/\s/g,'')" class="searchInp" placeholder="请输入电梯名称" />
      </div>

      <div class="searchItem seleBox">
        类型：
        <div class="batchBox" onclick="switchSele(event)">
          <div name="objectType" class="batchTxt" data-val="">--请选择--</div>
          <div class="batchList">
            <div onclick="seleBatch(this,'')">--请选择--</div>
            <div onclick="seleBatch(this,'200005')">步行梯</div>
            <div onclick="seleBatch(this,'340818')">手扶电梯</div>
            <div onclick="seleBatch(this,'340855')">电梯前室</div>
            <div onclick="seleBatch(this,'200004')">直升电梯</div>
          </div>
        </div>
      </div>

      <span class="searchBtn" onclick="search()">搜索</span>
      <span class="searchBtn resetBtn" onclick="resetSearch()">重置</span>
      <shiro:hasPermission name="peb:add">
        <div class="topBtn">
          <span onclick="addCompany()">新增</span>
        </div>
      </shiro:hasPermission>
    </div>
  </div>
  <!-- 信息 -->
  <div class="wrap">
    <table class="tab" id="tab">
      <thead>
        <tr>
          <td name="line" class="line">序号</td>
          <td name="mapName">关联地图</td>
          <td name="building">楼栋</td>
          <td name="floorName">楼层</td>
          <td name="name">电梯名称</td>
          <td name="objectType">类型</td>
          <td name="placeList">关联车位</td>
          <td name="operating">操作</td>
        </tr>
      </thead>
      <tbody></tbody>
    </table>
    <div class="listFooter clearfix">
      <label class="seleLabel">
        <input id="allCheck" onclick="allCheck(this)" type="checkbox" class="tabCheck" name="tabCheck">
        <span class="seleIcon"></span>全选</label>
      <shiro:hasPermission name="peb:del">
        <span class="deleBtn" onclick="showAllDele()">删除</span>
      </shiro:hasPermission>
      <div class="page">
        <span id="total" class="total"></span>
        <span class="turnPage prev" onclick="prevPage()"></span>
        <ul class="pageList"></ul>
        <span class="turnPage next" onclick="nextPage(this)"></span>
        跳至<input type="text" value="1" class="jumpPage" onkeyup="jumpCurPage(this,event)" />页
      </div>
    </div>
  </div>
  <!-- 提示 -->
  <div class="tips" id="tip"></div>
  <!-- 遮罩 -->
  <div class="mask" id="mask"></div>
  <!-- 确认提示框 -->
  <div class="confimPop" id="delePop">
    <div class="confimPopTop">
      <span class="popClose" onclick="hidePop('#delePop')"></span>
    </div>
    <div class="confimPopInfo">
      <p class="confimPopTitle">是否删除？</p>
      <p class="txtOverFlow">电梯名称：<span id="deleTxt"></span></p>
    </div>
    <div class="confimPopFooter">
      <span class="confimPopEnt" onclick="entDele()">确定</span>
      <span class="confimPopCancel" onclick="hidePop('#delePop')">取消</span>
    </div>
  </div>

  <!-- 公司所在位置 -->
  <div class="mapPop" id="mapPop">
    <div class="mapPopTop">
      电梯所在位置
      <div class="close" onclick="hidePop('#mapPop')"></div>
    </div>
    <div class="fengmap" id="fengmap">
      <!--设备控件，2D/3D切换-->
      <div class="viewMode3">
        <div class="viewMode" onclick="changeMode(this)"></div>
      </div>
    </div>
  </div>

  <div id="operating" class="hidden">
    <shiro:hasAnyPermissions name="peb:edit,peb:see">
      <span class="tabOper" id="editBtn">编辑</span>
    </shiro:hasAnyPermissions>

    <shiro:hasPermission name="peb:del">
      <span class="tabOper deleOpa" id="deleteBtn">删除</span>
    </shiro:hasPermission>
  </div>
  <iframe id="addFrame" class="frameClass"></iframe>
  <iframe id="editFrame" class="frameClass"></iframe>
</body>
<script>
  //回车搜索
  $("#name").keydown(function (event) {
    if (event.keyCode === 13) {
      search(); //搜索
    }
  });
</script>

</html>